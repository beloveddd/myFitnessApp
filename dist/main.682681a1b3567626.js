"use strict";(self.webpackChunkmy_fitness_app=self.webpackChunkmy_fitness_app||[]).push([[179],{697:(wt,Fe,F)=>{F.d(Fe,{nm:()=>mi});var h=F(186);F(879),F(182);var Ce=F(861),Be=F(534),we=F(537),Ue=F(58),Ye=F(676);const ht=new Map,Re={activated:!1,tokenObservers:[]},Nt={initialized:!1,enabled:!1};function St(me){return ht.get(me)||Object.assign({},Re)}function Yn(){return Nt}const kn="https://content-firebaseappcheck.googleapis.com/v1",un="exchangeDebugToken",Ie={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Oe{constructor(he,Me,Ke,Qe,Ge){if(this.operation=he,this.retryPolicy=Me,this.getWaitDuration=Ke,this.lowerBound=Qe,this.upperBound=Ge,this.pending=null,this.nextErrorWaitInterval=Qe,Qe>Ge)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(he){var Me=this;return(0,Ce.Z)(function*(){Me.stop();try{Me.pending=new Ue.BH,yield function Ne(me){return new Promise(he=>{setTimeout(he,me)})}(Me.getNextRun(he)),Me.pending.resolve(),yield Me.pending.promise,Me.pending=new Ue.BH,yield Me.operation(),Me.pending.resolve(),yield Me.pending.promise,Me.process(!0).catch(()=>{})}catch(Ke){Me.retryPolicy(Ke)?Me.process(!1).catch(()=>{}):Me.stop()}})()}getNextRun(he){if(he)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Me=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Me}}}const Pe=new Ue.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Et(me){if(!St(me).activated)throw Pe.create("use-before-activation",{appName:me.name})}function an(me,he){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,Ce.Z)(function*({url:me,body:he},Me){const Ke={"Content-Type":"application/json"},Qe=Me.getImmediate({optional:!0});if(Qe){const Qt=yield Qe.getHeartbeatsHeader();Qt&&(Ke["X-Firebase-Client"]=Qt)}const Ge={method:"POST",body:JSON.stringify(he),headers:Ke};let vt,gt;try{vt=yield fetch(me,Ge)}catch(Qt){throw Pe.create("fetch-network-error",{originalErrorMessage:Qt?.message})}if(200!==vt.status)throw Pe.create("fetch-status-error",{httpStatus:vt.status});try{gt=yield vt.json()}catch(Qt){throw Pe.create("fetch-parse-error",{originalErrorMessage:Qt?.message})}const It=gt.ttl.match(/^([\d.]+)(s)$/);if(!It||!It[2]||isNaN(Number(It[1])))throw Pe.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${gt.ttl}`});const Zt=1e3*Number(It[1]),Fn=Date.now();return{token:gt.token,expireTimeMillis:Fn+Zt,issuedAtTimeMillis:Fn}})).apply(this,arguments)}function Ln(me,he){const{projectId:Me,appId:Ke,apiKey:Qe}=me.options;return{url:`${kn}/projects/${Me}/apps/${Ke}:${un}?key=${Qe}`,body:{debug_token:he}}}const lt="firebase-app-check-database",Vn=1,er="firebase-app-check-store";let Ht=null;function An(){return(An=(0,Ce.Z)(function*(me,he){const Ke=(yield function Nn(){return Ht||(Ht=new Promise((me,he)=>{try{const Me=indexedDB.open(lt,Vn);Me.onsuccess=Ke=>{me(Ke.target.result)},Me.onerror=Ke=>{var Qe;he(Pe.create("storage-open",{originalErrorMessage:null===(Qe=Ke.target.error)||void 0===Qe?void 0:Qe.message}))},Me.onupgradeneeded=Ke=>{0===Ke.oldVersion&&Ke.target.result.createObjectStore(er,{keyPath:"compositeKey"})}}catch(Me){he(Pe.create("storage-open",{originalErrorMessage:Me?.message}))}}),Ht)}()).transaction(er,"readwrite"),Ge=Ke.objectStore(er).put({compositeKey:me,value:he});return new Promise((vt,gt)=>{Ge.onsuccess=It=>{vt()},Ke.onerror=It=>{var Zt;gt(Pe.create("storage-set",{originalErrorMessage:null===(Zt=It.target.error)||void 0===Zt?void 0:Zt.message}))}})})).apply(this,arguments)}const pn=new Ye.Yd("@firebase/app-check");function pr(me,he){return(0,Ue.hl)()?function jr(me,he){return function Vt(me,he){return An.apply(this,arguments)}(function Dn(me){return`${me.options.appId}-${me.name}`}(me),he)}(me,he).catch(Me=>{pn.warn(`Failed to write token to IndexedDB. Error: ${Me}`)}):Promise.resolve()}function $r(){return Yn().enabled}function bi(){return or.apply(this,arguments)}function or(){return(or=(0,Ce.Z)(function*(){const me=Yn();if(me.enabled&&me.token)return me.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ar={error:"UNKNOWN_ERROR"};function nr(me){return Ue.US.encodeString(JSON.stringify(me),!1)}function $n(me){return vr.apply(this,arguments)}function vr(){return(vr=(0,Ce.Z)(function*(me,he=!1){const Me=me.app;Et(Me);const Ke=St(Me);let Ge,Qe=Ke.token;if(Qe&&!W(Qe)&&(Ke.token=void 0,Qe=void 0),!Qe){const It=yield Ke.cachedTokenPromise;It&&(W(It)?Qe=It:yield pr(Me,void 0))}if(!he&&Qe&&W(Qe))return{token:Qe.token};let gt,vt=!1;if($r()){Ke.exchangeTokenPromise||(Ke.exchangeTokenPromise=an(Ln(Me,yield bi()),me.heartbeatServiceProvider).finally(()=>{Ke.exchangeTokenPromise=void 0}),vt=!0);const It=yield Ke.exchangeTokenPromise;return yield pr(Me,It),Ke.token=It,{token:It.token}}try{Ke.exchangeTokenPromise||(Ke.exchangeTokenPromise=Ke.provider.getToken().finally(()=>{Ke.exchangeTokenPromise=void 0}),vt=!0),Qe=yield St(Me).exchangeTokenPromise}catch(It){"appCheck/throttled"===It.code?pn.warn(It.message):pn.error(It),Ge=It}return Qe?Ge?gt=W(Qe)?{token:Qe.token,internalError:Ge}:pe(Ge):(gt={token:Qe.token},Ke.token=Qe,yield pr(Me,Qe)):gt=pe(Ge),vt&&function ne(me,he){const Me=St(me).tokenObservers;for(const Ke of Me)try{"EXTERNAL"===Ke.type&&null!=he.error?Ke.error(he.error):Ke.next(he)}catch{}}(Me,gt),gt})).apply(this,arguments)}function rn(me){return dr.apply(this,arguments)}function dr(){return(dr=(0,Ce.Z)(function*(me){const he=me.app;Et(he);const{provider:Me}=St(he);if($r()){const Ke=yield bi(),{token:Qe}=yield an(Ln(he,Ke),me.heartbeatServiceProvider);return{token:Qe}}{const{token:Ke}=yield Me.getToken();return{token:Ke}}})).apply(this,arguments)}function se(me,he){const Me=St(me),Ke=Me.tokenObservers.filter(Qe=>Qe.next!==he);0===Ke.length&&Me.tokenRefresher&&Me.tokenRefresher.isRunning()&&Me.tokenRefresher.stop(),Me.tokenObservers=Ke}function H(me){const{app:he}=me,Me=St(he);let Ke=Me.tokenRefresher;Ke||(Ke=function V(me){const{app:he}=me;return new Oe((0,Ce.Z)(function*(){let Ke;if(Ke=St(he).token?yield $n(me,!0):yield $n(me),Ke.error)throw Ke.error;if(Ke.internalError)throw Ke.internalError}),()=>!0,()=>{const Me=St(he);if(Me.token){let Ke=Me.token.issuedAtTimeMillis+.5*(Me.token.expireTimeMillis-Me.token.issuedAtTimeMillis)+3e5;return Ke=Math.min(Ke,Me.token.expireTimeMillis-3e5),Math.max(0,Ke-Date.now())}return 0},Ie.RETRIAL_MIN_WAIT,Ie.RETRIAL_MAX_WAIT)}(me),Me.tokenRefresher=Ke),!Ke.isRunning()&&Me.isTokenAutoRefreshEnabled&&Ke.start()}function W(me){return me.expireTimeMillis-Date.now()>0}function pe(me){return{token:nr(ar),error:me}}class ke{constructor(he,Me){this.app=he,this.heartbeatServiceProvider=Me}_delete(){const{tokenObservers:he}=St(this.app);for(const Me of he)se(this.app,Me.next);return Promise.resolve()}}const Wn="app-check-internal";!function ei(){(0,Be._registerComponent)(new we.wA("app-check",me=>function at(me,he){return new ke(me,he)}(me.getProvider("app").getImmediate(),me.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((me,he,Me)=>{me.getProvider(Wn).initialize()})),(0,Be._registerComponent)(new we.wA(Wn,me=>function Dt(me){return{getToken:he=>$n(me,he),getLimitedUseToken:()=>rn(me),addTokenListener:he=>function en(me,he,Me,Ke){const{app:Qe}=me,Ge=St(Qe);if(Ge.tokenObservers=[...Ge.tokenObservers,{next:Me,error:Ke,type:he}],Ge.token&&W(Ge.token)){const gt=Ge.token;Promise.resolve().then(()=>{Me({token:gt.token}),H(me)}).catch(()=>{})}Ge.cachedTokenPromise.then(()=>H(me))}(me,"INTERNAL",he),removeTokenListener:he=>se(me.app,he)}}(me.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Be.registerVersion)("@firebase/app-check","0.8.0")}();class mi{constructor(){return(0,h.vb)("app-check")}}typeof window<"u"&&window},796:(wt,Fe,F)=>{F.d(Fe,{zQ:()=>kn,ww:()=>K,rT:()=>Nt,f7:()=>jn,L6:()=>ht,_Q:()=>Re,lh:()=>St,Qv:()=>Ye,nw:()=>Yn});var h=F(879),oe=F(8645),$=F(2096),fe=F(5592),ce=F(459),de=F(19),_e=F(93),xe=F(4664),be=F(7398),te=F(552);class ie extends oe.x{constructor(un=1/0,Ie=1/0,De=te.l){super(),this._bufferSize=un,this._windowTime=Ie,this._timestampProvider=De,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ie===1/0,this._bufferSize=Math.max(1,un),this._windowTime=Math.max(1,Ie)}next(un){const{isStopped:Ie,_buffer:De,_infiniteTimeWindow:Oe,_timestampProvider:Ne,_windowTime:Le}=this;Ie||(De.push(un),!Oe&&De.push(Ne.now()+Le)),this._trimBuffer(),super.next(un)}_subscribe(un){this._throwIfClosed(),this._trimBuffer();const Ie=this._innerSubscribe(un),{_infiniteTimeWindow:De,_buffer:Oe}=this,Ne=Oe.slice();for(let Le=0;Le<Ne.length&&!un.closed;Le+=De?1:2)un.next(Ne[Le]);return this._checkFinalizedStatuses(un),Ie}_trimBuffer(){const{_bufferSize:un,_timestampProvider:Ie,_buffer:De,_infiniteTimeWindow:Oe}=this,Ne=(Oe?1:2)*un;if(un<1/0&&Ne<De.length&&De.splice(0,De.length-Ne),!Oe){const Le=Ie.now();let Pe=0;for(let st=1;st<De.length&&De[st]<=Le;st+=2)Pe=st;Pe&&De.splice(0,Pe+1)}}}var ye=F(20);function Je(qt,un,Ie){let De,Oe=!1;return qt&&"object"==typeof qt?({bufferSize:De=1/0,windowTime:un=1/0,refCount:Oe=!1,scheduler:Ie}=qt):De=qt??1/0,(0,ye.B)({connector:()=>new ie(De,un,Ie),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Oe})}var $e=F(374),dt=F(4674);function Xe(qt,un){return(0,dt.m)(un)?(0,xe.w)(()=>qt,un):(0,xe.w)(()=>qt)}var ft=F(137),it=F(181),Rt=F(186),Tt=F(304),Ce=F(6814),Be=F(697),we=F(142);const Ye=new h.OlP("angularfire2.auth.use-emulator"),ht=new h.OlP("angularfire2.auth.settings"),Re=new h.OlP("angularfire2.auth.tenant-id"),Nt=new h.OlP("angularfire2.auth.langugage-code"),St=new h.OlP("angularfire2.auth.use-device-language"),jn=new h.OlP("angularfire.auth.persistence"),Yn=(qt,un,Ie,De,Oe,Ne,Le,Pe)=>(0,Tt.cc)(`${qt.name}.auth`,"AngularFireAuth",qt.name,()=>{const st=un.runOutsideAngular(()=>qt.auth());if(Ie&&st.useEmulator(...Ie),De&&(st.tenantId=De),st.languageCode=Oe,Ne&&st.useDeviceLanguage(),Le)for(const[Et,gn]of Object.entries(Le))st.settings[Et]=gn;return Pe&&st.setPersistence(Pe),st},[Ie,De,Oe,Ne,Le,Pe]);let kn=(()=>{class qt{constructor(Ie,De,Oe,Ne,Le,Pe,st,Et,gn,At,an,Gt){const Tn=new oe.x,In=(0,$.of)(void 0).pipe((0,_e.Q)(Le.outsideAngular),(0,xe.w)(()=>Ne.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,967)))),(0,be.U)(()=>(0,Tt.on)(Ie,Ne,De)),(0,be.U)(Ln=>Yn(Ln,Ne,Pe,Et,gn,At,st,an)),Je({bufferSize:1,refCount:!1}));if((0,Ce.PM)(Oe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,$.of)(null);else{In.pipe((0,$e.P)()).subscribe();const lt=In.pipe((0,xe.w)(cn=>cn.getRedirectResult().then(Ht=>Ht,()=>null)),Rt.iC,Je({bufferSize:1,refCount:!1})),Vn=In.pipe((0,xe.w)(cn=>new fe.y(Ht=>({unsubscribe:Ne.runOutsideAngular(()=>cn.onAuthStateChanged(Nn=>Ht.next(Nn),Nn=>Ht.error(Nn),()=>Ht.complete()))})))),er=In.pipe((0,xe.w)(cn=>new fe.y(Ht=>({unsubscribe:Ne.runOutsideAngular(()=>cn.onIdTokenChanged(Nn=>Ht.next(Nn),Nn=>Ht.error(Nn),()=>Ht.complete()))}))));this.authState=lt.pipe(Xe(Vn),(0,ft.R)(Le.outsideAngular),(0,_e.Q)(Le.insideAngular)),this.user=lt.pipe(Xe(er),(0,ft.R)(Le.outsideAngular),(0,_e.Q)(Le.insideAngular)),this.idToken=this.user.pipe((0,xe.w)(cn=>cn?(0,ce.D)(cn.getIdToken()):(0,$.of)(null))),this.idTokenResult=this.user.pipe((0,xe.w)(cn=>cn?(0,ce.D)(cn.getIdTokenResult()):(0,$.of)(null))),this.credential=(0,de.T)(lt,Tn,this.authState.pipe((0,it.h)(cn=>!cn))).pipe((0,be.U)(cn=>cn?.user?cn:null),(0,ft.R)(Le.outsideAngular),(0,_e.Q)(Le.insideAngular))}return(0,Tt.pX)(this,In,Ne,{spy:{apply:(Ln,lt,Vn)=>{(Ln.startsWith("signIn")||Ln.startsWith("createUser"))&&Vn.then(er=>Tn.next(er))}}})}}return qt.\u0275fac=function(Ie){return new(Ie||qt)(h.LFG(Tt.Dh),h.LFG(Tt.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Rt.HU),h.LFG(Ye,8),h.LFG(ht,8),h.LFG(Re,8),h.LFG(Nt,8),h.LFG(St,8),h.LFG(jn,8),h.LFG(Be.nm,8))},qt.\u0275prov=h.Yz7({token:qt,factory:qt.\u0275fac,providedIn:"any"}),qt})(),K=(()=>{class qt{constructor(){we.Z.registerVersion("angularfire",Rt.q4.full,"auth-compat")}}return qt.\u0275fac=function(Ie){return new(Ie||qt)},qt.\u0275mod=h.oAB({type:qt}),qt.\u0275inj=h.cJS({providers:[kn]}),qt})()},304:(wt,Fe,F)=>{F.d(Fe,{Dh:()=>xe,GT:()=>de,cc:()=>$e,hO:()=>Je,on:()=>te,pX:()=>ce,xv:()=>be});var h=F(879),oe=F(142),$=F(186);wt=F.hmd(wt);const fe=["ngOnDestroy"],ce=(it,Rt,Tt,Ce={})=>new Proxy(it,{get:(Be,we)=>Tt.runOutsideAngular(()=>{var Ue;if(it[we])return!(null===(Ue=Ce?.spy)||void 0===Ue)&&Ue.get&&Ce.spy.get(we,it[we]),it[we];if(fe.indexOf(we)>-1)return()=>{};const Ye=Rt.toPromise().then(ht=>{const Re=ht&&ht[we];return"function"==typeof Re?Re.bind(ht):Re&&Re.then?Re.then(Nt=>Tt.run(()=>Nt)):Tt.run(()=>Re)});return new Proxy(()=>{},{get:(ht,Re)=>Ye[Re],apply:(ht,Re,Nt)=>Ye.then(St=>{var jn;const Yn=St&&St(...Nt);return!(null===(jn=Ce?.spy)||void 0===jn)&&jn.apply&&Ce.spy.apply(we,Nt,Yn),Yn})})})}),de=(it,Rt)=>{Rt.forEach(Tt=>{Object.getOwnPropertyNames(Tt.prototype||Tt).forEach(Ce=>{Object.defineProperty(it.prototype,Ce,Object.getOwnPropertyDescriptor(Tt.prototype||Tt,Ce))})})};class _e{constructor(Rt){return Rt}}const xe=new h.OlP("angularfire2.app.options"),be=new h.OlP("angularfire2.app.name");function te(it,Rt,Tt){const Be="object"==typeof Tt&&Tt||{};Be.name=Be.name||"string"==typeof Tt&&Tt||"[DEFAULT]";const Ue=oe.Z.apps.filter(Ye=>Ye&&Ye.name===Be.name)[0]||Rt.runOutsideAngular(()=>oe.Z.initializeApp(it,Be));try{JSON.stringify(it)!==JSON.stringify(Ue.options)&&ie("error",`${Ue.name} Firebase App already initialized with different options${wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new _e(Ue)}const ie=(it,...Rt)=>{(0,h.X6Q)()&&typeof console<"u"&&console[it](...Rt)},ye={provide:_e,useFactory:te,deps:[xe,h.R0b,[new h.FiY,be]]};let Je=(()=>{class it{constructor(Tt){oe.Z.registerVersion("angularfire",$.q4.full,"core"),oe.Z.registerVersion("angularfire",$.q4.full,"app-compat"),oe.Z.registerVersion("angular",h.q4F.full,Tt.toString())}static initializeApp(Tt,Ce){return{ngModule:it,providers:[{provide:xe,useValue:Tt},{provide:be,useValue:Ce}]}}}return it.\u0275fac=function(Tt){return new(Tt||it)(h.LFG(h.Lbi))},it.\u0275mod=h.oAB({type:it}),it.\u0275inj=h.cJS({providers:[ye]}),it})();function $e(it,Rt,Tt,Ce,Be){const[,we,Ue]=globalThis.\u0275AngularfireInstanceCache.find(Ye=>Ye[0]===it)||[];if(we)return function dt(it,Rt){try{return it.toString()===Rt.toString()}catch{return it===Rt}}(Be,Ue)||(ft("error",`${Rt} was already initialized on the ${Tt} Firebase App with different settings.${Xe?" You may need to reload as Firebase is not HMR aware.":""}`),ft("warn",{is:Be,was:Ue})),we;{const Ye=Ce();return globalThis.\u0275AngularfireInstanceCache.push([it,Ye,Be]),Ye}}const Xe=!!wt.hot,ft=(it,...Rt)=>{(0,h.X6Q)()&&typeof console<"u"&&console[it](...Rt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},186:(wt,Fe,F)=>{F.d(Fe,{q4:()=>Ra,iC:()=>Oa,HU:()=>Do,vb:()=>xu,JM:()=>Wo});var h=F(879),oe=F(182),$=F(861),fe=F(534),ce=F(58),de=F(537),_e=F(676);const xe=(C,b)=>b.some(L=>C instanceof L);let be,te;const Je=new WeakMap,$e=new WeakMap,dt=new WeakMap,Xe=new WeakMap,ft=new WeakMap;let Tt={get(C,b,L){if(C instanceof IDBTransaction){if("done"===b)return $e.get(C);if("objectStoreNames"===b)return C.objectStoreNames||dt.get(C);if("store"===b)return L.objectStoreNames[1]?void 0:L.objectStore(L.objectStoreNames[0])}return Ue(C[b])},set:(C,b,L)=>(C[b]=L,!0),has:(C,b)=>C instanceof IDBTransaction&&("done"===b||"store"===b)||b in C};function we(C){return"function"==typeof C?function Be(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...b){return C.apply(Ye(this),b),Ue(Je.get(this))}:function(...b){return Ue(C.apply(Ye(this),b))}:function(b,...L){const q=C.call(Ye(this),b,...L);return dt.set(q,b.sort?b.sort():[b]),Ue(q)}}(C):(C instanceof IDBTransaction&&function Rt(C){if($e.has(C))return;const b=new Promise((L,q)=>{const ge=()=>{C.removeEventListener("complete",Ee),C.removeEventListener("error",je),C.removeEventListener("abort",je)},Ee=()=>{L(),ge()},je=()=>{q(C.error||new DOMException("AbortError","AbortError")),ge()};C.addEventListener("complete",Ee),C.addEventListener("error",je),C.addEventListener("abort",je)});$e.set(C,b)}(C),xe(C,function ie(){return be||(be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Tt):C)}function Ue(C){if(C instanceof IDBRequest)return function it(C){const b=new Promise((L,q)=>{const ge=()=>{C.removeEventListener("success",Ee),C.removeEventListener("error",je)},Ee=()=>{L(Ue(C.result)),ge()},je=()=>{q(C.error),ge()};C.addEventListener("success",Ee),C.addEventListener("error",je)});return b.then(L=>{L instanceof IDBCursor&&Je.set(L,C)}).catch(()=>{}),ft.set(b,C),b}(C);if(Xe.has(C))return Xe.get(C);const b=we(C);return b!==C&&(Xe.set(C,b),ft.set(b,C)),b}const Ye=C=>ft.get(C),Nt=["get","getKey","getAll","getAllKeys","count"],St=["put","add","delete","clear"],jn=new Map;function Yn(C,b){if(!(C instanceof IDBDatabase)||b in C||"string"!=typeof b)return;if(jn.get(b))return jn.get(b);const L=b.replace(/FromIndex$/,""),q=b!==L,ge=St.includes(L);if(!(L in(q?IDBIndex:IDBObjectStore).prototype)||!ge&&!Nt.includes(L))return;const Ee=function(){var je=(0,$.Z)(function*(_t,...Ct){const Wt=this.transaction(_t,ge?"readwrite":"readonly");let vn=Wt.store;return q&&(vn=vn.index(Ct.shift())),(yield Promise.all([vn[L](...Ct),ge&&Wt.done]))[0]});return function(Ct){return je.apply(this,arguments)}}();return jn.set(b,Ee),Ee}!function Ce(C){Tt=C(Tt)}(C=>({...C,get:(b,L,q)=>Yn(b,L)||C.get(b,L,q),has:(b,L)=>!!Yn(b,L)||C.has(b,L)}));const kn="@firebase/installations",K="0.6.4",qt=1e4,un=`w:${K}`,Ie="FIS_v2",De="https://firebaseinstallations.googleapis.com/v1",Oe=36e5,st=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Et(C){return C instanceof ce.ZR&&C.code.includes("request-failed")}function gn({projectId:C}){return`${De}/projects/${C}/installations`}function At(C){return{token:C.token,requestStatus:2,expiresIn:Vn(C.expiresIn),creationTime:Date.now()}}function an(C,b){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,$.Z)(function*(C,b){const q=(yield b.json()).error;return st.create("request-failed",{requestName:C,serverCode:q.code,serverMessage:q.message,serverStatus:q.status})})).apply(this,arguments)}function Tn({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Ln(C){return lt.apply(this,arguments)}function lt(){return(lt=(0,$.Z)(function*(C){const b=yield C();return b.status>=500&&b.status<600?C():b})).apply(this,arguments)}function Vn(C){return Number(C.replace("s","000"))}function Ht(){return(Ht=(0,$.Z)(function*({appConfig:C,heartbeatServiceProvider:b},{fid:L}){const q=gn(C),ge=Tn(C),Ee=b.getImmediate({optional:!0});if(Ee){const Wt=yield Ee.getHeartbeatsHeader();Wt&&ge.append("x-firebase-client",Wt)}const _t={method:"POST",headers:ge,body:JSON.stringify({fid:L,authVersion:Ie,appId:C.appId,sdkVersion:un})},Ct=yield Ln(()=>fetch(q,_t));if(Ct.ok){const Wt=yield Ct.json();return{fid:Wt.fid||L,registrationStatus:2,refreshToken:Wt.refreshToken,authToken:At(Wt.authToken)}}throw yield an("Create Installation",Ct)})).apply(this,arguments)}function Nn(C){return new Promise(b=>{setTimeout(b,C)})}const jr=/^[cdef][\w-]{21}$/,Pt="";function jt(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const L=function Vt(C){return function ir(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return jr.test(L)?L:Pt}catch{return Pt}}function An(C){return`${C.appName}!${C.appId}`}const Rn=new Map;function Cr(C,b){const L=An(C);wi(L,b),function Pn(C,b){const L=function nn(){return!pr&&"BroadcastChannel"in self&&(pr=new BroadcastChannel("[Firebase] FID Change"),pr.onmessage=C=>{wi(C.data.key,C.data.fid)}),pr}();L&&L.postMessage({key:C,fid:b}),function fn(){0===Rn.size&&pr&&(pr.close(),pr=null)}()}(L,b)}function wi(C,b){const L=Rn.get(C);if(L)for(const q of L)q(b)}let pr=null;const $r="firebase-installations-database",bi=1,or="firebase-installations-store";let wr=null;function ar(){return wr||(wr=function ht(C,b,{blocked:L,upgrade:q,blocking:ge,terminated:Ee}={}){const je=indexedDB.open(C,b),_t=Ue(je);return q&&je.addEventListener("upgradeneeded",Ct=>{q(Ue(je.result),Ct.oldVersion,Ct.newVersion,Ue(je.transaction))}),L&&je.addEventListener("blocked",()=>L()),_t.then(Ct=>{Ee&&Ct.addEventListener("close",()=>Ee()),ge&&Ct.addEventListener("versionchange",()=>ge())}).catch(()=>{}),_t}($r,bi,{upgrade:(C,b)=>{0===b&&C.createObjectStore(or)}})),wr}function nr(C,b){return $n.apply(this,arguments)}function $n(){return($n=(0,$.Z)(function*(C,b){const L=An(C),ge=(yield ar()).transaction(or,"readwrite"),Ee=ge.objectStore(or),je=yield Ee.get(L);return yield Ee.put(b,L),yield ge.done,(!je||je.fid!==b.fid)&&Cr(C,b.fid),b})).apply(this,arguments)}function vr(C){return rn.apply(this,arguments)}function rn(){return(rn=(0,$.Z)(function*(C){const b=An(C),q=(yield ar()).transaction(or,"readwrite");yield q.objectStore(or).delete(b),yield q.done})).apply(this,arguments)}function dr(C,b){return en.apply(this,arguments)}function en(){return(en=(0,$.Z)(function*(C,b){const L=An(C),ge=(yield ar()).transaction(or,"readwrite"),Ee=ge.objectStore(or),je=yield Ee.get(L),_t=b(je);return void 0===_t?yield Ee.delete(L):yield Ee.put(_t,L),yield ge.done,_t&&(!je||je.fid!==_t.fid)&&Cr(C,_t.fid),_t})).apply(this,arguments)}function se(C){return H.apply(this,arguments)}function H(){return H=(0,$.Z)(function*(C){let b;const L=yield dr(C.appConfig,q=>{const ge=function V(C){return Ut(C||{fid:jt(),registrationStatus:0})}(q),Ee=function ne(C,b){if(0===b.registrationStatus){if(!navigator.onLine)return{installationEntry:b,registrationPromise:Promise.reject(st.create("app-offline"))};const L={fid:b.fid,registrationStatus:1,registrationTime:Date.now()},q=function W(C,b){return pe.apply(this,arguments)}(C,L);return{installationEntry:L,registrationPromise:q}}return 1===b.registrationStatus?{installationEntry:b,registrationPromise:ke(C)}:{installationEntry:b}}(C,ge);return b=Ee.registrationPromise,Ee.installationEntry});return L.fid===Pt?{installationEntry:yield b}:{installationEntry:L,registrationPromise:b}}),H.apply(this,arguments)}function pe(){return pe=(0,$.Z)(function*(C,b){try{const L=yield function cn(C,b){return Ht.apply(this,arguments)}(C,b);return nr(C.appConfig,L)}catch(L){throw Et(L)&&409===L.customData.serverCode?yield vr(C.appConfig):yield nr(C.appConfig,{fid:b.fid,registrationStatus:0}),L}}),pe.apply(this,arguments)}function ke(C){return at.apply(this,arguments)}function at(){return(at=(0,$.Z)(function*(C){let b=yield Dt(C.appConfig);for(;1===b.registrationStatus;)yield Nn(100),b=yield Dt(C.appConfig);if(0===b.registrationStatus){const{installationEntry:L,registrationPromise:q}=yield se(C);return q||L}return b})).apply(this,arguments)}function Dt(C){return dr(C,b=>{if(!b)throw st.create("installation-not-found");return Ut(b)})}function Ut(C){return function bt(C){return 1===C.registrationStatus&&C.registrationTime+qt<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function tr(){return(tr=(0,$.Z)(function*({appConfig:C,heartbeatServiceProvider:b},L){const q=function lr(C,{fid:b}){return`${gn(C)}/${b}/authTokens:generate`}(C,L),ge=function In(C,{refreshToken:b}){const L=Tn(C);return L.append("Authorization",function er(C){return`${Ie} ${C}`}(b)),L}(C,L),Ee=b.getImmediate({optional:!0});if(Ee){const Wt=yield Ee.getHeartbeatsHeader();Wt&&ge.append("x-firebase-client",Wt)}const _t={method:"POST",headers:ge,body:JSON.stringify({installation:{sdkVersion:un,appId:C.appId}})},Ct=yield Ln(()=>fetch(q,_t));if(Ct.ok)return At(yield Ct.json());throw yield an("Generate Auth Token",Ct)})).apply(this,arguments)}function Lr(C){return gr.apply(this,arguments)}function gr(){return gr=(0,$.Z)(function*(C,b=!1){let L;const q=yield dr(C.appConfig,Ee=>{if(!sn(Ee))throw st.create("not-registered");const je=Ee.authToken;if(!b&&function yn(C){return 2===C.requestStatus&&!function sr(C){const b=Date.now();return b<C.creationTime||C.creationTime+C.expiresIn<b+Oe}(C)}(je))return Ee;if(1===je.requestStatus)return L=function Ve(C,b){return Ae.apply(this,arguments)}(C,b),Ee;{if(!navigator.onLine)throw st.create("app-offline");const _t=function qn(C){const b={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:b})}(Ee);return L=function Mt(C,b){return Kt.apply(this,arguments)}(C,_t),_t}});return L?yield L:q.authToken}),gr.apply(this,arguments)}function Ae(){return(Ae=(0,$.Z)(function*(C,b){let L=yield nt(C.appConfig);for(;1===L.authToken.requestStatus;)yield Nn(100),L=yield nt(C.appConfig);const q=L.authToken;return 0===q.requestStatus?Lr(C,b):q})).apply(this,arguments)}function nt(C){return dr(C,b=>{if(!sn(b))throw st.create("not-registered");return function Xr(C){return 1===C.requestStatus&&C.requestTime+qt<Date.now()}(b.authToken)?Object.assign(Object.assign({},b),{authToken:{requestStatus:0}}):b})}function Kt(){return Kt=(0,$.Z)(function*(C,b){try{const L=yield function Yt(C,b){return tr.apply(this,arguments)}(C,b),q=Object.assign(Object.assign({},b),{authToken:L});return yield nr(C.appConfig,q),L}catch(L){if(!Et(L)||401!==L.customData.serverCode&&404!==L.customData.serverCode){const q=Object.assign(Object.assign({},b),{authToken:{requestStatus:0}});yield nr(C.appConfig,q)}else yield vr(C.appConfig);throw L}}),Kt.apply(this,arguments)}function sn(C){return void 0!==C&&2===C.registrationStatus}function es(){return(es=(0,$.Z)(function*(C){const b=C,{installationEntry:L,registrationPromise:q}=yield se(b);return q?q.catch(console.error):Lr(b).catch(console.error),L.fid})).apply(this,arguments)}function Fr(){return Fr=(0,$.Z)(function*(C,b=!1){const L=C;return yield function ps(C){return Wr.apply(this,arguments)}(L),(yield Lr(L,b)).token}),Fr.apply(this,arguments)}function Wr(){return(Wr=(0,$.Z)(function*(C){const{registrationPromise:b}=yield se(C);b&&(yield b)})).apply(this,arguments)}function Ir(C){return st.create("missing-app-config-values",{valueName:C})}const Rr="installations",xi=C=>{const b=C.getProvider("app").getImmediate(),L=function mi(C){if(!C||!C.options)throw Ir("App Configuration");if(!C.name)throw Ir("App Name");const b=["projectId","apiKey","appId"];for(const L of b)if(!C.options[L])throw Ir(L);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(b);return{app:b,appConfig:L,heartbeatServiceProvider:(0,fe._getProvider)(b,"heartbeat"),_delete:()=>Promise.resolve()}},Vr=C=>{const b=C.getProvider("app").getImmediate(),L=(0,fe._getProvider)(b,Rr).getImmediate();return{getId:()=>function li(C){return es.apply(this,arguments)}(L),getToken:ge=>function ao(C){return Fr.apply(this,arguments)}(L,ge)}};(function ms(){(0,fe._registerComponent)(new de.wA(Rr,xi,"PUBLIC")),(0,fe._registerComponent)(new de.wA("installations-internal",Vr,"PRIVATE"))})(),(0,fe.registerVersion)(kn,K),(0,fe.registerVersion)(kn,K,"esm2017");const _i="@firebase/remote-config",Kn=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class mn{constructor(b,L,q,ge){this.client=b,this.storage=L,this.storageCache=q,this.logger=ge}isCachedDataFresh(b,L){if(!L)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const q=Date.now()-L,ge=q<=b;return this.logger.debug(`Config fetch cache check. Cache age millis: ${q}. Cache max age millis (minimumFetchIntervalMillis setting): ${b}. Is cache hit: ${ge}.`),ge}fetch(b){var L=this;return(0,$.Z)(function*(){const[q,ge]=yield Promise.all([L.storage.getLastSuccessfulFetchTimestampMillis(),L.storage.getLastSuccessfulFetchResponse()]);if(ge&&L.isCachedDataFresh(b.cacheMaxAgeMillis,q))return ge;b.eTag=ge&&ge.eTag;const Ee=yield L.client.fetch(b),je=[L.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ee.status&&je.push(L.storage.setLastSuccessfulFetchResponse(Ee)),yield Promise.all(je),Ee})()}}function En(C=navigator){return C.languages&&C.languages[0]||C.language}class Jn{constructor(b,L,q,ge,Ee,je){this.firebaseInstallations=b,this.sdkVersion=L,this.namespace=q,this.projectId=ge,this.apiKey=Ee,this.appId=je}fetch(b){var L=this;return(0,$.Z)(function*(){const[q,ge]=yield Promise.all([L.firebaseInstallations.getId(),L.firebaseInstallations.getToken()]),je=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${L.projectId}/namespaces/${L.namespace}:fetch?key=${L.apiKey}`,_t={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":b.eTag||"*"},Ct={sdk_version:L.sdkVersion,app_instance_id:q,app_instance_id_token:ge,app_id:L.appId,language_code:En()},Wt={method:"POST",headers:_t,body:JSON.stringify(Ct)},vn=fetch(je,Wt),bn=new Promise(($i,wo)=>{b.signal.addEventListener(()=>{const Ja=new Error("The operation was aborted.");Ja.name="AbortError",wo(Ja)})});let qi;try{yield Promise.race([vn,bn]),qi=yield vn}catch($i){let wo="fetch-client-network";throw"AbortError"===$i?.name&&(wo="fetch-timeout"),Kn.create(wo,{originalErrorMessage:$i?.message})}let Kr=qi.status;const pa=qi.headers.get("ETag")||void 0;let no,Ko;if(200===qi.status){let $i;try{$i=yield qi.json()}catch(wo){throw Kn.create("fetch-client-parse",{originalErrorMessage:wo?.message})}no=$i.entries,Ko=$i.state}if("INSTANCE_STATE_UNSPECIFIED"===Ko?Kr=500:"NO_CHANGE"===Ko?Kr=304:("NO_TEMPLATE"===Ko||"EMPTY_CONFIG"===Ko)&&(no={}),304!==Kr&&200!==Kr)throw Kn.create("fetch-status",{httpStatus:Kr});return{status:Kr,eTag:pa,config:no}})()}}class Nr{constructor(b,L){this.client=b,this.storage=L}fetch(b){var L=this;return(0,$.Z)(function*(){const q=(yield L.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return L.attemptFetch(b,q)})()}attemptFetch(b,{throttleEndTimeMillis:L,backoffCount:q}){var ge=this;return(0,$.Z)(function*(){yield function hr(C,b){return new Promise((L,q)=>{const ge=Math.max(b-Date.now(),0),Ee=setTimeout(L,ge);C.addEventListener(()=>{clearTimeout(Ee),q(Kn.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}(b.signal,L);try{const Ee=yield ge.client.fetch(b);return yield ge.storage.deleteThrottleMetadata(),Ee}catch(Ee){if(!function ui(C){if(!(C instanceof ce.ZR&&C.customData))return!1;const b=Number(C.customData.httpStatus);return 429===b||500===b||503===b||504===b}(Ee))throw Ee;const je={throttleEndTimeMillis:Date.now()+(0,ce.$s)(q),backoffCount:q+1};return yield ge.storage.setThrottleMetadata(je),ge.attemptFetch(b,je)}})()}}class js{constructor(b,L,q,ge,Ee){this.app=b,this._client=L,this._storageCache=q,this._storage=ge,this._logger=Ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Zr(C,b){const L=C.target.error||void 0;return Kn.create(b,{originalErrorMessage:L&&L?.message})}const Zn="app_namespace_store";class _a{constructor(b,L,q,ge=function hn(){return new Promise((C,b)=>{try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=q=>{b(Zr(q,"storage-open"))},L.onsuccess=q=>{C(q.target.result)},L.onupgradeneeded=q=>{0===q.oldVersion&&q.target.result.createObjectStore(Zn,{keyPath:"compositeKey"})}}catch(L){b(Kn.create("storage-open",{originalErrorMessage:L?.message}))}})}()){this.appId=b,this.appName=L,this.namespace=q,this.openDbPromise=ge}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(b){return this.set("last_fetch_status",b)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(b){return this.set("last_successful_fetch_timestamp_millis",b)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(b){return this.set("last_successful_fetch_response",b)}getActiveConfig(){return this.get("active_config")}setActiveConfig(b){return this.set("active_config",b)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(b){return this.set("active_config_etag",b)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(b){return this.set("throttle_metadata",b)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(b){var L=this;return(0,$.Z)(function*(){const q=yield L.openDbPromise;return new Promise((ge,Ee)=>{const _t=q.transaction([Zn],"readonly").objectStore(Zn),Ct=L.createCompositeKey(b);try{const Wt=_t.get(Ct);Wt.onerror=vn=>{Ee(Zr(vn,"storage-get"))},Wt.onsuccess=vn=>{const bn=vn.target.result;ge(bn?bn.value:void 0)}}catch(Wt){Ee(Kn.create("storage-get",{originalErrorMessage:Wt?.message}))}})})()}set(b,L){var q=this;return(0,$.Z)(function*(){const ge=yield q.openDbPromise;return new Promise((Ee,je)=>{const Ct=ge.transaction([Zn],"readwrite").objectStore(Zn),Wt=q.createCompositeKey(b);try{const vn=Ct.put({compositeKey:Wt,value:L});vn.onerror=bn=>{je(Zr(bn,"storage-set"))},vn.onsuccess=()=>{Ee()}}catch(vn){je(Kn.create("storage-set",{originalErrorMessage:vn?.message}))}})})()}delete(b){var L=this;return(0,$.Z)(function*(){const q=yield L.openDbPromise;return new Promise((ge,Ee)=>{const _t=q.transaction([Zn],"readwrite").objectStore(Zn),Ct=L.createCompositeKey(b);try{const Wt=_t.delete(Ct);Wt.onerror=vn=>{Ee(Zr(vn,"storage-delete"))},Wt.onsuccess=()=>{ge()}}catch(Wt){Ee(Kn.create("storage-delete",{originalErrorMessage:Wt?.message}))}})})()}createCompositeKey(b){return[this.appId,this.appName,this.namespace,b].join()}}class $s{constructor(b){this.storage=b}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var b=this;return(0,$.Z)(function*(){const L=b.storage.getLastFetchStatus(),q=b.storage.getLastSuccessfulFetchTimestampMillis(),ge=b.storage.getActiveConfig(),Ee=yield L;Ee&&(b.lastFetchStatus=Ee);const je=yield q;je&&(b.lastSuccessfulFetchTimestampMillis=je);const _t=yield ge;_t&&(b.activeConfig=_t)})()}setLastFetchStatus(b){return this.lastFetchStatus=b,this.storage.setLastFetchStatus(b)}setLastSuccessfulFetchTimestampMillis(b){return this.lastSuccessfulFetchTimestampMillis=b,this.storage.setLastSuccessfulFetchTimestampMillis(b)}setActiveConfig(b){return this.activeConfig=b,this.storage.setActiveConfig(b)}}function Yr(){return ln.apply(this,arguments)}function ln(){return(ln=(0,$.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}!function vi(){(0,fe._registerComponent)(new de.wA("remote-config",function C(b,{instanceIdentifier:L}){const q=b.getProvider("app").getImmediate(),ge=b.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Kn.create("registration-window");if(!(0,ce.hl)())throw Kn.create("indexed-db-unavailable");const{projectId:Ee,apiKey:je,appId:_t}=q.options;if(!Ee)throw Kn.create("registration-project-id");if(!je)throw Kn.create("registration-api-key");if(!_t)throw Kn.create("registration-app-id");const Ct=new _a(_t,q.name,L=L||"firebase"),Wt=new $s(Ct),vn=new _e.Yd(_i);vn.logLevel=_e.in.ERROR;const bn=new Jn(ge,fe.SDK_VERSION,L,Ee,je,_t),qi=new Nr(bn,Ct),Kr=new mn(qi,Ct,Wt,vn),pa=new js(q,Kr,Wt,Ct,vn);return function vt(C){const b=(0,ce.m9)(C);b._initializePromise||(b._initializePromise=b._storageCache.loadFromStorage().then(()=>{b._isInitializationComplete=!0}))}(pa),pa},"PUBLIC").setMultipleInstances(!0)),(0,fe.registerVersion)(_i,"0.4.4"),(0,fe.registerVersion)(_i,"0.4.4","esm2017")}();const rr=(C,b)=>b.some(L=>C instanceof L);let ho,yr;const xr=new WeakMap,Li=new WeakMap,Gn=new WeakMap,Br=new WeakMap,Ts=new WeakMap;let ns={get(C,b,L){if(C instanceof IDBTransaction){if("done"===b)return Li.get(C);if("objectStoreNames"===b)return C.objectStoreNames||Gn.get(C);if("store"===b)return L.objectStoreNames[1]?void 0:L.objectStore(L.objectStoreNames[0])}return di(C[b])},set:(C,b,L)=>(C[b]=L,!0),has:(C,b)=>C instanceof IDBTransaction&&("done"===b||"store"===b)||b in C};function Ss(C){return"function"==typeof C?function Mo(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ki(){return yr||(yr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...b){return C.apply(Ws(this),b),di(xr.get(this))}:function(...b){return di(C.apply(Ws(this),b))}:function(b,...L){const q=C.call(Ws(this),b,...L);return Gn.set(q,b.sort?b.sort():[b]),di(q)}}(C):(C instanceof IDBTransaction&&function ci(C){if(Li.has(C))return;const b=new Promise((L,q)=>{const ge=()=>{C.removeEventListener("complete",Ee),C.removeEventListener("error",je),C.removeEventListener("abort",je)},Ee=()=>{L(),ge()},je=()=>{q(C.error||new DOMException("AbortError","AbortError")),ge()};C.addEventListener("complete",Ee),C.addEventListener("error",je),C.addEventListener("abort",je)});Li.set(C,b)}(C),rr(C,function Dr(){return ho||(ho=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,ns):C)}function di(C){if(C instanceof IDBRequest)return function ys(C){const b=new Promise((L,q)=>{const ge=()=>{C.removeEventListener("success",Ee),C.removeEventListener("error",je)},Ee=()=>{L(di(C.result)),ge()},je=()=>{q(C.error),ge()};C.addEventListener("success",Ee),C.addEventListener("error",je)});return b.then(L=>{L instanceof IDBCursor&&xr.set(L,C)}).catch(()=>{}),Ts.set(b,C),b}(C);if(Br.has(C))return Br.get(C);const b=Ss(C);return b!==C&&(Br.set(C,b),Ts.set(b,C)),b}const Ws=C=>Ts.get(C);function Gs(C,b,{blocked:L,upgrade:q,blocking:ge,terminated:Ee}={}){const je=indexedDB.open(C,b),_t=di(je);return q&&je.addEventListener("upgradeneeded",Ct=>{q(di(je.result),Ct.oldVersion,Ct.newVersion,di(je.transaction))}),L&&je.addEventListener("blocked",()=>L()),_t.then(Ct=>{Ee&&Ct.addEventListener("close",()=>Ee()),ge&&Ct.addEventListener("versionchange",()=>ge())}).catch(()=>{}),_t}function zs(C,{blocked:b}={}){const L=indexedDB.deleteDatabase(C);return b&&L.addEventListener("blocked",()=>b()),di(L).then(()=>{})}const Ro=["get","getKey","getAll","getAllKeys","count"],Un=["put","add","delete","clear"],Cs=new Map;function va(C,b){if(!(C instanceof IDBDatabase)||b in C||"string"!=typeof b)return;if(Cs.get(b))return Cs.get(b);const L=b.replace(/FromIndex$/,""),q=b!==L,ge=Un.includes(L);if(!(L in(q?IDBIndex:IDBObjectStore).prototype)||!ge&&!Ro.includes(L))return;const Ee=function(){var je=(0,$.Z)(function*(_t,...Ct){const Wt=this.transaction(_t,ge?"readwrite":"readonly");let vn=Wt.store;return q&&(vn=vn.index(Ct.shift())),(yield Promise.all([vn[L](...Ct),ge&&Wt.done]))[0]});return function(Ct){return je.apply(this,arguments)}}();return Cs.set(b,Ee),Ee}!function Es(C){ns=C(ns)}(C=>({...C,get:(b,L,q)=>va(b,L)||C.get(b,L,q),has:(b,L)=>!!va(b,L)||C.has(b,L)}));const Is="/firebase-messaging-sw.js",Fi="/firebase-cloud-messaging-push-scope",ai="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Vi="https://fcmregistrations.googleapis.com/v1",As="google.c.a.c_id",Lt="google.c.a.c_l",Xo="google.c.a.ts";var G=function(C){return C.PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",C}(G||{});function R(C){const b=new Uint8Array(C);return btoa(String.fromCharCode(...b)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Y(C){const L=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),q=atob(L),ge=new Uint8Array(q.length);for(let Ee=0;Ee<q.length;++Ee)ge[Ee]=q.charCodeAt(Ee);return ge}const qe="fcm_token_details_db",Ot=5,Xn="fcm_token_object_Store";function Gr(){return Gr=(0,$.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ee=>Ee.name).includes(qe))return null;let b=null;return(yield Gs(qe,Ot,{upgrade:(q=(0,$.Z)(function*(ge,Ee,je,_t){var Ct;if(Ee<2||!ge.objectStoreNames.contains(Xn))return;const Wt=_t.objectStore(Xn),vn=yield Wt.index("fcmSenderId").get(C);if(yield Wt.clear(),vn)if(2===Ee){const bn=vn;if(!bn.auth||!bn.p256dh||!bn.endpoint)return;b={token:bn.fcmToken,createTime:null!==(Ct=bn.createTime)&&void 0!==Ct?Ct:Date.now(),subscriptionOptions:{auth:bn.auth,p256dh:bn.p256dh,endpoint:bn.endpoint,swScope:bn.swScope,vapidKey:"string"==typeof bn.vapidKey?bn.vapidKey:R(bn.vapidKey)}}}else if(3===Ee){const bn=vn;b={token:bn.fcmToken,createTime:bn.createTime,subscriptionOptions:{auth:R(bn.auth),p256dh:R(bn.p256dh),endpoint:bn.endpoint,swScope:bn.swScope,vapidKey:R(bn.vapidKey)}}}else if(4===Ee){const bn=vn;b={token:bn.fcmToken,createTime:bn.createTime,subscriptionOptions:{auth:R(bn.auth),p256dh:R(bn.p256dh),endpoint:bn.endpoint,swScope:bn.swScope,vapidKey:R(bn.vapidKey)}}}}),function(Ee,je,_t,Ct){return q.apply(this,arguments)})})).close(),yield zs(qe),yield zs("fcm_vapid_details_db"),yield zs("undefined"),function Hr(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:b}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof b.auth&&b.auth.length>0&&"string"==typeof b.p256dh&&b.p256dh.length>0&&"string"==typeof b.endpoint&&b.endpoint.length>0&&"string"==typeof b.swScope&&b.swScope.length>0&&"string"==typeof b.vapidKey&&b.vapidKey.length>0}(b)?b:null;var q}),Gr.apply(this,arguments)}const Ai="firebase-messaging-database",fr=1,hi="firebase-messaging-store";let fo=null;function Ks(){return fo||(fo=Gs(Ai,fr,{upgrade:(C,b)=>{0===b&&C.createObjectStore(hi)}})),fo}function Zs(C){return rs.apply(this,arguments)}function rs(){return rs=(0,$.Z)(function*(C){const b=Ps(C),q=yield(yield Ks()).transaction(hi).objectStore(hi).get(b);if(q)return q;{const ge=yield function ii(C){return Gr.apply(this,arguments)}(C.appConfig.senderId);if(ge)return yield Ms(C,ge),ge}}),rs.apply(this,arguments)}function Ms(C,b){return Po.apply(this,arguments)}function Po(){return(Po=(0,$.Z)(function*(C,b){const L=Ps(C),ge=(yield Ks()).transaction(hi,"readwrite");return yield ge.objectStore(hi).put(b,L),yield ge.done,b})).apply(this,arguments)}function Rs(){return(Rs=(0,$.Z)(function*(C){const b=Ps(C),q=(yield Ks()).transaction(hi,"readwrite");yield q.objectStore(hi).delete(b),yield q.done})).apply(this,arguments)}function Ps({appConfig:C}){return C.appId}const qr=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ys(C,b){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,$.Z)(function*(C,b){const L=yield No(C),q=ja(b),ge={method:"POST",headers:L,body:JSON.stringify(q)};let Ee;try{Ee=yield(yield fetch(qs(C.appConfig),ge)).json()}catch(je){throw qr.create("token-subscribe-failed",{errorInfo:je?.toString()})}if(Ee.error)throw qr.create("token-subscribe-failed",{errorInfo:Ee.error.message});if(!Ee.token)throw qr.create("token-subscribe-no-token");return Ee.token})).apply(this,arguments)}function ss(){return(ss=(0,$.Z)(function*(C,b){const L=yield No(C),q=ja(b.subscriptionOptions),ge={method:"PATCH",headers:L,body:JSON.stringify(q)};let Ee;try{Ee=yield(yield fetch(`${qs(C.appConfig)}/${b.token}`,ge)).json()}catch(je){throw qr.create("token-update-failed",{errorInfo:je?.toString()})}if(Ee.error)throw qr.create("token-update-failed",{errorInfo:Ee.error.message});if(!Ee.token)throw qr.create("token-update-no-token");return Ee.token})).apply(this,arguments)}function po(C,b){return go.apply(this,arguments)}function go(){return(go=(0,$.Z)(function*(C,b){const q={method:"DELETE",headers:yield No(C)};try{const Ee=yield(yield fetch(`${qs(C.appConfig)}/${b}`,q)).json();if(Ee.error)throw qr.create("token-unsubscribe-failed",{errorInfo:Ee.error.message})}catch(ge){throw qr.create("token-unsubscribe-failed",{errorInfo:ge?.toString()})}})).apply(this,arguments)}function qs({projectId:C}){return`${Vi}/projects/${C}/registrations`}function No(C){return os.apply(this,arguments)}function os(){return(os=(0,$.Z)(function*({appConfig:C,installations:b}){const L=yield b.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${L}`})})).apply(this,arguments)}function ja({p256dh:C,auth:b,endpoint:L,vapidKey:q}){const ge={web:{endpoint:L,auth:b,p256dh:C}};return q!==ai&&(ge.web.applicationPubKey=q),ge}const ea=6048e5;function yi(){return yi=(0,$.Z)(function*(C){const b=yield function Zi(C,b){return E.apply(this,arguments)}(C.swRegistration,C.vapidKey),L={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:b.endpoint,auth:R(b.getKey("auth")),p256dh:R(b.getKey("p256dh"))},q=yield Zs(C.firebaseDependencies);if(q){if(function P(C,b){return b.vapidKey===C.vapidKey&&b.endpoint===C.endpoint&&b.auth===C.auth&&b.p256dh===C.p256dh}(q.subscriptionOptions,L))return Date.now()>=q.createTime+ea?function Ei(C,b){return Ns.apply(this,arguments)}(C,{token:q.token,createTime:Date.now(),subscriptionOptions:L}):q.token;try{yield po(C.firebaseDependencies,q.token)}catch(ge){console.warn(ge)}return xs(C.firebaseDependencies,L)}return xs(C.firebaseDependencies,L)}),yi.apply(this,arguments)}function xo(){return xo=(0,$.Z)(function*(C){const b=yield Zs(C.firebaseDependencies);b&&(yield po(C.firebaseDependencies,b.token),yield function is(C){return Rs.apply(this,arguments)}(C.firebaseDependencies));const L=yield C.swRegistration.pushManager.getSubscription();return!L||L.unsubscribe()}),xo.apply(this,arguments)}function Ns(){return Ns=(0,$.Z)(function*(C,b){try{const L=yield function Os(C,b){return ss.apply(this,arguments)}(C.firebaseDependencies,b),q=Object.assign(Object.assign({},b),{token:L,createTime:Date.now()});return yield Ms(C.firebaseDependencies,q),L}catch(L){throw yield function mo(C){return xo.apply(this,arguments)}(C),L}}),Ns.apply(this,arguments)}function xs(C,b){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,$.Z)(function*(C,b){const q={token:yield Ys(C,b),createTime:Date.now(),subscriptionOptions:b};return yield Ms(C,q),q.token})).apply(this,arguments)}function E(){return(E=(0,$.Z)(function*(C,b){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Y(b)})})).apply(this,arguments)}function Q(C){const b={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function M(C,b){if(!b.notification)return;C.notification={};const L=b.notification.title;L&&(C.notification.title=L);const q=b.notification.body;q&&(C.notification.body=q);const ge=b.notification.image;ge&&(C.notification.image=ge);const Ee=b.notification.icon;Ee&&(C.notification.icon=Ee)}(b,C),function Z(C,b){b.data&&(C.data=b.data)}(b,C),function le(C,b){var L,q,ge,Ee,je;if(!(b.fcmOptions||null!==(L=b.notification)&&void 0!==L&&L.click_action))return;C.fcmOptions={};const _t=null!==(ge=null===(q=b.fcmOptions)||void 0===q?void 0:q.link)&&void 0!==ge?ge:null===(Ee=b.notification)||void 0===Ee?void 0:Ee.click_action;_t&&(C.fcmOptions.link=_t);const Ct=null===(je=b.fcmOptions)||void 0===je?void 0:je.analytics_label;Ct&&(C.fcmOptions.analyticsLabel=Ct)}(b,C),b}function ut(C,b){const L=[];for(let q=0;q<C.length;q++)L.push(C.charAt(q)),q<b.length&&L.push(b.charAt(q));return L.join("")}function Cn(C){return qr.create("missing-app-config-values",{valueName:C})}ut("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ut("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class On{constructor(b,L,q){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ge=function wn(C){if(!C||!C.options)throw Cn("App Configuration Object");if(!C.name)throw Cn("App Name");const b=["projectId","apiKey","appId","messagingSenderId"],{options:L}=C;for(const q of b)if(!L[q])throw Cn(q);return{appName:C.name,projectId:L.projectId,apiKey:L.apiKey,appId:L.appId,senderId:L.messagingSenderId}}(b);this.firebaseDependencies={app:b,appConfig:ge,installations:L,analyticsProvider:q}}_delete(){return Promise.resolve()}}function Er(){return(Er=(0,$.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Is,{scope:Fi}),C.swRegistration.update().catch(()=>{})}catch(b){throw qr.create("failed-service-worker-registration",{browserErrorMessage:b?.message})}})).apply(this,arguments)}function zn(){return(zn=(0,$.Z)(function*(C,b){if(!b&&!C.swRegistration&&(yield function _n(C){return Er.apply(this,arguments)}(C)),b||!C.swRegistration){if(!(b instanceof ServiceWorkerRegistration))throw qr.create("invalid-sw-registration");C.swRegistration=b}})).apply(this,arguments)}function Bt(){return(Bt=(0,$.Z)(function*(C,b){b?C.vapidKey=b:C.vapidKey||(C.vapidKey=ai)})).apply(this,arguments)}function Qr(){return Qr=(0,$.Z)(function*(C,b){if(!navigator)throw qr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qr.create("permission-blocked");return yield function zr(C,b){return Bt.apply(this,arguments)}(C,b?.vapidKey),yield function Xt(C,b){return zn.apply(this,arguments)}(C,b?.serviceWorkerRegistration),function $a(C){return yi.apply(this,arguments)}(C)}),Qr.apply(this,arguments)}function ls(){return(ls=(0,$.Z)(function*(C,b,L){const q=function Jr(C){switch(C){case G.NOTIFICATION_CLICKED:return"notification_open";case G.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(b);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(q,{message_id:L[As],message_name:L[Lt],message_time:L[Xo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ii(){return Ii=(0,$.Z)(function*(C,b){const L=b.data;if(!L.isFirebaseMessaging)return;C.onMessageHandler&&L.messageType===G.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Q(L)):C.onMessageHandler.next(Q(L)));const q=L.data;(function We(C){return"object"==typeof C&&!!C&&As in C})(q)&&"1"===q["google.c.a.e"]&&(yield function Ci(C,b,L){return ls.apply(this,arguments)}(C,L.messageType,q))}),Ii.apply(this,arguments)}const na="@firebase/messaging",ya=C=>{const b=new On(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",L=>function ta(C,b){return Ii.apply(this,arguments)}(b,L)),b},Mi=C=>{const b=C.getProvider("messaging").getImmediate();return{getToken:q=>function as(C,b){return Qr.apply(this,arguments)}(b,q)}};function tt(){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,$.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function xl(){(0,fe._registerComponent)(new de.wA("messaging",ya,"PUBLIC")),(0,fe._registerComponent)(new de.wA("messaging-internal",Mi,"PRIVATE")),(0,fe.registerVersion)(na,"0.12.4"),(0,fe.registerVersion)(na,"0.12.4","esm2017")}();const br="analytics",Js="firebase_id",yo="origin",pi=6e4,us="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ko="https://www.googletagmanager.com/gtag/js",Tr=new _e.Yd("@firebase/analytics"),si=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Lo(C){if(!C.startsWith(ko)){const b=si.create("invalid-gtag-resource",{gtagURL:C});return Tr.warn(b.message),""}return C}function Wa(C){return Promise.all(C.map(b=>b.catch(L=>L)))}function sa(){return(sa=(0,$.Z)(function*(C,b,L,q,ge,Ee){const je=q[ge];try{if(je)yield b[je];else{const Ct=(yield Wa(L)).find(Wt=>Wt.measurementId===ge);Ct&&(yield b[Ct.appId])}}catch(_t){Tr.error(_t)}C("config",ge,Ee)})).apply(this,arguments)}function Ia(){return(Ia=(0,$.Z)(function*(C,b,L,q,ge){try{let Ee=[];if(ge&&ge.send_to){let je=ge.send_to;Array.isArray(je)||(je=[je]);const _t=yield Wa(L);for(const Ct of je){const Wt=_t.find(bn=>bn.measurementId===Ct),vn=Wt&&b[Wt.appId];if(!vn){Ee=[];break}Ee.push(vn)}}0===Ee.length&&(Ee=Object.values(b)),yield Promise.all(Ee),C("event",q,ge||{})}catch(Ee){Tr.error(Ee)}})).apply(this,arguments)}const za=30,wa=new class ks{constructor(b={},L=1e3){this.throttleMetadata=b,this.intervalMillis=L}getThrottleMetadata(b){return this.throttleMetadata[b]}setThrottleMetadata(b,L){this.throttleMetadata[b]=L}deleteThrottleMetadata(b){delete this.throttleMetadata[b]}};function Fl(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Ls(){return(Ls=(0,$.Z)(function*(C){var b;const{appId:L,apiKey:q}=C,ge={method:"GET",headers:Fl(q)},Ee=us.replace("{app-id}",L),je=yield fetch(Ee,ge);if(200!==je.status&&304!==je.status){let _t="";try{const Ct=yield je.json();null!==(b=Ct.error)&&void 0!==b&&b.message&&(_t=Ct.error.message)}catch{}throw si.create("config-fetch-failed",{httpStatus:je.status,responseMessage:_t})}return je.json()})).apply(this,arguments)}function Fo(){return(Fo=(0,$.Z)(function*(C,b=wa,L){const{appId:q,apiKey:ge,measurementId:Ee}=C.options;if(!q)throw si.create("no-app-id");if(!ge){if(Ee)return{measurementId:Ee,appId:q};throw si.create("no-api-key")}const je=b.getThrottleMetadata(q)||{backoffCount:0,throttleEndTimeMillis:Date.now()},_t=new hl;return setTimeout((0,$.Z)(function*(){_t.abort()}),void 0!==L?L:pi),Vl({appId:q,apiKey:ge,measurementId:Ee},je,_t,b)})).apply(this,arguments)}function Vl(C,b,L){return dl.apply(this,arguments)}function dl(){return dl=(0,$.Z)(function*(C,{throttleEndTimeMillis:b,backoffCount:L},q,ge=wa){var Ee;const{appId:je,measurementId:_t}=C;try{yield function Ul(C,b){return new Promise((L,q)=>{const ge=Math.max(b-Date.now(),0),Ee=setTimeout(L,ge);C.addEventListener(()=>{clearTimeout(Ee),q(si.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}(q,b)}catch(Ct){if(_t)return Tr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${Ct?.message}]`),{appId:je,measurementId:_t};throw Ct}try{const Ct=yield function Di(C){return Ls.apply(this,arguments)}(C);return ge.deleteThrottleMetadata(je),Ct}catch(Ct){const Wt=Ct;if(!function Ka(C){if(!(C instanceof ce.ZR&&C.customData))return!1;const b=Number(C.customData.httpStatus);return 429===b||500===b||503===b||504===b}(Wt)){if(ge.deleteThrottleMetadata(je),_t)return Tr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${Wt?.message}]`),{appId:je,measurementId:_t};throw Ct}const vn=503===Number(null===(Ee=Wt?.customData)||void 0===Ee?void 0:Ee.httpStatus)?(0,ce.$s)(L,ge.intervalMillis,za):(0,ce.$s)(L,ge.intervalMillis),bn={throttleEndTimeMillis:Date.now()+vn,backoffCount:L+1};return ge.setThrottleMetadata(je,bn),Tr.debug(`Calling attemptFetch again in ${vn} millis`),Vl(C,bn,q,ge)}}),dl.apply(this,arguments)}class hl{constructor(){this.listeners=[]}addEventListener(b){this.listeners.push(b)}abort(){this.listeners.forEach(b=>b())}}let Vo,ur;function I(){return(I=(0,$.Z)(function*(C,b,L,q,ge){if(ge&&ge.global)C("event",L,q);else{const Ee=yield b;C("event",L,Object.assign(Object.assign({},q),{send_to:Ee}))}})).apply(this,arguments)}function eo(){return(eo=(0,$.Z)(function*(){if(!(0,ce.hl)())return Tr.warn(si.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(C){return Tr.warn(si.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function ba(){return ba=(0,$.Z)(function*(C,b,L,q,ge,Ee,je){var _t;const Ct=function Sr(C){return Fo.apply(this,arguments)}(C);Ct.then(Kr=>{L[Kr.measurementId]=Kr.appId,C.options.measurementId&&Kr.measurementId!==C.options.measurementId&&Tr.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Kr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Kr=>Tr.error(Kr)),b.push(Ct);const Wt=function Pi(){return eo.apply(this,arguments)}().then(Kr=>{if(Kr)return q.getId()}),[vn,bn]=yield Promise.all([Ct,Wt]);(function Da(C){const b=window.document.getElementsByTagName("script");for(const L of Object.values(b))if(L.src&&L.src.includes(ko)&&L.src.includes(C))return L;return null})(Ee)||function Xs(C,b){const L=function Ca(C,b){let L;return window.trustedTypes&&(L=window.trustedTypes.createPolicy(C,b)),L}("firebase-js-sdk-policy",{createScriptURL:Lo}),q=document.createElement("script"),ge=`${ko}?l=${C}&id=${b}`;q.src=L?L?.createScriptURL(ge):ge,q.async=!0,document.head.appendChild(q)}(Ee,vn.measurementId),ur&&(ge("consent","default",ur),function gi(C){ur=C}(void 0)),ge("js",new Date);const qi=null!==(_t=je?.config)&&void 0!==_t?_t:{};return qi[yo]="firebase",qi.update=!0,null!=bn&&(qi[Js]=bn),ge("config",vn.measurementId,qi),Vo&&(ge("set",Vo),function Fs(C){Vo=C}(void 0)),vn.measurementId}),ba.apply(this,arguments)}class Uo{constructor(b){this.app=b}_delete(){return delete Bi[this.app.options.appId],Promise.resolve()}}let Bi={},Bl=[];const aa={};let Sa,Vs,Ta="dataLayer",fl=!1;function pl(C,b,L){!function cs(){const C=[];if((0,ce.ru)()&&C.push("This is a browser extension environment."),(0,ce.zI)()||C.push("Cookies are not available."),C.length>0){const b=C.map((q,ge)=>`(${ge+1}) ${q}`).join(" "),L=si.create("invalid-analytics-context",{errorInfo:b});Tr.warn(L.message)}}();const q=C.options.appId;if(!q)throw si.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw si.create("no-api-key");Tr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Bi[q])throw si.create("already-exists",{id:q});if(!fl){!function ia(C){let b=[];Array.isArray(window[C])?b=window[C]:window[C]=b}(Ta);const{wrappedGtag:Ee,gtagCore:je}=function Eo(C,b,L,q,ge){let Ee=function(...je){window[q].push(arguments)};return window[ge]&&"function"==typeof window[ge]&&(Ee=window[ge]),window[ge]=function oa(C,b,L,q){function Ee(){return Ee=(0,$.Z)(function*(je,..._t){try{if("event"===je){const[Ct,Wt]=_t;yield function cl(C,b,L,q,ge){return Ia.apply(this,arguments)}(C,b,L,Ct,Wt)}else if("config"===je){const[Ct,Wt]=_t;yield function Ga(C,b,L,q,ge,Ee){return sa.apply(this,arguments)}(C,b,L,q,Ct,Wt)}else if("consent"===je){const[Ct]=_t;C("consent","update",Ct)}else if("get"===je){const[Ct,Wt,vn]=_t;C("get",Ct,Wt,vn)}else if("set"===je){const[Ct]=_t;C("set",Ct)}else C(je,..._t)}catch(Ct){Tr.error(Ct)}}),Ee.apply(this,arguments)}return function ge(je){return Ee.apply(this,arguments)}}(Ee,C,b,L),{gtagCore:Ee,wrappedGtag:window[ge]}}(Bi,Bl,aa,Ta,"gtag");Vs=Ee,Sa=je,fl=!0}return Bi[q]=function Ds(C,b,L,q,ge,Ee,je){return ba.apply(this,arguments)}(C,Bl,aa,b,Sa,Ta,L),new Uo(C)}function ua(){return Za.apply(this,arguments)}function Za(){return(Za=(0,$.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}const jl="@firebase/analytics";!function fu(){(0,fe._registerComponent)(new de.wA(br,(b,{options:L})=>pl(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),L),"PUBLIC")),(0,fe._registerComponent)(new de.wA("analytics-internal",function C(b){try{const L=b.getProvider(br).getImmediate();return{logEvent:(q,ge,Ee)=>function Bo(C,b,L,q){C=(0,ce.m9)(C),function _(C,b,L,q,ge){return I.apply(this,arguments)}(Vs,Bi[C.app.options.appId],b,L,q).catch(ge=>Tr.error(ge))}(L,q,ge,Ee)}}catch(L){throw si.create("interop-component-reg-failed",{reason:L})}},"PRIVATE")),(0,fe.registerVersion)(jl,"0.10.0"),(0,fe.registerVersion)(jl,"0.10.0","esm2017")}();var Ho=F(954),ml=F(631);const Pu=new class ha extends ml.v{}(class Ru extends Ho.o{constructor(b,L){super(b,L),this.scheduler=b,this.work=L}schedule(b,L=0){return L>0?super.schedule(b,L):(this.delay=L,this.state=b,this.scheduler.flush(this),this)}execute(b,L){return L>0||this.closed?super.execute(b,L):this._execute(b,L)}requestAsyncId(b,L,q=0){return null!=q&&q>0||null==q&&this.delay>0?super.requestAsyncId(b,L,q):(b.flush(this),0)}});var qa=F(321),Ma=F(397),Io=F(137),Bs=F(93);const Ra=new h.GfV("7.6.1"),jo="__angularfire_symbol__analyticsIsSupportedValue",ds="__angularfire_symbol__analyticsIsSupported",$o="__angularfire_symbol__remoteConfigIsSupportedValue",Pa="__angularfire_symbol__remoteConfigIsSupported",_l="__angularfire_symbol__messagingIsSupportedValue",$l="__angularfire_symbol__messagingIsSupported";function Wo(C,b,L){if(b){if(1===b.length)return b[0];const Ee=b.filter(je=>je.app===L);if(1===Ee.length)return Ee[0]}return L.container.getProvider(C).getImmediate({optional:!0})}globalThis[ds]||(globalThis[ds]=ua().then(C=>globalThis[jo]=C).catch(()=>globalThis[jo]=!1)),globalThis[$l]||(globalThis[$l]=tt().then(C=>globalThis[_l]=C).catch(()=>globalThis[_l]=!1)),globalThis[Pa]||(globalThis[Pa]=Yr().then(C=>globalThis[$o]=C).catch(()=>globalThis[$o]=!1));const xu=(C,b)=>{const L=b?[b]:(0,oe.C6)(),q=[];return L.forEach(ge=>{ge.container.getProvider(C).instances.forEach(je=>{q.includes(je)||q.push(je)})}),q};function Go(){}class oi{constructor(b,L=Pu){this.zone=b,this.delegate=L}now(){return this.delegate.now()}schedule(b,L,q){const ge=this.zone;return this.delegate.schedule(function(je){ge.runGuarded(()=>{b.apply(this,[je])})},L,q)}}class Gl{constructor(b){this.zone=b,this.task=null}call(b,L){const q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Go,{},Go,Go)),L.pipe((0,Ma.b)({next:q,complete:q,error:q})).subscribe(b).add(q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Do=(()=>{class C{constructor(L){this.ngZone=L,this.outsideAngular=L.runOutsideAngular(()=>new oi(Zone.current)),this.insideAngular=L.run(()=>new oi(Zone.current,qa.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(L){return new(L||C)(h.LFG(h.R0b))},C.\u0275prov=h.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function zo(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Oa(C){return zo(),function gu(C){return function(L){return(L=L.lift(new Gl(C.ngZone))).pipe((0,Io.R)(C.outsideAngular),(0,Bs.Q)(C.insideAngular))}}(zo())(C)}},58:(wt,Fe,F)=>{F.d(Fe,{$s:()=>vr,BH:()=>we,DV:()=>Vn,Dv:()=>wi,GJ:()=>Ln,L:()=>be,LL:()=>Pe,Pz:()=>Be,Sg:()=>Ue,UG:()=>Re,UI:()=>cn,US:()=>de,Wj:()=>nn,Wl:()=>At,Yr:()=>qt,ZB:()=>ye,ZR:()=>Le,aH:()=>Ce,b$:()=>jn,cI:()=>gn,dS:()=>$r,eu:()=>De,g5:()=>$,gK:()=>Pn,gQ:()=>Vt,h$:()=>xe,hl:()=>Ie,hu:()=>oe,jU:()=>Nt,lb:()=>fn,m9:()=>en,ne:()=>An,p$:()=>ie,pd:()=>jt,r3:()=>lt,ru:()=>St,tV:()=>te,uI:()=>ht,ug:()=>bi,vZ:()=>Ht,w1:()=>kn,w9:()=>In,xO:()=>jr,xb:()=>er,z$:()=>Ye,zI:()=>Oe,zd:()=>Pt});const h={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},oe=function(se,H){if(!se)throw $(H)},$=function(se){return new Error("Firebase Database ("+h.SDK_VERSION+") INTERNAL ASSERT FAILED: "+se)},fe=function(se){const H=[];let V=0;for(let ne=0;ne<se.length;ne++){let W=se.charCodeAt(ne);W<128?H[V++]=W:W<2048?(H[V++]=W>>6|192,H[V++]=63&W|128):55296==(64512&W)&&ne+1<se.length&&56320==(64512&se.charCodeAt(ne+1))?(W=65536+((1023&W)<<10)+(1023&se.charCodeAt(++ne)),H[V++]=W>>18|240,H[V++]=W>>12&63|128,H[V++]=W>>6&63|128,H[V++]=63&W|128):(H[V++]=W>>12|224,H[V++]=W>>6&63|128,H[V++]=63&W|128)}return H},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(se,H){if(!Array.isArray(se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[];for(let W=0;W<se.length;W+=3){const pe=se[W],ke=W+1<se.length,at=ke?se[W+1]:0,Dt=W+2<se.length,Ut=Dt?se[W+2]:0;let tr=(15&at)<<2|Ut>>6,lr=63&Ut;Dt||(lr=64,ke||(tr=64)),ne.push(V[pe>>2],V[(3&pe)<<4|at>>4],V[tr],V[lr])}return ne.join("")},encodeString(se,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(se):this.encodeByteArray(fe(se),H)},decodeString(se,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(se):function(se){const H=[];let V=0,ne=0;for(;V<se.length;){const W=se[V++];if(W<128)H[ne++]=String.fromCharCode(W);else if(W>191&&W<224){const pe=se[V++];H[ne++]=String.fromCharCode((31&W)<<6|63&pe)}else if(W>239&&W<365){const Dt=((7&W)<<18|(63&se[V++])<<12|(63&se[V++])<<6|63&se[V++])-65536;H[ne++]=String.fromCharCode(55296+(Dt>>10)),H[ne++]=String.fromCharCode(56320+(1023&Dt))}else{const pe=se[V++],ke=se[V++];H[ne++]=String.fromCharCode((15&W)<<12|(63&pe)<<6|63&ke)}}return H.join("")}(this.decodeStringToByteArray(se,H))},decodeStringToByteArray(se,H){this.init_();const V=H?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[];for(let W=0;W<se.length;){const pe=V[se.charAt(W++)],at=W<se.length?V[se.charAt(W)]:0;++W;const Ut=W<se.length?V[se.charAt(W)]:64;++W;const Yt=W<se.length?V[se.charAt(W)]:64;if(++W,null==pe||null==at||null==Ut||null==Yt)throw new _e;ne.push(pe<<2|at>>4),64!==Ut&&(ne.push(at<<4&240|Ut>>2),64!==Yt&&ne.push(Ut<<6&192|Yt))}return ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let se=0;se<this.ENCODED_VALS.length;se++)this.byteToCharMap_[se]=this.ENCODED_VALS.charAt(se),this.charToByteMap_[this.byteToCharMap_[se]]=se,this.byteToCharMapWebSafe_[se]=this.ENCODED_VALS_WEBSAFE.charAt(se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[se]]=se,se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(se)]=se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(se)]=se)}}};class _e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xe=function(se){const H=fe(se);return de.encodeByteArray(H,!0)},be=function(se){return xe(se).replace(/\./g,"")},te=function(se){try{return de.decodeString(se,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function ie(se){return ye(void 0,se)}function ye(se,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===se&&(se={});break;case Array:se=[];break;default:return H}for(const V in H)!H.hasOwnProperty(V)||!Je(V)||(se[V]=ye(se[V],H[V]));return se}function Je(se){return"__proto__"!==se}const it=()=>{try{return function $e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const se=process.env.__FIREBASE_DEFAULTS__;return se?JSON.parse(se):void 0})()||(()=>{if(typeof document>"u")return;let se;try{se=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=se&&te(se[1]);return H&&JSON.parse(H)})()}catch(se){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${se}`)}},Ce=()=>{var se;return null===(se=it())||void 0===se?void 0:se.config},Be=se=>{var H;return null===(H=it())||void 0===H?void 0:H[`_${se}`]};class we{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,V)=>{this.resolve=H,this.reject=V})}wrapCallback(H){return(V,ne)=>{V?this.reject(V):this.resolve(ne),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(V):H(V,ne))}}}function Ue(se,H){if(se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ne=H||"demo-project",W=se.iat||0,pe=se.sub||se.user_id;if(!pe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ke=Object.assign({iss:`https://securetoken.google.com/${ne}`,aud:ne,iat:W,exp:W+3600,auth_time:W,sub:pe,user_id:pe,firebase:{sign_in_provider:"custom",identities:{}}},se);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(ke)),""].join(".")}function Ye(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ht(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function Re(){var se;const H=null===(se=it())||void 0===se?void 0:se.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Nt(){return"object"==typeof self&&self.self===self}function St(){const se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof se&&void 0!==se.id}function jn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function kn(){const se=Ye();return se.indexOf("MSIE ")>=0||se.indexOf("Trident/")>=0}function qt(){return!0===h.NODE_CLIENT||!0===h.NODE_ADMIN}function Ie(){try{return"object"==typeof indexedDB}catch{return!1}}function De(){return new Promise((se,H)=>{try{let V=!0;const ne="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(ne);W.onsuccess=()=>{W.result.close(),V||self.indexedDB.deleteDatabase(ne),se(!0)},W.onupgradeneeded=()=>{V=!1},W.onerror=()=>{var pe;H((null===(pe=W.error)||void 0===pe?void 0:pe.message)||"")}}catch(V){H(V)}})}function Oe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Le extends Error{constructor(H,V,ne){super(V),this.code=H,this.customData=ne,this.name="FirebaseError",Object.setPrototypeOf(this,Le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pe.prototype.create)}}class Pe{constructor(H,V,ne){this.service=H,this.serviceName=V,this.errors=ne}create(H,...V){const ne=V[0]||{},W=`${this.service}/${H}`,pe=this.errors[H],ke=pe?function st(se,H){return se.replace(Et,(V,ne)=>{const W=H[ne];return null!=W?String(W):`<${ne}?>`})}(pe,ne):"Error";return new Le(W,`${this.serviceName}: ${ke} (${W}).`,ne)}}const Et=/\{\$([^}]+)}/g;function gn(se){return JSON.parse(se)}function At(se){return JSON.stringify(se)}const an=function(se){let H={},V={},ne={},W="";try{const pe=se.split(".");H=gn(te(pe[0])||""),V=gn(te(pe[1])||""),W=pe[2],ne=V.d||{},delete V.d}catch{}return{header:H,claims:V,data:ne,signature:W}},In=function(se){const V=an(se).claims;return!!V&&"object"==typeof V&&V.hasOwnProperty("iat")},Ln=function(se){const H=an(se).claims;return"object"==typeof H&&!0===H.admin};function lt(se,H){return Object.prototype.hasOwnProperty.call(se,H)}function Vn(se,H){if(Object.prototype.hasOwnProperty.call(se,H))return se[H]}function er(se){for(const H in se)if(Object.prototype.hasOwnProperty.call(se,H))return!1;return!0}function cn(se,H,V){const ne={};for(const W in se)Object.prototype.hasOwnProperty.call(se,W)&&(ne[W]=H.call(V,se[W],W,se));return ne}function Ht(se,H){if(se===H)return!0;const V=Object.keys(se),ne=Object.keys(H);for(const W of V){if(!ne.includes(W))return!1;const pe=se[W],ke=H[W];if(Nn(pe)&&Nn(ke)){if(!Ht(pe,ke))return!1}else if(pe!==ke)return!1}for(const W of ne)if(!V.includes(W))return!1;return!0}function Nn(se){return null!==se&&"object"==typeof se}function jr(se){const H=[];for(const[V,ne]of Object.entries(se))Array.isArray(ne)?ne.forEach(W=>{H.push(encodeURIComponent(V)+"="+encodeURIComponent(W))}):H.push(encodeURIComponent(V)+"="+encodeURIComponent(ne));return H.length?"&"+H.join("&"):""}function Pt(se){const H={};return se.replace(/^\?/,"").split("&").forEach(ne=>{if(ne){const[W,pe]=ne.split("=");H[decodeURIComponent(W)]=decodeURIComponent(pe)}}),H}function jt(se){const H=se.indexOf("?");if(!H)return"";const V=se.indexOf("#",H);return se.substring(H,V>0?V:void 0)}class Vt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let H=1;H<this.blockSize;++H)this.pad_[H]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(H,V){V||(V=0);const ne=this.W_;if("string"==typeof H)for(let Yt=0;Yt<16;Yt++)ne[Yt]=H.charCodeAt(V)<<24|H.charCodeAt(V+1)<<16|H.charCodeAt(V+2)<<8|H.charCodeAt(V+3),V+=4;else for(let Yt=0;Yt<16;Yt++)ne[Yt]=H[V]<<24|H[V+1]<<16|H[V+2]<<8|H[V+3],V+=4;for(let Yt=16;Yt<80;Yt++){const tr=ne[Yt-3]^ne[Yt-8]^ne[Yt-14]^ne[Yt-16];ne[Yt]=4294967295&(tr<<1|tr>>>31)}let Ut,bt,W=this.chain_[0],pe=this.chain_[1],ke=this.chain_[2],at=this.chain_[3],Dt=this.chain_[4];for(let Yt=0;Yt<80;Yt++){Yt<40?Yt<20?(Ut=at^pe&(ke^at),bt=1518500249):(Ut=pe^ke^at,bt=1859775393):Yt<60?(Ut=pe&ke|at&(pe|ke),bt=2400959708):(Ut=pe^ke^at,bt=3395469782);const tr=(W<<5|W>>>27)+Ut+Dt+bt+ne[Yt]&4294967295;Dt=at,at=ke,ke=4294967295&(pe<<30|pe>>>2),pe=W,W=tr}this.chain_[0]=this.chain_[0]+W&4294967295,this.chain_[1]=this.chain_[1]+pe&4294967295,this.chain_[2]=this.chain_[2]+ke&4294967295,this.chain_[3]=this.chain_[3]+at&4294967295,this.chain_[4]=this.chain_[4]+Dt&4294967295}update(H,V){if(null==H)return;void 0===V&&(V=H.length);const ne=V-this.blockSize;let W=0;const pe=this.buf_;let ke=this.inbuf_;for(;W<V;){if(0===ke)for(;W<=ne;)this.compress_(H,W),W+=this.blockSize;if("string"==typeof H){for(;W<V;)if(pe[ke]=H.charCodeAt(W),++ke,++W,ke===this.blockSize){this.compress_(pe),ke=0;break}}else for(;W<V;)if(pe[ke]=H[W],++ke,++W,ke===this.blockSize){this.compress_(pe),ke=0;break}}this.inbuf_=ke,this.total_+=V}digest(){const H=[];let V=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let W=this.blockSize-1;W>=56;W--)this.buf_[W]=255&V,V/=256;this.compress_(this.buf_);let ne=0;for(let W=0;W<5;W++)for(let pe=24;pe>=0;pe-=8)H[ne]=this.chain_[W]>>pe&255,++ne;return H}}function An(se,H){const V=new Rn(se,H);return V.subscribe.bind(V)}class Rn{constructor(H,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{H(this)}).catch(ne=>{this.error(ne)})}next(H){this.forEachObserver(V=>{V.next(H)})}error(H){this.forEachObserver(V=>{V.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,V,ne){let W;if(void 0===H&&void 0===V&&void 0===ne)throw new Error("Missing Observer.");W=function Dn(se,H){if("object"!=typeof se||null===se)return!1;for(const V of H)if(V in se&&"function"==typeof se[V])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:V,complete:ne},void 0===W.next&&(W.next=pn),void 0===W.error&&(W.error=pn),void 0===W.complete&&(W.complete=pn);const pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch{}}),this.observers.push(W),pe}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,H)}sendOne(H,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{V(this.observers[H])}catch(ne){typeof console<"u"&&console.error&&console.error(ne)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pn(){}const wi=function(se,H,V,ne){let W;if(ne<H?W="at least "+H:ne>V&&(W=0===V?"none":"no more than "+V),W)throw new Error(se+" failed: Was called with "+ne+(1===ne?" argument.":" arguments.")+" Expects "+W+".")};function Pn(se,H){return`${se} failed: ${H} argument `}function nn(se,H,V,ne){if((!ne||V)&&"function"!=typeof V)throw new Error(Pn(se,H)+"must be a valid function.")}function fn(se,H,V,ne){if((!ne||V)&&("object"!=typeof V||null===V))throw new Error(Pn(se,H)+"must be a valid context object.")}const $r=function(se){const H=[];let V=0;for(let ne=0;ne<se.length;ne++){let W=se.charCodeAt(ne);if(W>=55296&&W<=56319){const pe=W-55296;ne++,oe(ne<se.length,"Surrogate pair missing trail surrogate."),W=65536+(pe<<10)+(se.charCodeAt(ne)-56320)}W<128?H[V++]=W:W<2048?(H[V++]=W>>6|192,H[V++]=63&W|128):W<65536?(H[V++]=W>>12|224,H[V++]=W>>6&63|128,H[V++]=63&W|128):(H[V++]=W>>18|240,H[V++]=W>>12&63|128,H[V++]=W>>6&63|128,H[V++]=63&W|128)}return H},bi=function(se){let H=0;for(let V=0;V<se.length;V++){const ne=se.charCodeAt(V);ne<128?H++:ne<2048?H+=2:ne>=55296&&ne<=56319?(H+=4,V++):H+=3}return H},wr=1e3,ar=2,nr=144e5,$n=.5;function vr(se,H=wr,V=ar){const ne=H*Math.pow(V,se),W=Math.round($n*ne*(Math.random()-.5)*2);return Math.min(nr,ne+W)}function en(se){return se&&se._delegate?se._delegate:se}},844:(wt,Fe,F)=>{F.d(Fe,{e:()=>$});var h=F(879),oe=F(796);let $=(()=>{var fe;class ce{constructor(_e){this.afAuth=_e}createUser(_e,xe){return this.afAuth.createUserWithEmailAndPassword(_e,xe)}loginUser(_e,xe){return this.afAuth.signInWithEmailAndPassword(_e,xe)}}return(fe=ce).\u0275fac=function(_e){return new(_e||fe)(h.LFG(oe.zQ))},fe.\u0275prov=h.Yz7({token:fe,factory:fe.\u0275fac}),ce})()},6114:(wt,Fe,F)=>{F.d(Fe,{m:()=>ce});var h=F(6814),oe=F(95),$=F(844),fe=F(879);let ce=(()=>{var de;class _e{static forRoot(){return{ngModule:_e,providers:[$.e]}}}return(de=_e).\u0275fac=function(be){return new(be||de)},de.\u0275mod=fe.oAB({type:de}),de.\u0275inj=fe.cJS({imports:[h.ez,oe.UX]}),_e})()},720:(wt,Fe,F)=>{var h=F(6593),oe=F(75),$=F(879);const fe=[];let ce=(()=>{var a;class i{}return(a=i).\u0275fac=function(d){return new(d||a)},a.\u0275mod=$.oAB({type:a}),a.\u0275inj=$.cJS({imports:[oe.Bz.forRoot(fe),oe.Bz]}),i})(),de=(()=>{var a;class i{constructor(){this.title="my-fitness-app"}}return(a=i).\u0275fac=function(d){return new(d||a)},a.\u0275cmp=$.Xpm({type:a,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"wrapper"]],template:function(d,g){1&d&&($.TgZ(0,"div",0),$._uU(1," Hello! "),$._UZ(2,"router-outlet"),$.qZA())},dependencies:[oe.lC]}),i})();var _e=F(6814),xe=F(304),be=F(796),te=F(321),ie=F(5592),ye=F(2096),Je=F(19),$e=F(7398),dt=F(20),Xe=F(4664),ft=F(699),it=F(997),Rt=F(9360),Tt=F(8251),Ce=F(4829),Be=F(2737),we=F(420),Ue=F(4564),Re=F(186),St=(F(967),F(106)),jn=F(537),Yn=F(861),kn=F(534),K=F(58),qt=F(676);const un="@firebase/database";let De="";function Oe(a){De=a}class Ne{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,s){null==s?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,K.Wl)(s))}get(i){const s=this.domStorage_.getItem(this.prefixedName_(i));return null==s?null:(0,K.cI)(s)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}class Le{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,s){null==s?delete this.cache_[i]:this.cache_[i]=s}get(i){return(0,K.r3)(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}const Pe=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const i=window[a];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new Ne(i)}}catch{}return new Le},st=Pe("localStorage"),Et=Pe("sessionStorage"),gn=new qt.Yd("@firebase/database"),At=function(){let a=1;return function(){return a++}}(),an=function(a){const i=(0,K.dS)(a),s=new K.gQ;s.update(i);const d=s.digest();return K.US.encodeByteArray(d)},Gt=function(...a){let i="";for(let s=0;s<a.length;s++){const d=a[s];Array.isArray(d)||d&&"object"==typeof d&&"number"==typeof d.length?i+=Gt.apply(null,d):i+="object"==typeof d?(0,K.Wl)(d):d,i+=" "}return i};let Tn=null,In=!0;const Ln=function(a,i){(0,K.hu)(!i||!0===a||!1===a,"Can't turn on custom loggers persistently."),!0===a?(gn.logLevel=qt.in.VERBOSE,Tn=gn.log.bind(gn),i&&Et.set("logging_enabled",!0)):"function"==typeof a?Tn=a:(Tn=null,Et.remove("logging_enabled"))},lt=function(...a){if(!0===In&&(In=!1,null===Tn&&!0===Et.get("logging_enabled")&&Ln(!0)),Tn){const i=Gt.apply(null,a);Tn(i)}},Vn=function(a){return function(...i){lt(a,...i)}},er=function(...a){const i="FIREBASE INTERNAL ERROR: "+Gt(...a);gn.error(i)},cn=function(...a){const i=`FIREBASE FATAL ERROR: ${Gt(...a)}`;throw gn.error(i),new Error(i)},Ht=function(...a){const i="FIREBASE WARNING: "+Gt(...a);gn.warn(i)},ir=function(a){return"number"==typeof a&&(a!=a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},Pt="[MIN_NAME]",jt="[MAX_NAME]",Vt=function(a,i){if(a===i)return 0;if(a===Pt||i===jt)return-1;if(i===Pt||a===jt)return 1;{const s=or(a),d=or(i);return null!==s?null!==d?s-d==0?a.length-i.length:s-d:-1:null!==d?1:a<i?-1:1}},An=function(a,i){return a===i?0:a<i?-1:1},Rn=function(a,i){if(i&&a in i)return i[a];throw new Error("Missing required key ("+a+") in object: "+(0,K.Wl)(i))},Cr=function(a){if("object"!=typeof a||null===a)return(0,K.Wl)(a);const i=[];for(const d in a)i.push(d);i.sort();let s="{";for(let d=0;d<i.length;d++)0!==d&&(s+=","),s+=(0,K.Wl)(i[d]),s+=":",s+=Cr(a[i[d]]);return s+="}",s},Dn=function(a,i){const s=a.length;if(s<=i)return[a];const d=[];for(let g=0;g<s;g+=i)d.push(a.substring(g,g+i>s?s:g+i));return d};function pn(a,i){for(const s in a)a.hasOwnProperty(s)&&i(s,a[s])}const wi=function(a){(0,K.hu)(!ir(a),"Invalid JSON number");const d=1023;let g,w,N,j,X;0===a?(w=0,N=0,g=1/a==-1/0?1:0):(g=a<0,(a=Math.abs(a))>=Math.pow(2,1-d)?(j=Math.min(Math.floor(Math.log(a)/Math.LN2),d),w=j+d,N=Math.round(a*Math.pow(2,52-j)-Math.pow(2,52))):(w=0,N=Math.round(a/Math.pow(2,-1074))));const ae=[];for(X=52;X;X-=1)ae.push(N%2?1:0),N=Math.floor(N/2);for(X=11;X;X-=1)ae.push(w%2?1:0),w=Math.floor(w/2);ae.push(g?1:0),ae.reverse();const He=ae.join("");let ze="";for(X=0;X<64;X+=8){let rt=parseInt(He.substr(X,8),2).toString(16);1===rt.length&&(rt="0"+rt),ze+=rt}return ze.toLowerCase()},fn=new RegExp("^-?(0*)\\d{1,10}$"),or=function(a){if(fn.test(a)){const i=Number(a);if(i>=-2147483648&&i<=2147483647)return i}return null},wr=function(a){try{a()}catch(i){setTimeout(()=>{throw Ht("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},nr=function(a,i){const s=setTimeout(a,i);return"number"==typeof s&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):"object"==typeof s&&s.unref&&s.unref(),s};class $n{constructor(i,s){this.appName_=i,this.appCheckProvider=s,this.appCheck=s?.getImmediate({optional:!0}),this.appCheck||s?.get().then(d=>this.appCheck=d)}getToken(i){return this.appCheck?this.appCheck.getToken(i):new Promise((s,d)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(s,d):s(null)},0)})}addTokenChangeListener(i){var s;null===(s=this.appCheckProvider)||void 0===s||s.get().then(d=>d.addTokenListener(i))}notifyForInvalidToken(){Ht(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class vr{constructor(i,s,d){this.appName_=i,this.firebaseOptions_=s,this.authProvider_=d,this.auth_=null,this.auth_=d.getImmediate({optional:!0}),this.auth_||d.onInit(g=>this.auth_=g)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(s=>s&&"auth/token-not-initialized"===s.code?(lt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,d)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(s,d):s(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(s=>s.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(s=>s.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';i+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ht(i)}}let rn=(()=>{class a{constructor(s){this.accessToken=s}getToken(s){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(s){s(this.accessToken)}removeTokenChangeListener(s){}notifyForInvalidToken(){}}return a.OWNER="owner",a})();const ne=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,at="websocket",Dt="long_polling";class Ut{constructor(i,s,d,g,w=!1,N="",j=!1,X=!1){this.secure=s,this.namespace=d,this.webSocketOnly=g,this.nodeAdmin=w,this.persistenceKey=N,this.includeNamespaceInQueryParams=j,this.isUsingEmulator=X,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=st.get("host:"+i)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&st.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Yt(a,i,s){let d;if((0,K.hu)("string"==typeof i,"typeof type must == string"),(0,K.hu)("object"==typeof s,"typeof params must == object"),i===at)d=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else{if(i!==Dt)throw new Error("Unknown connection type: "+i);d=(a.secure?"https://":"http://")+a.internalHost+"/.lp?"}(function bt(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams})(a)&&(s.ns=a.namespace);const g=[];return pn(s,(w,N)=>{g.push(w+"="+N)}),d+g.join("&")}class tr{constructor(){this.counters_={}}incrementCounter(i,s=1){(0,K.r3)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=s}get(){return(0,K.p$)(this.counters_)}}const lr={},Lr={};function gr(a){const i=a.toString();return lr[i]||(lr[i]=new tr),lr[i]}class Ae{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,s){this.closeAfterResponse=i,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,s){for(this.pendingResponses[i]=s;this.pendingResponses[this.currentResponseNum];){const d=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let g=0;g<d.length;++g)d[g]&&wr(()=>{this.onMessage_(d[g])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Wn{constructor(i,s,d,g,w,N,j){this.connId=i,this.repoInfo=s,this.applicationId=d,this.appCheckToken=g,this.authToken=w,this.transportSessionId=N,this.lastSessionId=j,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vn(i),this.stats_=gr(s),this.urlFn=X=>(this.appCheckToken&&(X.ac=this.appCheckToken),Yt(s,Dt,X))}open(i,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new Ae(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(a){if((0,K.Yr)()||"complete"===document.readyState)a();else{let i=!1;const s=function(){document.body?i||(i=!0,a()):setTimeout(s,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&s()}),window.attachEvent("onload",s))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ei((...w)=>{const[N,j,X,ae,He]=w;if(this.incrementIncomingBytes_(w),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===N)this.id=j,this.password=X;else{if("close"!==N)throw new Error("Unrecognized command received: "+N);j?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(j,()=>{this.onClosed_()})):this.onClosed_()}},(...w)=>{const[N,j]=w;this.incrementIncomingBytes_(w),this.myPacketOrderer.handleResponse(N,j)},()=>{this.onClosed_()},this.urlFn);const d={start:"t"};d.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(d.cb=this.scriptTagHolder.uniqueCallbackIdentifier),d.v="5",this.transportSessionId&&(d.s=this.transportSessionId),this.lastSessionId&&(d.ls=this.lastSessionId),this.applicationId&&(d.p=this.applicationId),this.appCheckToken&&(d.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&ne.test(location.hostname)&&(d.r="f");const g=this.urlFn(d);this.log_("Connecting via long-poll to "+g),this.scriptTagHolder.addTag(g,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wn.forceAllow_=!0}static forceDisallow(){Wn.forceDisallow_=!0}static isAvailable(){return!((0,K.Yr)()||!Wn.forceAllow_&&(Wn.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const s=(0,K.Wl)(i);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const d=(0,K.h$)(s),g=Dn(d,1840);for(let w=0;w<g.length;w++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,g.length,g[w]),this.curSegmentNum++}addDisconnectPingFrame(i,s){if((0,K.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const d={dframe:"t"};d.id=i,d.pw=s,this.myDisconnFrame.src=this.urlFn(d),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const s=(0,K.Wl)(i).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class ei{constructor(i,s,d,g){if(this.onDisconnect=d,this.urlFn=g,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,K.Yr)())this.commandCB=i,this.onMessageCB=s;else{this.uniqueCallbackIdentifier=At(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=s,this.myIFrame=ei.createIFrame_();let w="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(w='<script>document.domain="'+document.domain+'";<\/script>');const N="<html><body>"+w+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(N),this.myIFrame.doc.close()}catch(j){lt("frame writing exception"),j.stack&&lt(j.stack),lt(j)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||lt("No IE domain setting required")}catch{const d=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+d+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,s){for(this.myID=i,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;let s=this.urlFn(i),d="",g=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+d.length<=1870;){const N=this.pendingSegs.shift();d=d+"&seg"+g+"="+N.seg+"&ts"+g+"="+N.ts+"&d"+g+"="+N.d,g++}return s+=d,this.addLongPollTag_(s,this.currentSerial),!0}return!1}enqueueSegment(i,s,d){this.pendingSegs.push({seg:i,ts:s,d}),this.alive&&this.newRequest_()}addLongPollTag_(i,s){this.outstandingRequests.add(s);const d=()=>{this.outstandingRequests.delete(s),this.newRequest_()},g=setTimeout(d,Math.floor(25e3));this.addTag(i,()=>{clearTimeout(g),d()})}addTag(i,s){(0,K.Yr)()?this.doNodeLongPoll(i,s):setTimeout(()=>{try{if(!this.sendNewPolls)return;const d=this.myIFrame.doc.createElement("script");d.type="text/javascript",d.async=!0,d.src=i,d.onload=d.onreadystatechange=function(){const g=d.readyState;(!g||"loaded"===g||"complete"===g)&&(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),s())},d.onerror=()=>{lt("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(d)}catch{}},Math.floor(1))}}let mi=null;typeof MozWebSocket<"u"?mi=MozWebSocket:typeof WebSocket<"u"&&(mi=WebSocket);let Ir=(()=>{class a{constructor(s,d,g,w,N,j,X){this.connId=s,this.applicationId=g,this.appCheckToken=w,this.authToken=N,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vn(this.connId),this.stats_=gr(d),this.connURL=a.connectionURL_(d,j,X,w,g),this.nodeAdmin=d.nodeAdmin}static connectionURL_(s,d,g,w,N){const j={v:"5"};return!(0,K.Yr)()&&typeof location<"u"&&location.hostname&&ne.test(location.hostname)&&(j.r="f"),d&&(j.s=d),g&&(j.ls=g),w&&(j.ac=w),N&&(j.p=N),Yt(s,at,j)}open(s,d){this.onDisconnect=d,this.onMessage=s,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,st.set("previous_websocket_failure",!0);try{let g;if((0,K.Yr)()){g={headers:{"User-Agent":`Firebase/5/${De}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(g.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(g.headers["X-Firebase-AppCheck"]=this.appCheckToken);const N=process.env,j=0===this.connURL.indexOf("wss://")?N.HTTPS_PROXY||N.https_proxy:N.HTTP_PROXY||N.http_proxy;j&&(g.proxy={origin:j})}this.mySock=new mi(this.connURL,[],g)}catch(g){this.log_("Error instantiating WebSocket.");const w=g.message||g.data;return w&&this.log_(w),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=g=>{this.handleIncomingFrame(g)},this.mySock.onerror=g=>{this.log_("WebSocket error.  Closing connection.");const w=g.message||g.data;w&&this.log_(w),this.onClosed_()}}start(){}static forceDisallow(){a.forceDisallow_=!0}static isAvailable(){let s=!1;if(typeof navigator<"u"&&navigator.userAgent){const g=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);g&&g.length>1&&parseFloat(g[1])<4.4&&(s=!0)}return!s&&null!==mi&&!a.forceDisallow_}static previouslyFailed(){return st.isInMemoryStorage||!0===st.get("previous_websocket_failure")}markConnectionHealthy(){st.remove("previous_websocket_failure")}appendFrame_(s){if(this.frames.push(s),this.frames.length===this.totalFrames){const d=this.frames.join("");this.frames=null;const g=(0,K.cI)(d);this.onMessage(g)}}handleNewFrameCount_(s){this.totalFrames=s,this.frames=[]}extractFrameCount_(s){if((0,K.hu)(null===this.frames,"We already have a frame buffer"),s.length<=6){const d=Number(s);if(!isNaN(d))return this.handleNewFrameCount_(d),null}return this.handleNewFrameCount_(1),s}handleIncomingFrame(s){if(null===this.mySock)return;const d=s.data;if(this.bytesReceived+=d.length,this.stats_.incrementCounter("bytes_received",d.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(d);else{const g=this.extractFrameCount_(d);null!==g&&this.appendFrame_(g)}}send(s){this.resetKeepAlive();const d=(0,K.Wl)(s);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);const g=Dn(d,16384);g.length>1&&this.sendString_(String(g.length));for(let w=0;w<g.length;w++)this.sendString_(g[w])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(s){try{this.mySock.send(s)}catch(d){this.log_("Exception thrown from WebSocket.send():",d.message||d.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return a.responsesRequiredToBeHealthy=2,a.healthyTimeout=3e4,a})(),Rr=(()=>{class a{constructor(s){this.initTransports_(s)}static get ALL_TRANSPORTS(){return[Wn,Ir]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(s){const d=Ir&&Ir.isAvailable();let g=d&&!Ir.previouslyFailed();if(s.webSocketOnly&&(d||Ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),g=!0),g)this.transports_=[Ir];else{const w=this.transports_=[];for(const N of a.ALL_TRANSPORTS)N&&N.isAvailable()&&w.push(N);a.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return a.globalTransportInitialized_=!1,a})();class he{constructor(i,s,d,g,w,N,j,X,ae,He){this.id=i,this.repoInfo_=s,this.applicationId_=d,this.appCheckToken_=g,this.authToken_=w,this.onMessage_=N,this.onReady_=j,this.onDisconnect_=X,this.onKill_=ae,this.lastSessionId=He,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vn("c:"+this.id+":"),this.transportManager_=new Rr(s),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),d=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,d)},Math.floor(0));const g=i.healthyTimeout||0;g>0&&(this.healthyTimeout_=nr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(g)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return s=>{i===this.conn_?this.onConnectionLost_(s):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return s=>{2!==this.state_&&(i===this.rx_?this.onPrimaryMessageReceived_(s):i===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(i){this.sendData_({t:"d",d:i})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if("t"in i){const s=i.t;"a"===s?this.upgradeIfSecondaryHealthy_():"r"===s?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===s&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const s=Rn("t",i),d=Rn("d",i);if("c"===s)this.onSecondaryControl_(d);else{if("d"!==s)throw new Error("Unknown protocol layer: "+s);this.pendingDataMessages.push(d)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const s=Rn("t",i),d=Rn("d",i);"c"===s?this.onControl_(d):"d"===s&&this.onDataMessage_(d)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const s=Rn("t",i);if("d"in i){const d=i.d;if("h"===s){const g=Object.assign({},d);this.repoInfo_.isUsingEmulator&&(g.h=this.repoInfo_.host),this.onHandshake_(g)}else if("n"===s){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let g=0;g<this.pendingDataMessages.length;++g)this.onDataMessage_(this.pendingDataMessages[g]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===s?this.onConnectionShutdown_(d):"r"===s?this.onReset_(d):"e"===s?er("Server Error: "+d):"o"===s?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):er("Unknown control packet command: "+s)}}onHandshake_(i){const s=i.ts,d=i.v,g=i.h;this.sessionId=i.s,this.repoInfo_.host=g,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),"5"!==d&&Ht("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),d=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,d),nr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,s){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):nr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(st.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Me{put(i,s,d,g){}merge(i,s,d,g){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,s,d){}onDisconnectMerge(i,s,d){}onDisconnectCancel(i,s){}reportStats(i){}}class Ke{constructor(i){this.allowedEvents_=i,this.listeners_={},(0,K.hu)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...s){if(Array.isArray(this.listeners_[i])){const d=[...this.listeners_[i]];for(let g=0;g<d.length;g++)d[g].callback.apply(d[g].context,s)}}on(i,s,d){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:s,context:d});const g=this.getInitialEvent(i);g&&s.apply(d,g)}off(i,s,d){this.validateEventType_(i);const g=this.listeners_[i]||[];for(let w=0;w<g.length;w++)if(g[w].callback===s&&(!d||d===g[w].context))return void g.splice(w,1)}validateEventType_(i){(0,K.hu)(this.allowedEvents_.find(s=>s===i),"Unknown event: "+i)}}class Qe extends Ke{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,K.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Qe}getInitialEvent(i){return(0,K.hu)("online"===i,"Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}class gt{constructor(i,s){if(void 0===s){this.pieces_=i.split("/");let d=0;for(let g=0;g<this.pieces_.length;g++)this.pieces_[g].length>0&&(this.pieces_[d]=this.pieces_[g],d++);this.pieces_.length=d,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=s}toString(){let i="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)""!==this.pieces_[s]&&(i+="/"+this.pieces_[s]);return i||"/"}}function It(){return new gt("")}function Zt(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function Fn(a){return a.pieces_.length-a.pieceNum_}function Qt(a){let i=a.pieceNum_;return i<a.pieces_.length&&i++,new gt(a.pieces_,i)}function Qn(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function ti(a,i=0){return a.pieces_.slice(a.pieceNum_+i)}function Jt(a){if(a.pieceNum_>=a.pieces_.length)return null;const i=[];for(let s=a.pieceNum_;s<a.pieces_.length-1;s++)i.push(a.pieces_[s]);return new gt(i,0)}function mn(a,i){const s=[];for(let d=a.pieceNum_;d<a.pieces_.length;d++)s.push(a.pieces_[d]);if(i instanceof gt)for(let d=i.pieceNum_;d<i.pieces_.length;d++)s.push(i.pieces_[d]);else{const d=i.split("/");for(let g=0;g<d.length;g++)d[g].length>0&&s.push(d[g])}return new gt(s,0)}function En(a){return a.pieceNum_>=a.pieces_.length}function Jn(a,i){const s=Zt(a),d=Zt(i);if(null===s)return i;if(s===d)return Jn(Qt(a),Qt(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+a+")")}function hr(a,i){const s=ti(a,0),d=ti(i,0);for(let g=0;g<s.length&&g<d.length;g++){const w=Vt(s[g],d[g]);if(0!==w)return w}return s.length===d.length?0:s.length<d.length?-1:1}function ui(a,i){if(Fn(a)!==Fn(i))return!1;for(let s=a.pieceNum_,d=i.pieceNum_;s<=a.pieces_.length;s++,d++)if(a.pieces_[s]!==i.pieces_[d])return!1;return!0}function Nr(a,i){let s=a.pieceNum_,d=i.pieceNum_;if(Fn(a)>Fn(i))return!1;for(;s<a.pieces_.length;){if(a.pieces_[s]!==i.pieces_[d])return!1;++s,++d}return!0}class ni{constructor(i,s){this.errorPrefix_=s,this.parts_=ti(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let d=0;d<this.parts_.length;d++)this.byteLength_+=(0,K.ug)(this.parts_[d]);Zr(this)}}function Zr(a){if(a.byteLength_>768)throw new Error(a.errorPrefix_+"has a key path longer than 768 bytes ("+a.byteLength_+").");if(a.parts_.length>32)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Zn(a))}function Zn(a){return 0===a.parts_.length?"":"in property '"+a.parts_.join(".")+"'"}class zi extends Ke{constructor(){let i,s;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",i="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",i="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",i="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const d=!document[i];d!==this.visible_&&(this.visible_=d,this.trigger("visible",d))},!1)}static getInstance(){return new zi}getInitialEvent(i){return(0,K.hu)("visible"===i,"Unknown event type: "+i),[this.visible_]}}const Ki=1e3;let ho,Yr=(()=>{class a extends Me{constructor(s,d,g,w,N,j,X,ae){if(super(),this.repoInfo_=s,this.applicationId_=d,this.onDataUpdate_=g,this.onConnectStatus_=w,this.onServerInfoUpdate_=N,this.authTokenProvider_=j,this.appCheckTokenProvider_=X,this.authOverride_=ae,this.id=a.nextPersistentConnectionId_++,this.log_=Vn("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ki,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,ae&&!(0,K.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zi.getInstance().on("visible",this.onVisible_,this),-1===s.host.indexOf("fblocal")&&Qe.getInstance().on("online",this.onOnline_,this)}sendRequest(s,d,g){const w=++this.requestNumber_,N={r:w,a:s,b:d};this.log_((0,K.Wl)(N)),(0,K.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(N),g&&(this.requestCBHash_[w]=g)}get(s){this.initConnection_();const d=new K.BH,w={action:"g",request:{p:s._path.toString(),q:s._queryObject},onComplete:j=>{const X=j.d;"ok"===j.s?d.resolve(X):d.reject(X)}};return this.outstandingGets_.push(w),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),d.promise}listen(s,d,g,w){this.initConnection_();const N=s._queryIdentifier,j=s._path.toString();this.log_("Listen called for "+j+" "+N),this.listens.has(j)||this.listens.set(j,new Map),(0,K.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,K.hu)(!this.listens.get(j).has(N),"listen() called twice for same path/queryId.");const X={onComplete:w,hashFn:d,query:s,tag:g};this.listens.get(j).set(N,X),this.connected_&&this.sendListen_(X)}sendGet_(s){const d=this.outstandingGets_[s];this.sendRequest("g",d.request,g=>{delete this.outstandingGets_[s],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),d.onComplete&&d.onComplete(g)})}sendListen_(s){const d=s.query,g=d._path.toString(),w=d._queryIdentifier;this.log_("Listen on "+g+" for "+w);const N={p:g};s.tag&&(N.q=d._queryObject,N.t=s.tag),N.h=s.hashFn(),this.sendRequest("q",N,X=>{const ae=X.d,He=X.s;a.warnOnListenWarnings_(ae,d),(this.listens.get(g)&&this.listens.get(g).get(w))===s&&(this.log_("listen response",X),"ok"!==He&&this.removeListen_(g,w),s.onComplete&&s.onComplete(He,ae))})}static warnOnListenWarnings_(s,d){if(s&&"object"==typeof s&&(0,K.r3)(s,"w")){const g=(0,K.DV)(s,"w");if(Array.isArray(g)&&~g.indexOf("no_index")){const w='".indexOn": "'+d._queryParams.getIndex().toString()+'"',N=d._path.toString();Ht(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${w} at ${N} to your security rules for better performance.`)}}}refreshAuthToken(s){this.authToken_=s,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(s)}reduceReconnectDelayIfAdminCredential_(s){(s&&40===s.length||(0,K.GJ)(s))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(s){this.appCheckToken_=s,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const s=this.authToken_,d=(0,K.w9)(s)?"auth":"gauth",g={cred:s};null===this.authOverride_?g.noauth=!0:"object"==typeof this.authOverride_&&(g.authvar=this.authOverride_),this.sendRequest(d,g,w=>{const N=w.s,j=w.d||"error";this.authToken_===s&&("ok"===N?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(N,j))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},s=>{const d=s.s,g=s.d||"error";"ok"===d?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(d,g)})}unlisten(s,d){const g=s._path.toString(),w=s._queryIdentifier;this.log_("Unlisten called for "+g+" "+w),(0,K.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(g,w)&&this.connected_&&this.sendUnlisten_(g,w,s._queryObject,d)}sendUnlisten_(s,d,g,w){this.log_("Unlisten on "+s+" for "+d);const N={p:s};w&&(N.q=g,N.t=w),this.sendRequest("n",N)}onDisconnectPut(s,d,g){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",s,d,g):this.onDisconnectRequestQueue_.push({pathString:s,action:"o",data:d,onComplete:g})}onDisconnectMerge(s,d,g){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",s,d,g):this.onDisconnectRequestQueue_.push({pathString:s,action:"om",data:d,onComplete:g})}onDisconnectCancel(s,d){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",s,null,d):this.onDisconnectRequestQueue_.push({pathString:s,action:"oc",data:null,onComplete:d})}sendOnDisconnect_(s,d,g,w){const N={p:d,d:g};this.log_("onDisconnect "+s,N),this.sendRequest(s,N,j=>{w&&setTimeout(()=>{w(j.s,j.d)},Math.floor(0))})}put(s,d,g,w){this.putInternal("p",s,d,g,w)}merge(s,d,g,w){this.putInternal("m",s,d,g,w)}putInternal(s,d,g,w,N){this.initConnection_();const j={p:d,d:g};void 0!==N&&(j.h=N),this.outstandingPuts_.push({action:s,request:j,onComplete:w}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+d)}sendPut_(s){const d=this.outstandingPuts_[s].action,g=this.outstandingPuts_[s].request,w=this.outstandingPuts_[s].onComplete;this.outstandingPuts_[s].queued=this.connected_,this.sendRequest(d,g,N=>{this.log_(d+" response",N),delete this.outstandingPuts_[s],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),w&&w(N.s,N.d)})}reportStats(s){if(this.connected_){const d={c:s};this.log_("reportStats",d),this.sendRequest("s",d,g=>{"ok"!==g.s&&this.log_("reportStats","Error sending stats: "+g.d)})}}onDataMessage_(s){if("r"in s){this.log_("from server: "+(0,K.Wl)(s));const d=s.r,g=this.requestCBHash_[d];g&&(delete this.requestCBHash_[d],g(s.b))}else{if("error"in s)throw"A server-side error has occurred: "+s.error;"a"in s&&this.onDataPush_(s.a,s.b)}}onDataPush_(s,d){this.log_("handleServerMessage",s,d),"d"===s?this.onDataUpdate_(d.p,d.d,!1,d.t):"m"===s?this.onDataUpdate_(d.p,d.d,!0,d.t):"c"===s?this.onListenRevoked_(d.p,d.q):"ac"===s?this.onAuthRevoked_(d.s,d.d):"apc"===s?this.onAppCheckRevoked_(d.s,d.d):"sd"===s?this.onSecurityDebugPacket_(d):er("Unrecognized action received from server: "+(0,K.Wl)(s)+"\nAre you using the latest client?")}onReady_(s,d){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(s),this.lastSessionId=d,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(s){(0,K.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(s))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(s){s&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ki,this.realtime_||this.scheduleConnect_(0)),this.visible_=s}onOnline_(s){s?(this.log_("Browser went online."),this.reconnectDelay_=Ki,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ki),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const s=(new Date).getTime()-this.lastConnectionAttemptTime_;let d=Math.max(0,this.reconnectDelay_-s);d=Math.random()*d,this.log_("Trying to reconnect in "+d+"ms"),this.scheduleConnect_(d),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var s=this;return(0,Yn.Z)(function*(){if(s.shouldReconnect_()){s.log_("Making a connection attempt"),s.lastConnectionAttemptTime_=(new Date).getTime(),s.lastConnectionEstablishedTime_=null;const d=s.onDataMessage_.bind(s),g=s.onReady_.bind(s),w=s.onRealtimeDisconnect_.bind(s),N=s.id+":"+a.nextConnectionId_++,j=s.lastSessionId;let X=!1,ae=null;const He=function(){ae?ae.close():(X=!0,w())};s.realtime_={close:He,sendRequest:function(kt){(0,K.hu)(ae,"sendRequest call when we're not connected not allowed."),ae.sendRequest(kt)}};const rt=s.forceTokenRefresh_;s.forceTokenRefresh_=!1;try{const[kt,on]=yield Promise.all([s.authTokenProvider_.getToken(rt),s.appCheckTokenProvider_.getToken(rt)]);X?lt("getToken() completed but was canceled"):(lt("getToken() completed. Creating connection."),s.authToken_=kt&&kt.accessToken,s.appCheckToken_=on&&on.token,ae=new he(N,s.repoInfo_,s.applicationId_,s.appCheckToken_,s.authToken_,d,g,w,mr=>{Ht(mr+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")},j))}catch(kt){s.log_("Failed to get token: "+kt),X||(s.repoInfo_.nodeAdmin&&Ht(kt),He())}}})()}interrupt(s){lt("Interrupting connection for reason: "+s),this.interruptReasons_[s]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(s){lt("Resuming connection for reason: "+s),delete this.interruptReasons_[s],(0,K.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ki,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(s){const d=s-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:d})}cancelSentTransactions_(){for(let s=0;s<this.outstandingPuts_.length;s++){const d=this.outstandingPuts_[s];d&&"h"in d.request&&d.queued&&(d.onComplete&&d.onComplete("disconnect"),delete this.outstandingPuts_[s],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(s,d){let g;g=d?d.map(N=>Cr(N)).join("$"):"default";const w=this.removeListen_(s,g);w&&w.onComplete&&w.onComplete("permission_denied")}removeListen_(s,d){const g=new gt(s).toString();let w;if(this.listens.has(g)){const N=this.listens.get(g);w=N.get(d),N.delete(d),0===N.size&&this.listens.delete(g)}else w=void 0;return w}onAuthRevoked_(s,d){lt("Auth token revoked: "+s+"/"+d),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===s||"permission_denied"===s)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(s,d){lt("App check token revoked: "+s+"/"+d),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===s||"permission_denied"===s)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(s){this.securityDebugCallback_?this.securityDebugCallback_(s):"msg"in s&&console.log("FIREBASE: "+s.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const s of this.listens.values())for(const d of s.values())this.sendListen_(d);for(let s=0;s<this.outstandingPuts_.length;s++)this.outstandingPuts_[s]&&this.sendPut_(s);for(;this.onDisconnectRequestQueue_.length;){const s=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(s.action,s.pathString,s.data,s.onComplete)}for(let s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}sendConnectStats_(){const s={};let d="js";(0,K.Yr)()&&(d=this.repoInfo_.nodeAdmin?"admin_node":"node"),s["sdk."+d+"."+De.replace(/\./g,"-")]=1,(0,K.uI)()?s["framework.cordova"]=1:(0,K.b$)()&&(s["framework.reactnative"]=1),this.reportStats(s)}shouldReconnect_(){const s=Qe.getInstance().currentlyOnline();return(0,K.xb)(this.interruptReasons_)&&s}}return a.nextPersistentConnectionId_=0,a.nextConnectionId_=0,a})();class ln{constructor(i,s){this.name=i,this.node=s}static Wrap(i,s){return new ln(i,s)}}class rr{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,s){const d=new ln(Pt,i),g=new ln(Pt,s);return 0!==this.compare(d,g)}minPost(){return ln.MIN}}class yr extends rr{static get __EMPTY_NODE(){return ho}static set __EMPTY_NODE(i){ho=i}compare(i,s){return Vt(i.name,s.name)}isDefinedOn(i){throw(0,K.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,s){return!1}minPost(){return ln.MIN}maxPost(){return new ln(jt,ho)}makePost(i,s){return(0,K.hu)("string"==typeof i,"KeyIndex indexValue must always be a string."),new ln(i,ho)}toString(){return".key"}}const Dr=new yr;class ki{constructor(i,s,d,g,w=null){this.isReverse_=g,this.resultGenerator_=w,this.nodeStack_=[];let N=1;for(;!i.isEmpty();)if(N=s?d(i.key,s):1,g&&(N*=-1),N<0)i=this.isReverse_?i.left:i.right;else{if(0===N){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}getNext(){if(0===this.nodeStack_.length)return null;let s,i=this.nodeStack_.pop();if(s=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}let ys,xr=(()=>{class a{constructor(s,d,g,w,N){this.key=s,this.value=d,this.color=g??a.RED,this.left=w??Gn.EMPTY_NODE,this.right=N??Gn.EMPTY_NODE}copy(s,d,g,w,N){return new a(s??this.key,d??this.value,g??this.color,w??this.left,N??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(s){return this.left.inorderTraversal(s)||!!s(this.key,this.value)||this.right.inorderTraversal(s)}reverseTraversal(s){return this.right.reverseTraversal(s)||s(this.key,this.value)||this.left.reverseTraversal(s)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(s,d,g){let w=this;const N=g(s,w.key);return w=N<0?w.copy(null,null,null,w.left.insert(s,d,g),null):0===N?w.copy(null,d,null,null,null):w.copy(null,null,null,null,w.right.insert(s,d,g)),w.fixUp_()}removeMin_(){if(this.left.isEmpty())return Gn.EMPTY_NODE;let s=this;return!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.removeMin_(),null),s.fixUp_()}remove(s,d){let g,w;if(g=this,d(s,g.key)<0)!g.left.isEmpty()&&!g.left.isRed_()&&!g.left.left.isRed_()&&(g=g.moveRedLeft_()),g=g.copy(null,null,null,g.left.remove(s,d),null);else{if(g.left.isRed_()&&(g=g.rotateRight_()),!g.right.isEmpty()&&!g.right.isRed_()&&!g.right.left.isRed_()&&(g=g.moveRedRight_()),0===d(s,g.key)){if(g.right.isEmpty())return Gn.EMPTY_NODE;w=g.right.min_(),g=g.copy(w.key,w.value,null,null,g.right.removeMin_())}g=g.copy(null,null,null,null,g.right.remove(s,d))}return g.fixUp_()}isRed_(){return this.color}fixUp_(){let s=this;return s.right.isRed_()&&!s.left.isRed_()&&(s=s.rotateLeft_()),s.left.isRed_()&&s.left.left.isRed_()&&(s=s.rotateRight_()),s.left.isRed_()&&s.right.isRed_()&&(s=s.colorFlip_()),s}moveRedLeft_(){let s=this.colorFlip_();return s.right.left.isRed_()&&(s=s.copy(null,null,null,null,s.right.rotateRight_()),s=s.rotateLeft_(),s=s.colorFlip_()),s}moveRedRight_(){let s=this.colorFlip_();return s.left.left.isRed_()&&(s=s.rotateRight_(),s=s.colorFlip_()),s}rotateLeft_(){const s=this.copy(null,null,a.RED,null,this.right.left);return this.right.copy(null,null,this.color,s,null)}rotateRight_(){const s=this.copy(null,null,a.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,s)}colorFlip_(){const s=this.left.copy(null,null,!this.left.color,null,null),d=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,s,d)}checkMaxDepth_(){const s=this.check_();return Math.pow(2,s)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const s=this.left.check_();if(s!==this.right.check_())throw new Error("Black depths differ");return s+(this.isRed_()?0:1)}}return a.RED=!0,a.BLACK=!1,a})();class Gn{constructor(i,s=Gn.EMPTY_NODE){this.comparator_=i,this.root_=s}insert(i,s){return new Gn(this.comparator_,this.root_.insert(i,s,this.comparator_).copy(null,null,xr.BLACK,null,null))}remove(i){return new Gn(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,xr.BLACK,null,null))}get(i){let s,d=this.root_;for(;!d.isEmpty();){if(s=this.comparator_(i,d.key),0===s)return d.value;s<0?d=d.left:s>0&&(d=d.right)}return null}getPredecessorKey(i){let s,d=this.root_,g=null;for(;!d.isEmpty();){if(s=this.comparator_(i,d.key),0===s){if(d.left.isEmpty())return g?g.key:null;for(d=d.left;!d.right.isEmpty();)d=d.right;return d.key}s<0?d=d.left:s>0&&(g=d,d=d.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new ki(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,s){return new ki(this.root_,i,this.comparator_,!1,s)}getReverseIteratorFrom(i,s){return new ki(this.root_,i,this.comparator_,!0,s)}getReverseIterator(i){return new ki(this.root_,null,this.comparator_,!0,i)}}function Br(a,i){return Vt(a.name,i.name)}function Ts(a,i){return Vt(a,i)}Gn.EMPTY_NODE=new class Li{copy(i,s,d,g,w){return this}insert(i,s,d){return new xr(i,s,null)}remove(i,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ns=function(a){return"number"==typeof a?"number:"+wi(a):"string:"+a},Es=function(a){if(a.isLeafNode()){const i=a.val();(0,K.hu)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,K.r3)(i,".sv"),"Priority must be a string or number.")}else(0,K.hu)(a===ys||a.isEmpty(),"priority of unexpected type.");(0,K.hu)(a===ys||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Mo,di,Ws,Ss=(()=>{class a{constructor(s,d=a.__childrenNodeConstructor.EMPTY_NODE){this.value_=s,this.priorityNode_=d,this.lazyHash_=null,(0,K.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Es(this.priorityNode_)}static set __childrenNodeConstructor(s){Mo=s}static get __childrenNodeConstructor(){return Mo}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(s){return new a(this.value_,s)}getImmediateChild(s){return".priority"===s?this.priorityNode_:a.__childrenNodeConstructor.EMPTY_NODE}getChild(s){return En(s)?this:".priority"===Zt(s)?this.priorityNode_:a.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(s,d){return null}updateImmediateChild(s,d){return".priority"===s?this.updatePriority(d):d.isEmpty()&&".priority"!==s?this:a.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(s,d).updatePriority(this.priorityNode_)}updateChild(s,d){const g=Zt(s);return null===g?d:d.isEmpty()&&".priority"!==g?this:((0,K.hu)(".priority"!==g||1===Fn(s),".priority must be the last token in a path"),this.updateImmediateChild(g,a.__childrenNodeConstructor.EMPTY_NODE.updateChild(Qt(s),d)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(s,d){return!1}val(s){return s&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let s="";this.priorityNode_.isEmpty()||(s+="priority:"+ns(this.priorityNode_.val())+":");const d=typeof this.value_;s+=d+":",s+="number"===d?wi(this.value_):this.value_,this.lazyHash_=an(s)}return this.lazyHash_}getValue(){return this.value_}compareTo(s){return s===a.__childrenNodeConstructor.EMPTY_NODE?1:s instanceof a.__childrenNodeConstructor?-1:((0,K.hu)(s.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(s))}compareToLeafNode_(s){const d=typeof s.value_,g=typeof this.value_,w=a.VALUE_TYPE_ORDER.indexOf(d),N=a.VALUE_TYPE_ORDER.indexOf(g);return(0,K.hu)(w>=0,"Unknown leaf type: "+d),(0,K.hu)(N>=0,"Unknown leaf type: "+g),w===N?"object"===g?0:this.value_<s.value_?-1:this.value_===s.value_?0:1:N-w}withIndex(){return this}isIndexed(){return!0}equals(s){return s===this||!!s.isLeafNode()&&(this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_))}}return a.VALUE_TYPE_ORDER=["object","boolean","number","string"],a})();const Un=new class Ro extends rr{compare(i,s){const d=i.node.getPriority(),g=s.node.getPriority(),w=d.compareTo(g);return 0===w?Vt(i.name,s.name):w}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,s){return!i.getPriority().equals(s.getPriority())}minPost(){return ln.MIN}maxPost(){return new ln(jt,new Ss("[PRIORITY-POST]",Ws))}makePost(i,s){const d=di(i);return new ln(s,new Ss("[PRIORITY-POST]",d))}toString(){return".priority"}},Cs=Math.log(2);class va{constructor(i){this.count=parseInt(Math.log(i+1)/Cs,10),this.current_=this.count-1;const g=(w=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=i+1&g}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const Is=function(a,i,s,d){a.sort(i);const g=function(X,ae){const He=ae-X;let ze,rt;if(0===He)return null;if(1===He)return ze=a[X],rt=s?s(ze):ze,new xr(rt,ze.node,xr.BLACK,null,null);{const kt=parseInt(He/2,10)+X,on=g(X,kt),mr=g(kt+1,ae);return ze=a[kt],rt=s?s(ze):ze,new xr(rt,ze.node,xr.BLACK,on,mr)}},j=function(X){let ae=null,He=null,ze=a.length;const rt=function(on,mr){const Xi=ze-on,Va=ze;ze-=on;const Ua=g(Xi+1,Va),ol=a[Xi],Wh=s?s(ol):ol;kt(new xr(Wh,ol.node,mr,null,Ua))},kt=function(on){ae?(ae.left=on,ae=on):(He=on,ae=on)};for(let on=0;on<X.count;++on){const mr=X.nextBitIsOne(),Xi=Math.pow(2,X.count-(on+1));mr?rt(Xi,xr.BLACK):(rt(Xi,xr.BLACK),rt(Xi,xr.RED))}return He}(new va(a.length));return new Gn(d||i,j)};let Fi;const ai={};class Vi{constructor(i,s){this.indexes_=i,this.indexSet_=s}static get Default(){return(0,K.hu)(ai&&Un,"ChildrenNode.ts has not been loaded"),Fi=Fi||new Vi({".priority":ai},{".priority":Un}),Fi}get(i){const s=(0,K.DV)(this.indexes_,i);if(!s)throw new Error("No index defined for "+i);return s instanceof Gn?s:null}hasIndex(i){return(0,K.r3)(this.indexSet_,i.toString())}addIndex(i,s){(0,K.hu)(i!==Dr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const d=[];let g=!1;const w=s.getIterator(ln.Wrap);let j,N=w.getNext();for(;N;)g=g||i.isDefinedOn(N.node),d.push(N),N=w.getNext();j=g?Is(d,i.getCompare()):ai;const X=i.toString(),ae=Object.assign({},this.indexSet_);ae[X]=i;const He=Object.assign({},this.indexes_);return He[X]=j,new Vi(He,ae)}addToIndexes(i,s){const d=(0,K.UI)(this.indexes_,(g,w)=>{const N=(0,K.DV)(this.indexSet_,w);if((0,K.hu)(N,"Missing index implementation for "+w),g===ai){if(N.isDefinedOn(i.node)){const j=[],X=s.getIterator(ln.Wrap);let ae=X.getNext();for(;ae;)ae.name!==i.name&&j.push(ae),ae=X.getNext();return j.push(i),Is(j,N.getCompare())}return ai}{const j=s.get(i.name);let X=g;return j&&(X=X.remove(new ln(i.name,j))),X.insert(i,i.node)}});return new Vi(d,this.indexSet_)}removeFromIndexes(i,s){const d=(0,K.UI)(this.indexes_,g=>{if(g===ai)return g;{const w=s.get(i.name);return w?g.remove(new ln(i.name,w)):g}});return new Vi(d,this.indexSet_)}}let As,Lt=(()=>{class a{constructor(s,d,g){this.children_=s,this.priorityNode_=d,this.indexMap_=g,this.lazyHash_=null,this.priorityNode_&&Es(this.priorityNode_),this.children_.isEmpty()&&(0,K.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return As||(As=new a(new Gn(Ts),null,Vi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||As}updatePriority(s){return this.children_.isEmpty()?this:new a(this.children_,s,this.indexMap_)}getImmediateChild(s){if(".priority"===s)return this.getPriority();{const d=this.children_.get(s);return null===d?As:d}}getChild(s){const d=Zt(s);return null===d?this:this.getImmediateChild(d).getChild(Qt(s))}hasChild(s){return null!==this.children_.get(s)}updateImmediateChild(s,d){if((0,K.hu)(d,"We should always be passing snapshot nodes"),".priority"===s)return this.updatePriority(d);{const g=new ln(s,d);let w,N;d.isEmpty()?(w=this.children_.remove(s),N=this.indexMap_.removeFromIndexes(g,this.children_)):(w=this.children_.insert(s,d),N=this.indexMap_.addToIndexes(g,this.children_));const j=w.isEmpty()?As:this.priorityNode_;return new a(w,j,N)}}updateChild(s,d){const g=Zt(s);if(null===g)return d;{(0,K.hu)(".priority"!==Zt(s)||1===Fn(s),".priority must be the last token in a path");const w=this.getImmediateChild(g).updateChild(Qt(s),d);return this.updateImmediateChild(g,w)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(s){if(this.isEmpty())return null;const d={};let g=0,w=0,N=!0;if(this.forEachChild(Un,(j,X)=>{d[j]=X.val(s),g++,N&&a.INTEGER_REGEXP_.test(j)?w=Math.max(w,Number(j)):N=!1}),!s&&N&&w<2*g){const j=[];for(const X in d)j[X]=d[X];return j}return s&&!this.getPriority().isEmpty()&&(d[".priority"]=this.getPriority().val()),d}hash(){if(null===this.lazyHash_){let s="";this.getPriority().isEmpty()||(s+="priority:"+ns(this.getPriority().val())+":"),this.forEachChild(Un,(d,g)=>{const w=g.hash();""!==w&&(s+=":"+d+":"+w)}),this.lazyHash_=""===s?"":an(s)}return this.lazyHash_}getPredecessorChildName(s,d,g){const w=this.resolveIndex_(g);if(w){const N=w.getPredecessorKey(new ln(s,d));return N?N.name:null}return this.children_.getPredecessorKey(s)}getFirstChildName(s){const d=this.resolveIndex_(s);if(d){const g=d.minKey();return g&&g.name}return this.children_.minKey()}getFirstChild(s){const d=this.getFirstChildName(s);return d?new ln(d,this.children_.get(d)):null}getLastChildName(s){const d=this.resolveIndex_(s);if(d){const g=d.maxKey();return g&&g.name}return this.children_.maxKey()}getLastChild(s){const d=this.getLastChildName(s);return d?new ln(d,this.children_.get(d)):null}forEachChild(s,d){const g=this.resolveIndex_(s);return g?g.inorderTraversal(w=>d(w.name,w.node)):this.children_.inorderTraversal(d)}getIterator(s){return this.getIteratorFrom(s.minPost(),s)}getIteratorFrom(s,d){const g=this.resolveIndex_(d);if(g)return g.getIteratorFrom(s,w=>w);{const w=this.children_.getIteratorFrom(s.name,ln.Wrap);let N=w.peek();for(;null!=N&&d.compare(N,s)<0;)w.getNext(),N=w.peek();return w}}getReverseIterator(s){return this.getReverseIteratorFrom(s.maxPost(),s)}getReverseIteratorFrom(s,d){const g=this.resolveIndex_(d);if(g)return g.getReverseIteratorFrom(s,w=>w);{const w=this.children_.getReverseIteratorFrom(s.name,ln.Wrap);let N=w.peek();for(;null!=N&&d.compare(N,s)>0;)w.getNext(),N=w.peek();return w}}compareTo(s){return this.isEmpty()?s.isEmpty()?0:-1:s.isLeafNode()||s.isEmpty()?1:s===O?-1:0}withIndex(s){if(s===Dr||this.indexMap_.hasIndex(s))return this;{const d=this.indexMap_.addIndex(s,this.children_);return new a(this.children_,this.priorityNode_,d)}}isIndexed(s){return s===Dr||this.indexMap_.hasIndex(s)}equals(s){if(s===this)return!0;if(s.isLeafNode())return!1;{const d=s;if(this.getPriority().equals(d.getPriority())){if(this.children_.count()===d.children_.count()){const g=this.getIterator(Un),w=d.getIterator(Un);let N=g.getNext(),j=w.getNext();for(;N&&j;){if(N.name!==j.name||!N.node.equals(j.node))return!1;N=g.getNext(),j=w.getNext()}return null===N&&null===j}return!1}return!1}}resolveIndex_(s){return s===Dr?null:this.indexMap_.get(s.toString())}}return a.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,a})();const O=new class Xo extends Lt{constructor(){super(new Gn(Ts),Lt.EMPTY_NODE,Vi.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return Lt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(ln,{MIN:{value:new ln(Pt,Lt.EMPTY_NODE)},MAX:{value:new ln(jt,O)}}),yr.__EMPTY_NODE=Lt.EMPTY_NODE,Ss.__childrenNodeConstructor=Lt,function ci(a){ys=a}(O),function zs(a){Ws=a}(O);const A=!0;function G(a,i=null){if(null===a)return Lt.EMPTY_NODE;if("object"==typeof a&&".priority"in a&&(i=a[".priority"]),(0,K.hu)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]),"object"!=typeof a||".sv"in a)return new Ss(a,G(i));if(a instanceof Array||!A){let s=Lt.EMPTY_NODE;return pn(a,(d,g)=>{if((0,K.r3)(a,d)&&"."!==d.substring(0,1)){const w=G(g);(w.isLeafNode()||!w.isEmpty())&&(s=s.updateImmediateChild(d,w))}}),s.updatePriority(G(i))}{const s=[];let d=!1;if(pn(a,(N,j)=>{if("."!==N.substring(0,1)){const X=G(j);X.isEmpty()||(d=d||!X.getPriority().isEmpty(),s.push(new ln(N,X)))}}),0===s.length)return Lt.EMPTY_NODE;const w=Is(s,Br,N=>N.name,Ts);if(d){const N=Is(s,Un.getCompare());return new Lt(w,G(i),new Vi({".priority":N},{".priority":Un}))}return new Lt(w,G(i),Vi.Default)}}!function Gs(a){di=a}(G);class R extends rr{constructor(i){super(),this.indexPath_=i,(0,K.hu)(!En(i)&&".priority"!==Zt(i),"Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,s){const d=this.extractChild(i.node),g=this.extractChild(s.node),w=d.compareTo(g);return 0===w?Vt(i.name,s.name):w}makePost(i,s){const d=G(i),g=Lt.EMPTY_NODE.updateChild(this.indexPath_,d);return new ln(s,g)}maxPost(){const i=Lt.EMPTY_NODE.updateChild(this.indexPath_,O);return new ln(jt,i)}toString(){return ti(this.indexPath_,0).join("/")}}const qe=new class Y extends rr{compare(i,s){const d=i.node.compareTo(s.node);return 0===d?Vt(i.name,s.name):d}isDefinedOn(i){return!0}indexedValueChanged(i,s){return!i.equals(s)}minPost(){return ln.MIN}maxPost(){return ln.MAX}makePost(i,s){const d=G(i);return new ln(s,d)}toString(){return".value"}};function Ot(a){return{type:"value",snapshotNode:a}}function Xn(a,i){return{type:"child_added",snapshotNode:i,childName:a}}function ii(a,i){return{type:"child_removed",snapshotNode:i,childName:a}}function Gr(a,i,s){return{type:"child_changed",snapshotNode:i,childName:a,oldSnap:s}}class Ai{constructor(i){this.index_=i}updateChild(i,s,d,g,w,N){(0,K.hu)(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");const j=i.getImmediateChild(s);return j.getChild(g).equals(d.getChild(g))&&j.isEmpty()===d.isEmpty()||(null!=N&&(d.isEmpty()?i.hasChild(s)?N.trackChildChange(ii(s,j)):(0,K.hu)(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):j.isEmpty()?N.trackChildChange(Xn(s,d)):N.trackChildChange(Gr(s,d,j))),i.isLeafNode()&&d.isEmpty())?i:i.updateImmediateChild(s,d).withIndex(this.index_)}updateFullNode(i,s,d){return null!=d&&(i.isLeafNode()||i.forEachChild(Un,(g,w)=>{s.hasChild(g)||d.trackChildChange(ii(g,w))}),s.isLeafNode()||s.forEachChild(Un,(g,w)=>{if(i.hasChild(g)){const N=i.getImmediateChild(g);N.equals(w)||d.trackChildChange(Gr(g,w,N))}else d.trackChildChange(Xn(g,w))})),s.withIndex(this.index_)}updatePriority(i,s){return i.isEmpty()?Lt.EMPTY_NODE:i.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class fr{constructor(i){this.indexedFilter_=new Ai(i.getIndex()),this.index_=i.getIndex(),this.startPost_=fr.getStartPost_(i),this.endPost_=fr.getEndPost_(i),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),i)<=0:this.index_.compare(this.getStartPost(),i)<0,d=this.endIsInclusive_?this.index_.compare(i,this.getEndPost())<=0:this.index_.compare(i,this.getEndPost())<0;return s&&d}updateChild(i,s,d,g,w,N){return this.matches(new ln(s,d))||(d=Lt.EMPTY_NODE),this.indexedFilter_.updateChild(i,s,d,g,w,N)}updateFullNode(i,s,d){s.isLeafNode()&&(s=Lt.EMPTY_NODE);let g=s.withIndex(this.index_);g=g.updatePriority(Lt.EMPTY_NODE);const w=this;return s.forEachChild(Un,(N,j)=>{w.matches(new ln(N,j))||(g=g.updateImmediateChild(N,Lt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,g,d)}updatePriority(i,s){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){const s=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),s)}return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){const s=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),s)}return i.getIndex().maxPost()}}class hi{constructor(i){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const d=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?d<=0:d<0},this.withinEndPost=s=>{const d=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?d<=0:d<0},this.rangedFilter_=new fr(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft(),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}updateChild(i,s,d,g,w,N){return this.rangedFilter_.matches(new ln(s,d))||(d=Lt.EMPTY_NODE),i.getImmediateChild(s).equals(d)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,s,d,g,w,N):this.fullLimitUpdateChild_(i,s,d,w,N)}updateFullNode(i,s,d){let g;if(s.isLeafNode()||s.isEmpty())g=Lt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<s.numChildren()&&s.isIndexed(this.index_)){let w;g=Lt.EMPTY_NODE.withIndex(this.index_),w=this.reverse_?s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let N=0;for(;w.hasNext()&&N<this.limit_;){const j=w.getNext();if(this.withinDirectionalStart(j)){if(!this.withinDirectionalEnd(j))break;g=g.updateImmediateChild(j.name,j.node),N++}}}else{let w;g=s.withIndex(this.index_),g=g.updatePriority(Lt.EMPTY_NODE),w=this.reverse_?g.getReverseIterator(this.index_):g.getIterator(this.index_);let N=0;for(;w.hasNext();){const j=w.getNext();N<this.limit_&&this.withinDirectionalStart(j)&&this.withinDirectionalEnd(j)?N++:g=g.updateImmediateChild(j.name,Lt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,g,d)}updatePriority(i,s){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,s,d,g,w){let N;if(this.reverse_){const ze=this.index_.getCompare();N=(rt,kt)=>ze(kt,rt)}else N=this.index_.getCompare();const j=i;(0,K.hu)(j.numChildren()===this.limit_,"");const X=new ln(s,d),ae=this.reverse_?j.getFirstChild(this.index_):j.getLastChild(this.index_),He=this.rangedFilter_.matches(X);if(j.hasChild(s)){const ze=j.getImmediateChild(s);let rt=g.getChildAfterChild(this.index_,ae,this.reverse_);for(;null!=rt&&(rt.name===s||j.hasChild(rt.name));)rt=g.getChildAfterChild(this.index_,rt,this.reverse_);const kt=null==rt?1:N(rt,X);if(He&&!d.isEmpty()&&kt>=0)return w?.trackChildChange(Gr(s,d,ze)),j.updateImmediateChild(s,d);{w?.trackChildChange(ii(s,ze));const mr=j.updateImmediateChild(s,Lt.EMPTY_NODE);return null!=rt&&this.rangedFilter_.matches(rt)?(w?.trackChildChange(Xn(rt.name,rt.node)),mr.updateImmediateChild(rt.name,rt.node)):mr}}return d.isEmpty()?i:He&&N(ae,X)>=0?(null!=w&&(w.trackChildChange(ii(ae.name,ae.node)),w.trackChildChange(Xn(s,d))),j.updateImmediateChild(s,d).updateImmediateChild(ae.name,Lt.EMPTY_NODE)):i}}class fo{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Un}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,K.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,K.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Pt}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,K.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,K.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:jt}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,K.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Un}copy(){const i=new fo;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.startAfterSet_=this.startAfterSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.endBeforeSet_=this.endBeforeSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function Ms(a,i,s){const d=a.copy();return d.startSet_=!0,void 0===i&&(i=null),d.indexStartValue_=i,null!=s?(d.startNameSet_=!0,d.indexStartName_=s):(d.startNameSet_=!1,d.indexStartName_=""),d}function is(a,i,s){const d=a.copy();return d.endSet_=!0,void 0===i&&(i=null),d.indexEndValue_=i,void 0!==s?(d.endNameSet_=!0,d.indexEndName_=s):(d.endNameSet_=!1,d.indexEndName_=""),d}function Ps(a,i){const s=a.copy();return s.index_=i,s}function Oo(a){const i={};if(a.isDefault())return i;let s;if(a.index_===Un?s="$priority":a.index_===qe?s="$value":a.index_===Dr?s="$key":((0,K.hu)(a.index_ instanceof R,"Unrecognized index type!"),s=a.index_.toString()),i.orderBy=(0,K.Wl)(s),a.startSet_){const d=a.startAfterSet_?"startAfter":"startAt";i[d]=(0,K.Wl)(a.indexStartValue_),a.startNameSet_&&(i[d]+=","+(0,K.Wl)(a.indexStartName_))}if(a.endSet_){const d=a.endBeforeSet_?"endBefore":"endAt";i[d]=(0,K.Wl)(a.indexEndValue_),a.endNameSet_&&(i[d]+=","+(0,K.Wl)(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?i.limitToFirst=a.limit_:i.limitToLast=a.limit_),i}function qr(a){const i={};if(a.startSet_&&(i.sp=a.indexStartValue_,a.startNameSet_&&(i.sn=a.indexStartName_),i.sin=!a.startAfterSet_),a.endSet_&&(i.ep=a.indexEndValue_,a.endNameSet_&&(i.en=a.indexEndName_),i.ein=!a.endBeforeSet_),a.limitSet_){i.l=a.limit_;let s=a.viewFrom_;""===s&&(s=a.isViewFromLeft()?"l":"r"),i.vf=s}return a.index_!==Un&&(i.i=a.index_.toString()),i}class Ys extends Me{constructor(i,s,d,g){super(),this.repoInfo_=i,this.onDataUpdate_=s,this.authTokenProvider_=d,this.appCheckTokenProvider_=g,this.log_=Vn("p:rest:"),this.listens_={}}reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,s){return void 0!==s?"tag$"+s:((0,K.hu)(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}listen(i,s,d,g){const w=i._path.toString();this.log_("Listen called for "+w+" "+i._queryIdentifier);const N=Ys.getListenId_(i,d),j={};this.listens_[N]=j;const X=Oo(i._queryParams);this.restRequest_(w+".json",X,(ae,He)=>{let ze=He;if(404===ae&&(ze=null,ae=null),null===ae&&this.onDataUpdate_(w,ze,!1,d),(0,K.DV)(this.listens_,N)===j){let rt;rt=ae?401===ae?"permission_denied":"rest_error:"+ae:"ok",g(rt,null)}})}unlisten(i,s){const d=Ys.getListenId_(i,s);delete this.listens_[d]}get(i){const s=Oo(i._queryParams),d=i._path.toString(),g=new K.BH;return this.restRequest_(d+".json",s,(w,N)=>{let j=N;404===w&&(j=null,w=null),null===w?(this.onDataUpdate_(d,j,!1,null),g.resolve(j)):g.reject(new Error(j))}),g.promise}refreshAuthToken(i){}restRequest_(i,s={},d){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([g,w])=>{g&&g.accessToken&&(s.auth=g.accessToken),w&&w.token&&(s.ac=w.token);const N=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+(0,K.xO)(s);this.log_("Sending REST request for "+N);const j=new XMLHttpRequest;j.onreadystatechange=()=>{if(d&&4===j.readyState){this.log_("REST Response for "+N+" received. status:",j.status,"response:",j.responseText);let X=null;if(j.status>=200&&j.status<300){try{X=(0,K.cI)(j.responseText)}catch{Ht("Failed to parse JSON response for "+N+": "+j.responseText)}d(null,X)}else 401!==j.status&&404!==j.status&&Ht("Got unsuccessful REST response for "+N+" Status: "+j.status),d(j.status);d=null}},j.open("GET",N,!0),j.send()})}}class Ha{constructor(){this.rootNode_=Lt.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,s){this.rootNode_=this.rootNode_.updateChild(i,s)}}function Os(){return{value:null,children:new Map}}function ss(a,i,s){if(En(i))a.value=s,a.children.clear();else if(null!==a.value)a.value=a.value.updateChild(i,s);else{const d=Zt(i);a.children.has(d)||a.children.set(d,Os()),ss(a.children.get(d),i=Qt(i),s)}}function po(a,i){if(En(i))return a.value=null,a.children.clear(),!0;if(null!==a.value){if(a.value.isLeafNode())return!1;{const s=a.value;return a.value=null,s.forEachChild(Un,(d,g)=>{ss(a,new gt(d),g)}),po(a,i)}}if(a.children.size>0){const s=Zt(i);return i=Qt(i),a.children.has(s)&&po(a.children.get(s),i)&&a.children.delete(s),0===a.children.size}return!0}function go(a,i,s){null!==a.value?s(i,a.value):function qs(a,i){a.children.forEach((s,d)=>{i(d,s)})}(a,(d,g)=>{go(g,new gt(i.toString()+"/"+d),s)})}class No{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),s=Object.assign({},i);return this.last_&&pn(this.last_,(d,g)=>{s[d]=s[d]-g}),this.last_=i,s}}class $a{constructor(i,s){this.server_=s,this.statsToReport_={},this.statsListener_=new No(i);const d=1e4+2e4*Math.random();nr(this.reportStats_.bind(this),Math.floor(d))}reportStats_(){const i=this.statsListener_.get(),s={};let d=!1;pn(i,(g,w)=>{w>0&&(0,K.r3)(this.statsToReport_,g)&&(s[g]=w,d=!0)}),d&&this.server_.reportStats(s),nr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var yi=function(a){return a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",a}(yi||{});function Ei(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}class Ns{constructor(i,s,d){this.path=i,this.affectedTree=s,this.revert=d,this.type=yi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(i){if(En(this.path)){if(null!=this.affectedTree.value)return(0,K.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new gt(i));return new Ns(It(),s,this.revert)}}return(0,K.hu)(Zt(this.path)===i,"operationForChild called for unrelated child."),new Ns(Qt(this.path),this.affectedTree,this.revert)}}class xs{constructor(i,s){this.source=i,this.path=s,this.type=yi.LISTEN_COMPLETE}operationForChild(i){return En(this.path)?new xs(this.source,It()):new xs(this.source,Qt(this.path))}}class Mn{constructor(i,s,d){this.source=i,this.path=s,this.snap=d,this.type=yi.OVERWRITE}operationForChild(i){return En(this.path)?new Mn(this.source,It(),this.snap.getImmediateChild(i)):new Mn(this.source,Qt(this.path),this.snap)}}class Zi{constructor(i,s,d){this.source=i,this.path=s,this.children=d,this.type=yi.MERGE}operationForChild(i){if(En(this.path)){const s=this.children.subtree(new gt(i));return s.isEmpty()?null:s.value?new Mn(this.source,It(),s.value):new Zi(this.source,It(),s)}return(0,K.hu)(Zt(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new Zi(this.source,Qt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class E{constructor(i,s,d){this.node_=i,this.fullyInitialized_=s,this.filtered_=d}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(En(i))return this.isFullyInitialized()&&!this.filtered_;const s=Zt(i);return this.isCompleteForChild(s)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}class P{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}}function M(a,i,s,d,g,w){const N=d.filter(j=>j.type===s);N.sort((j,X)=>function le(a,i,s){if(null==i.childName||null==s.childName)throw(0,K.g5)("Should only compare child_ events.");const d=new ln(i.childName,i.snapshotNode),g=new ln(s.childName,s.snapshotNode);return a.index_.compare(d,g)}(a,j,X)),N.forEach(j=>{const X=function Z(a,i,s){return"value"===i.type||"child_removed"===i.type||(i.prevName=s.getPredecessorChildName(i.childName,i.snapshotNode,a.index_)),i}(a,j,w);g.forEach(ae=>{ae.respondsTo(j.type)&&i.push(ae.createEvent(X,a.query_))})})}function We(a,i){return{eventCache:a,serverCache:i}}function ut(a,i,s,d){return We(new E(i,s,d),a.serverCache)}function wn(a,i,s,d){return We(a.eventCache,new E(i,s,d))}function Cn(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function On(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}let _n;class Xt{constructor(i,s=(()=>(_n||(_n=new Gn(An)),_n))()){this.value=i,this.children=s}static fromObject(i){let s=new Xt(null);return pn(i,(d,g)=>{s=s.set(new gt(d),g)}),s}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,s){if(null!=this.value&&s(this.value))return{path:It(),value:this.value};if(En(i))return null;{const d=Zt(i),g=this.children.get(d);if(null!==g){const w=g.findRootMostMatchingPathAndValue(Qt(i),s);return null!=w?{path:mn(new gt(d),w.path),value:w.value}:null}return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(En(i))return this;{const s=Zt(i),d=this.children.get(s);return null!==d?d.subtree(Qt(i)):new Xt(null)}}set(i,s){if(En(i))return new Xt(s,this.children);{const d=Zt(i),w=(this.children.get(d)||new Xt(null)).set(Qt(i),s),N=this.children.insert(d,w);return new Xt(this.value,N)}}remove(i){if(En(i))return this.children.isEmpty()?new Xt(null):new Xt(null,this.children);{const s=Zt(i),d=this.children.get(s);if(d){const g=d.remove(Qt(i));let w;return w=g.isEmpty()?this.children.remove(s):this.children.insert(s,g),null===this.value&&w.isEmpty()?new Xt(null):new Xt(this.value,w)}return this}}get(i){if(En(i))return this.value;{const s=Zt(i),d=this.children.get(s);return d?d.get(Qt(i)):null}}setTree(i,s){if(En(i))return s;{const d=Zt(i),w=(this.children.get(d)||new Xt(null)).setTree(Qt(i),s);let N;return N=w.isEmpty()?this.children.remove(d):this.children.insert(d,w),new Xt(this.value,N)}}fold(i){return this.fold_(It(),i)}fold_(i,s){const d={};return this.children.inorderTraversal((g,w)=>{d[g]=w.fold_(mn(i,g),s)}),s(i,this.value,d)}findOnPath(i,s){return this.findOnPath_(i,It(),s)}findOnPath_(i,s,d){const g=!!this.value&&d(s,this.value);if(g)return g;if(En(i))return null;{const w=Zt(i),N=this.children.get(w);return N?N.findOnPath_(Qt(i),mn(s,w),d):null}}foreachOnPath(i,s){return this.foreachOnPath_(i,It(),s)}foreachOnPath_(i,s,d){if(En(i))return this;{this.value&&d(s,this.value);const g=Zt(i),w=this.children.get(g);return w?w.foreachOnPath_(Qt(i),mn(s,g),d):new Xt(null)}}foreach(i){this.foreach_(It(),i)}foreach_(i,s){this.children.inorderTraversal((d,g)=>{g.foreach_(mn(i,d),s)}),this.value&&s(i,this.value)}foreachChild(i){this.children.inorderTraversal((s,d)=>{d.value&&i(s,d.value)})}}class zn{constructor(i){this.writeTree_=i}static empty(){return new zn(new Xt(null))}}function zr(a,i,s){if(En(i))return new zn(new Xt(s));{const d=a.writeTree_.findRootMostValueAndPath(i);if(null!=d){const g=d.path;let w=d.value;const N=Jn(g,i);return w=w.updateChild(N,s),new zn(a.writeTree_.set(g,w))}{const g=new Xt(s),w=a.writeTree_.setTree(i,g);return new zn(w)}}}function Bt(a,i,s){let d=a;return pn(s,(g,w)=>{d=zr(d,mn(i,g),w)}),d}function as(a,i){if(En(i))return zn.empty();{const s=a.writeTree_.setTree(i,new Xt(null));return new zn(s)}}function Qr(a,i){return null!=Ci(a,i)}function Ci(a,i){const s=a.writeTree_.findRootMostValueAndPath(i);return null!=s?a.writeTree_.get(s.path).getChild(Jn(s.path,i)):null}function ls(a){const i=[],s=a.writeTree_.value;return null!=s?s.isLeafNode()||s.forEachChild(Un,(d,g)=>{i.push(new ln(d,g))}):a.writeTree_.children.inorderTraversal((d,g)=>{null!=g.value&&i.push(new ln(d,g.value))}),i}function Jr(a,i){if(En(i))return a;{const s=Ci(a,i);return new zn(null!=s?new Xt(s):a.writeTree_.subtree(i))}}function ta(a){return a.writeTree_.isEmpty()}function Ii(a,i){return na(It(),a.writeTree_,i)}function na(a,i,s){if(null!=i.value)return s.updateChild(a,i.value);{let d=null;return i.children.inorderTraversal((g,w)=>{".priority"===g?((0,K.hu)(null!==w.value,"Priority writes must always be leaf nodes"),d=w.value):s=na(mn(a,g),w,s)}),!s.getChild(a).isEmpty()&&null!==d&&(s=s.updateChild(mn(a,".priority"),d)),s}}function ra(a,i){return Lo(i,a)}function Bn(a,i){if(a.snap)return Nr(a.path,i);for(const s in a.children)if(a.children.hasOwnProperty(s)&&Nr(mn(a.path,s),i))return!0;return!1}function _o(a){return a.visible}function fi(a,i,s){let d=zn.empty();for(let g=0;g<a.length;++g){const w=a[g];if(i(w)){const N=w.path;let j;if(w.snap)Nr(s,N)?(j=Jn(s,N),d=zr(d,j,w.snap)):Nr(N,s)&&(j=Jn(N,s),d=zr(d,It(),w.snap.getChild(j)));else{if(!w.children)throw(0,K.g5)("WriteRecord should have .snap or .children");if(Nr(s,N))j=Jn(s,N),d=Bt(d,j,w.children);else if(Nr(N,s))if(j=Jn(N,s),En(j))d=Bt(d,It(),w.children);else{const X=(0,K.DV)(w.children,Zt(j));if(X){const ae=X.getChild(Qt(j));d=zr(d,It(),ae)}}}}}return d}function Qs(a,i,s,d,g){if(d||g){const w=Jr(a.visibleWrites,i);return!g&&ta(w)?s:g||null!=s||Qr(w,It())?Ii(fi(a.allWrites,function(ae){return(ae.visible||g)&&(!d||!~d.indexOf(ae.writeId))&&(Nr(ae.path,i)||Nr(i,ae.path))},i),s||Lt.EMPTY_NODE):null}{const w=Ci(a.visibleWrites,i);if(null!=w)return w;{const N=Jr(a.visibleWrites,i);return ta(N)?s:null!=s||Qr(N,It())?Ii(N,s||Lt.EMPTY_NODE):null}}}function yo(a,i,s,d){return Qs(a.writeTree,a.treePath,i,s,d)}function pi(a,i){return function Ea(a,i,s){let d=Lt.EMPTY_NODE;const g=Ci(a.visibleWrites,i);if(g)return g.isLeafNode()||g.forEachChild(Un,(w,N)=>{d=d.updateImmediateChild(w,N)}),d;if(s){const w=Jr(a.visibleWrites,i);return s.forEachChild(Un,(N,j)=>{const X=Ii(Jr(w,new gt(N)),j);d=d.updateImmediateChild(N,X)}),ls(w).forEach(N=>{d=d.updateImmediateChild(N.name,N.node)}),d}return ls(Jr(a.visibleWrites,i)).forEach(N=>{d=d.updateImmediateChild(N.name,N.node)}),d}(a.writeTree,a.treePath,i)}function us(a,i,s,d){return function Ri(a,i,s,d,g){(0,K.hu)(d||g,"Either existingEventSnap or existingServerSnap must exist");const w=mn(i,s);if(Qr(a.visibleWrites,w))return null;{const N=Jr(a.visibleWrites,w);return ta(N)?g.getChild(s):Ii(N,g.getChild(s))}}(a.writeTree,a.treePath,i,s,d)}function ko(a,i){return function kl(a,i){return Ci(a.visibleWrites,i)}(a.writeTree,mn(a.treePath,i))}function Ui(a,i,s){return function vo(a,i,s,d){const g=mn(i,s),w=Ci(a.visibleWrites,g);return null!=w?w:d.isCompleteForChild(s)?Ii(Jr(a.visibleWrites,g),d.getNode().getImmediateChild(s)):null}(a.writeTree,a.treePath,i,s)}function si(a,i){return Lo(mn(a.treePath,i),a.writeTree)}function Lo(a,i){return{treePath:a,writeTree:i}}class Wa{constructor(){this.changeMap=new Map}trackChildChange(i){const s=i.type,d=i.childName;(0,K.hu)("child_added"===s||"child_changed"===s||"child_removed"===s,"Only child changes supported for tracking"),(0,K.hu)(".priority"!==d,"Only non-priority child changes can be tracked.");const g=this.changeMap.get(d);if(g){const w=g.type;if("child_added"===s&&"child_removed"===w)this.changeMap.set(d,Gr(d,i.snapshotNode,g.snapshotNode));else if("child_removed"===s&&"child_added"===w)this.changeMap.delete(d);else if("child_removed"===s&&"child_changed"===w)this.changeMap.set(d,ii(d,g.oldSnap));else if("child_changed"===s&&"child_added"===w)this.changeMap.set(d,Xn(d,i.snapshotNode));else{if("child_changed"!==s||"child_changed"!==w)throw(0,K.g5)("Illegal combination of changes: "+i+" occurred after "+g);this.changeMap.set(d,Gr(d,i.snapshotNode,g.oldSnap))}}else this.changeMap.set(d,i)}getChanges(){return Array.from(this.changeMap.values())}}const Xs=new class Ca{getCompleteChild(i){return null}getChildAfterChild(i,s,d){return null}};class ia{constructor(i,s,d=null){this.writes_=i,this.viewCache_=s,this.optCompleteServerCache_=d}getCompleteChild(i){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(i))return s.getNode().getImmediateChild(i);{const d=null!=this.optCompleteServerCache_?new E(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ui(this.writes_,i,d)}}getChildAfterChild(i,s,d){const g=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:On(this.viewCache_),w=function Tr(a,i,s,d,g,w){return function br(a,i,s,d,g,w,N){let j;const X=Jr(a.visibleWrites,i),ae=Ci(X,It());if(null!=ae)j=ae;else{if(null==s)return[];j=Ii(X,s)}if(j=j.withIndex(N),j.isEmpty()||j.isLeafNode())return[];{const He=[],ze=N.getCompare(),rt=w?j.getReverseIteratorFrom(d,N):j.getIteratorFrom(d,N);let kt=rt.getNext();for(;kt&&He.length<g;)0!==ze(kt,d)&&He.push(kt),kt=rt.getNext();return He}}(a.writeTree,a.treePath,i,s,d,g,w)}(this.writes_,g,s,1,d,i);return 0===w.length?null:w[0]}}function oa(a,i,s,d,g,w){const N=i.eventCache;if(null!=ko(d,s))return i;{let j,X;if(En(s))if((0,K.hu)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const ae=On(i),ze=pi(d,ae instanceof Lt?ae:Lt.EMPTY_NODE);j=a.filter.updateFullNode(i.eventCache.getNode(),ze,w)}else{const ae=yo(d,On(i));j=a.filter.updateFullNode(i.eventCache.getNode(),ae,w)}else{const ae=Zt(s);if(".priority"===ae){(0,K.hu)(1===Fn(s),"Can't have a priority with additional path components");const He=N.getNode();X=i.serverCache.getNode();const ze=us(d,s,He,X);j=null!=ze?a.filter.updatePriority(He,ze):N.getNode()}else{const He=Qt(s);let ze;if(N.isCompleteForChild(ae)){X=i.serverCache.getNode();const rt=us(d,s,N.getNode(),X);ze=null!=rt?N.getNode().getImmediateChild(ae).updateChild(He,rt):N.getNode().getImmediateChild(ae)}else ze=Ui(d,ae,i.serverCache);j=null!=ze?a.filter.updateChild(N.getNode(),ae,ze,He,g,w):N.getNode()}}return ut(i,j,N.isFullyInitialized()||En(s),a.filter.filtersNodes())}}function Eo(a,i,s,d,g,w,N,j){const X=i.serverCache;let ae;const He=N?a.filter:a.filter.getIndexedFilter();if(En(s))ae=He.updateFullNode(X.getNode(),d,null);else if(He.filtersNodes()&&!X.isFiltered()){const kt=X.getNode().updateChild(s,d);ae=He.updateFullNode(X.getNode(),kt,null)}else{const kt=Zt(s);if(!X.isCompleteForPath(s)&&Fn(s)>1)return i;const on=Qt(s),Xi=X.getNode().getImmediateChild(kt).updateChild(on,d);ae=".priority"===kt?He.updatePriority(X.getNode(),Xi):He.updateChild(X.getNode(),kt,Xi,on,Xs,null)}const ze=wn(i,ae,X.isFullyInitialized()||En(s),He.filtersNodes());return oa(a,ze,s,g,new ia(g,ze,w),j)}function Da(a,i,s,d,g,w,N){const j=i.eventCache;let X,ae;const He=new ia(g,i,w);if(En(s))ae=a.filter.updateFullNode(i.eventCache.getNode(),d,N),X=ut(i,ae,!0,a.filter.filtersNodes());else{const ze=Zt(s);if(".priority"===ze)ae=a.filter.updatePriority(i.eventCache.getNode(),d),X=ut(i,ae,j.isFullyInitialized(),j.isFiltered());else{const rt=Qt(s),kt=j.getNode().getImmediateChild(ze);let on;if(En(rt))on=d;else{const mr=He.getCompleteChild(ze);on=null!=mr?".priority"===Qn(rt)&&mr.getChild(Jt(rt)).isEmpty()?mr:mr.updateChild(rt,d):Lt.EMPTY_NODE}X=kt.equals(on)?i:ut(i,a.filter.updateChild(j.getNode(),ze,on,rt,He,N),j.isFullyInitialized(),a.filter.filtersNodes())}}return X}function za(a,i){return a.eventCache.isCompleteForChild(i)}function ks(a,i,s){return s.foreach((d,g)=>{i=i.updateChild(d,g)}),i}function wa(a,i,s,d,g,w,N,j){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let ae,X=i;ae=En(s)?d:new Xt(null).setTree(s,d);const He=i.serverCache.getNode();return ae.children.inorderTraversal((ze,rt)=>{if(He.hasChild(ze)){const on=ks(0,i.serverCache.getNode().getImmediateChild(ze),rt);X=Eo(a,X,new gt(ze),on,g,w,N,j)}}),ae.children.inorderTraversal((ze,rt)=>{const kt=!i.serverCache.isCompleteForChild(ze)&&null===rt.value;if(!He.hasChild(ze)&&!kt){const mr=ks(0,i.serverCache.getNode().getImmediateChild(ze),rt);X=Eo(a,X,new gt(ze),mr,g,w,N,j)}}),X}class Sr{constructor(i,s){this.query_=i,this.eventRegistrations_=[];const d=this.query_._queryParams,g=new Ai(d.getIndex()),w=function Ks(a){return a.loadsAllData()?new Ai(a.getIndex()):a.hasLimit()?new hi(a):new fr(a)}(d);this.processor_=function Ga(a){return{filter:a}}(w);const N=s.serverCache,j=s.eventCache,X=g.updateFullNode(Lt.EMPTY_NODE,N.getNode(),null),ae=w.updateFullNode(Lt.EMPTY_NODE,j.getNode(),null),He=new E(X,N.isFullyInitialized(),g.filtersNodes()),ze=new E(ae,j.isFullyInitialized(),w.filtersNodes());this.viewCache_=We(ze,He),this.eventGenerator_=new P(this.query_)}get query(){return this.query_}}function dl(a,i){const s=On(a.viewCache_);return s&&(a.query._queryParams.loadsAllData()||!En(i)&&!s.getImmediateChild(Zt(i)).isEmpty())?s.getChild(i):null}function Ul(a){return 0===a.eventRegistrations_.length}function hl(a,i,s){const d=[];if(s){(0,K.hu)(null==i,"A cancel should cancel all event registrations.");const g=a.query._path;a.eventRegistrations_.forEach(w=>{const N=w.createCancelEvent(s,g);N&&d.push(N)})}if(i){let g=[];for(let w=0;w<a.eventRegistrations_.length;++w){const N=a.eventRegistrations_[w];if(N.matches(i)){if(i.hasAnyCallback()){g=g.concat(a.eventRegistrations_.slice(w+1));break}}else g.push(N)}a.eventRegistrations_=g}else a.eventRegistrations_=[];return d}function Vo(a,i,s,d){i.type===yi.MERGE&&null!==i.source.queryId&&((0,K.hu)(On(a.viewCache_),"We should always have a full cache before handling merges"),(0,K.hu)(Cn(a.viewCache_),"Missing event cache, even though we have a server cache"));const g=a.viewCache_,w=function cl(a,i,s,d,g){const w=new Wa;let N,j;if(s.type===yi.OVERWRITE){const ae=s;ae.source.fromUser?N=Da(a,i,ae.path,ae.snap,d,g,w):((0,K.hu)(ae.source.fromServer,"Unknown source."),j=ae.source.tagged||i.serverCache.isFiltered()&&!En(ae.path),N=Eo(a,i,ae.path,ae.snap,d,g,j,w))}else if(s.type===yi.MERGE){const ae=s;ae.source.fromUser?N=function Ll(a,i,s,d,g,w,N){let j=i;return d.foreach((X,ae)=>{const He=mn(s,X);za(i,Zt(He))&&(j=Da(a,j,He,ae,g,w,N))}),d.foreach((X,ae)=>{const He=mn(s,X);za(i,Zt(He))||(j=Da(a,j,He,ae,g,w,N))}),j}(a,i,ae.path,ae.children,d,g,w):((0,K.hu)(ae.source.fromServer,"Unknown source."),j=ae.source.tagged||i.serverCache.isFiltered(),N=wa(a,i,ae.path,ae.children,d,g,j,w))}else if(s.type===yi.ACK_USER_WRITE){const ae=s;N=ae.revert?function Ls(a,i,s,d,g,w){let N;if(null!=ko(d,s))return i;{const j=new ia(d,i,g),X=i.eventCache.getNode();let ae;if(En(s)||".priority"===Zt(s)){let He;if(i.serverCache.isFullyInitialized())He=yo(d,On(i));else{const ze=i.serverCache.getNode();(0,K.hu)(ze instanceof Lt,"serverChildren would be complete if leaf node"),He=pi(d,ze)}ae=a.filter.updateFullNode(X,He,w)}else{const He=Zt(s);let ze=Ui(d,He,i.serverCache);null==ze&&i.serverCache.isCompleteForChild(He)&&(ze=X.getImmediateChild(He)),ae=null!=ze?a.filter.updateChild(X,He,ze,Qt(s),j,w):i.eventCache.getNode().hasChild(He)?a.filter.updateChild(X,He,Lt.EMPTY_NODE,Qt(s),j,w):X,ae.isEmpty()&&i.serverCache.isFullyInitialized()&&(N=yo(d,On(i)),N.isLeafNode()&&(ae=a.filter.updateFullNode(ae,N,w)))}return N=i.serverCache.isFullyInitialized()||null!=ko(d,It()),ut(i,ae,N,a.filter.filtersNodes())}}(a,i,ae.path,d,g,w):function Fl(a,i,s,d,g,w,N){if(null!=ko(g,s))return i;const j=i.serverCache.isFiltered(),X=i.serverCache;if(null!=d.value){if(En(s)&&X.isFullyInitialized()||X.isCompleteForPath(s))return Eo(a,i,s,X.getNode().getChild(s),g,w,j,N);if(En(s)){let ae=new Xt(null);return X.getNode().forEachChild(Dr,(He,ze)=>{ae=ae.set(new gt(He),ze)}),wa(a,i,s,ae,g,w,j,N)}return i}{let ae=new Xt(null);return d.foreach((He,ze)=>{const rt=mn(s,He);X.isCompleteForPath(rt)&&(ae=ae.set(He,X.getNode().getChild(rt)))}),wa(a,i,s,ae,g,w,j,N)}}(a,i,ae.path,ae.affectedTree,d,g,w)}else{if(s.type!==yi.LISTEN_COMPLETE)throw(0,K.g5)("Unknown operation type: "+s.type);N=function Di(a,i,s,d,g){const w=i.serverCache;return oa(a,wn(i,w.getNode(),w.isFullyInitialized()||En(s),w.isFiltered()),s,d,Xs,g)}(a,i,s.path,d,w)}const X=w.getChanges();return function Ia(a,i,s){const d=i.eventCache;if(d.isFullyInitialized()){const g=d.getNode().isLeafNode()||d.getNode().isEmpty(),w=Cn(a);(s.length>0||!a.eventCache.isFullyInitialized()||g&&!d.getNode().equals(w)||!d.getNode().getPriority().equals(w.getPriority()))&&s.push(Ot(Cn(i)))}}(i,N,X),{viewCache:N,changes:X}}(a.processor_,g,i,s,d);return function sa(a,i){(0,K.hu)(i.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),(0,K.hu)(i.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}(a.processor_,w.viewCache),(0,K.hu)(w.viewCache.serverCache.isFullyInitialized()||!g.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=w.viewCache,I(a,w.changes,w.viewCache.eventCache.getNode(),null)}function I(a,i,s,d){return function Q(a,i,s,d){const g=[],w=[];return i.forEach(N=>{"child_changed"===N.type&&a.index_.indexedValueChanged(N.oldSnap,N.snapshotNode)&&w.push(function Hr(a,i){return{type:"child_moved",snapshotNode:i,childName:a}}(N.childName,N.snapshotNode))}),M(a,g,"child_removed",i,d,s),M(a,g,"child_added",i,d,s),M(a,g,"child_moved",w,d,s),M(a,g,"child_changed",i,d,s),M(a,g,"value",i,d,s),g}(a.eventGenerator_,i,s,d?[d]:a.eventRegistrations_)}let T,Ds;class v{constructor(){this.views=new Map}}function re(a,i,s,d){const g=i.source.queryId;if(null!==g){const w=a.views.get(g);return(0,K.hu)(null!=w,"SyncTree gave us an op for an invalid query."),Vo(w,i,s,d)}{let w=[];for(const N of a.views.values())w=w.concat(Vo(N,i,s,d));return w}}function Ze(a,i,s,d,g){const N=a.views.get(i._queryIdentifier);if(!N){let j=yo(s,g?d:null),X=!1;j?X=!0:d instanceof Lt?(j=pi(s,d),X=!1):(j=Lt.EMPTY_NODE,X=!1);const ae=We(new E(j,X,!1),new E(d,g,!1));return new Sr(i,ae)}return N}function zt(a){const i=[];for(const s of a.views.values())s.query._queryParams.loadsAllData()||i.push(s);return i}function ur(a,i){let s=null;for(const d of a.views.values())s=s||dl(d,i);return s}function gi(a,i){return i._queryParams.loadsAllData()?eo(a):a.views.get(i._queryIdentifier)}function Fs(a,i){return null!=gi(a,i)}function Pi(a){return null!=eo(a)}function eo(a){for(const i of a.views.values())if(i.query._queryParams.loadsAllData())return i;return null}let Bi=1;class Bl{constructor(i){this.listenProvider_=i,this.syncPointTree_=new Xt(null),this.pendingWriteTree_=function Js(){return{visibleWrites:zn.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function aa(a,i,s,d,g){return function ya(a,i,s,d,g){(0,K.hu)(d>a.lastWriteId,"Stacking an older write on top of newer ones"),void 0===g&&(g=!0),a.allWrites.push({path:i,snap:s,writeId:d,visible:g}),g&&(a.visibleWrites=zr(a.visibleWrites,i,s)),a.lastWriteId=d}(a.pendingWriteTree_,i,s,d,g),g?Us(a,new Mn({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,s)):[]}function Yi(a,i,s=!1){const d=function xl(a,i){for(let s=0;s<a.allWrites.length;s++){const d=a.allWrites[s];if(d.writeId===i)return d}return null}(a.pendingWriteTree_,i);if(function tt(a,i){const s=a.allWrites.findIndex(j=>j.writeId===i);(0,K.hu)(s>=0,"removeWrite called with nonexistent writeId.");const d=a.allWrites[s];a.allWrites.splice(s,1);let g=d.visible,w=!1,N=a.allWrites.length-1;for(;g&&N>=0;){const j=a.allWrites[N];j.visible&&(N>=s&&Bn(j,d.path)?g=!1:Nr(d.path,j.path)&&(w=!0)),N--}return!!g&&(w?(function cu(a){a.visibleWrites=fi(a.allWrites,_o,It()),a.lastWriteId=a.allWrites.length>0?a.allWrites[a.allWrites.length-1].writeId:-1}(a),!0):(d.snap?a.visibleWrites=as(a.visibleWrites,d.path):pn(d.children,X=>{a.visibleWrites=as(a.visibleWrites,mn(d.path,X))}),!0))}(a.pendingWriteTree_,i)){let w=new Xt(null);return null!=d.snap?w=w.set(It(),!0):pn(d.children,N=>{w=w.set(new gt(N),!0)}),Us(a,new Ns(d.path,w,s))}return[]}function Sa(a,i,s){return Us(a,new Mn({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,s))}function cs(a,i,s,d,g=!1){const w=i._path,N=a.syncPointTree_.get(w);let j=[];if(N&&("default"===i._queryIdentifier||Fs(N,i))){const X=function Sn(a,i,s,d){const g=i._queryIdentifier,w=[];let N=[];const j=Pi(a);if("default"===g)for(const[X,ae]of a.views.entries())N=N.concat(hl(ae,s,d)),Ul(ae)&&(a.views.delete(X),ae.query._queryParams.loadsAllData()||w.push(ae.query));else{const X=a.views.get(g);X&&(N=N.concat(hl(X,s,d)),Ul(X)&&(a.views.delete(g),X.query._queryParams.loadsAllData()||w.push(X.query)))}return j&&!Pi(a)&&w.push(new(function z(){return(0,K.hu)(T,"Reference.ts has not been loaded"),T}())(i._repo,i._path)),{removed:w,events:N}}(N,i,s,d);(function J(a){return 0===a.views.size})(N)&&(a.syncPointTree_=a.syncPointTree_.remove(w));const ae=X.removed;if(j=X.events,!g){const He=-1!==ae.findIndex(rt=>rt._queryParams.loadsAllData()),ze=a.syncPointTree_.findOnPath(w,(rt,kt)=>Pi(kt));if(He&&!ze){const rt=a.syncPointTree_.subtree(w);if(!rt.isEmpty()){const kt=function jl(a){return a.fold((i,s,d)=>{if(s&&Pi(s))return[eo(s)];{let g=[];return s&&(g=zt(s)),pn(d,(w,N)=>{g=g.concat(N)}),g}})}(rt);for(let on=0;on<kt.length;++on){const mr=kt[on],Xi=mr.query,Va=gl(a,mr);a.listenProvider_.startListening(da(Xi),ca(a,Xi),Va.hashFn,Va.onComplete)}}}!ze&&ae.length>0&&!d&&(He?a.listenProvider_.stopListening(da(i),null):ae.forEach(rt=>{const kt=a.queryToTagMap.get(Aa(rt));a.listenProvider_.stopListening(da(rt),kt)}))}!function fu(a,i){for(let s=0;s<i.length;++s){const d=i[s];if(!d._queryParams.loadsAllData()){const g=Aa(d),w=a.queryToTagMap.get(g);a.queryToTagMap.delete(g),a.tagToQueryMap.delete(w)}}}(a,ae)}return j}function pl(a,i,s,d){const g=hu(a,d);if(null!=g){const w=Bo(g),N=w.path,j=w.queryId,X=Jn(N,i);return Co(a,N,new Mn(Ei(j),X,s))}return[]}function la(a,i,s,d=!1){const g=i._path;let w=null,N=!1;a.syncPointTree_.foreachOnPath(g,(rt,kt)=>{const on=Jn(rt,g);w=w||ur(kt,on),N=N||Pi(kt)});let X,j=a.syncPointTree_.get(g);j?(N=N||Pi(j),w=w||ur(j,It())):(j=new v,a.syncPointTree_=a.syncPointTree_.set(g,j)),null!=w?X=!0:(X=!1,w=Lt.EMPTY_NODE,a.syncPointTree_.subtree(g).foreachChild((kt,on)=>{const mr=ur(on,It());mr&&(w=w.updateImmediateChild(kt,mr))}));const ae=Fs(j,i);if(!ae&&!i._queryParams.loadsAllData()){const rt=Aa(i);(0,K.hu)(!a.queryToTagMap.has(rt),"View does not exist, but we have a tag");const kt=function Ho(){return Bi++}();a.queryToTagMap.set(rt,kt),a.tagToQueryMap.set(kt,rt)}let ze=function mt(a,i,s,d,g,w){const N=Ze(a,i,d,g,w);return a.views.has(i._queryIdentifier)||a.views.set(i._queryIdentifier,N),function Ka(a,i){a.eventRegistrations_.push(i)}(N,s),function _(a,i){const s=a.viewCache_.eventCache,d=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(Un,(w,N)=>{d.push(Xn(w,N))}),s.isFullyInitialized()&&d.push(Ot(s.getNode())),I(a,d,s.getNode(),i)}(N,s)}(j,i,s,ra(a.pendingWriteTree_,g),w,X);if(!ae&&!N&&!d){const rt=gi(j,i);ze=ze.concat(function Ru(a,i,s){const d=i._path,g=ca(a,i),w=gl(a,s),N=a.listenProvider_.startListening(da(i),g,w.hashFn,w.onComplete),j=a.syncPointTree_.subtree(d);if(g)(0,K.hu)(!Pi(j.value),"If we're adding a query, it shouldn't be shadowed");else{const X=j.fold((ae,He,ze)=>{if(!En(ae)&&He&&Pi(He))return[eo(He).query];{let rt=[];return He&&(rt=rt.concat(zt(He).map(kt=>kt.query))),pn(ze,(kt,on)=>{rt=rt.concat(on)}),rt}});for(let ae=0;ae<X.length;++ae){const He=X[ae];a.listenProvider_.stopListening(da(He),ca(a,He))}}return N}(a,i,rt))}return ze}function ua(a,i,s){const g=a.pendingWriteTree_,w=a.syncPointTree_.findOnPath(i,(N,j)=>{const ae=ur(j,Jn(N,i));if(ae)return ae});return Qs(g,i,w,s,!0)}function Us(a,i){return Mu(i,a.syncPointTree_,null,ra(a.pendingWriteTree_,It()))}function Mu(a,i,s,d){if(En(a.path))return Ya(a,i,s,d);{const g=i.get(It());null==s&&null!=g&&(s=ur(g,It()));let w=[];const N=Zt(a.path),j=a.operationForChild(N),X=i.children.get(N);if(X&&j){const ae=s?s.getImmediateChild(N):null,He=si(d,N);w=w.concat(Mu(j,X,ae,He))}return g&&(w=w.concat(re(g,a,d,s))),w}}function Ya(a,i,s,d){const g=i.get(It());null==s&&null!=g&&(s=ur(g,It()));let w=[];return i.children.inorderTraversal((N,j)=>{const X=s?s.getImmediateChild(N):null,ae=si(d,N),He=a.operationForChild(N);He&&(w=w.concat(Ya(He,j,X,ae)))}),g&&(w=w.concat(re(g,a,d,s))),w}function gl(a,i){const s=i.query,d=ca(a,s);return{hashFn:()=>(function Fo(a){return a.viewCache_.serverCache.getNode()}(i)||Lt.EMPTY_NODE).hash(),onComplete:g=>{if("ok"===g)return d?function du(a,i,s){const d=hu(a,s);if(d){const g=Bo(d),w=g.path,N=g.queryId,j=Jn(w,i);return Co(a,w,new xs(Ei(N),j))}return[]}(a,s._path,d):function fl(a,i){return Us(a,new xs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i))}(a,s._path);{const w=function nn(a,i){let s="Unknown Error";"too_big"===a?s="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===a?s="Client doesn't have permission to access the desired data.":"unavailable"===a&&(s="The service is unavailable");const d=new Error(a+" at "+i._path.toString()+": "+s);return d.code=a.toUpperCase(),d}(g,s);return cs(a,s,null,w)}}}}function ca(a,i){const s=Aa(i);return a.queryToTagMap.get(s)}function Aa(a){return a._path.toString()+"$"+a._queryIdentifier}function hu(a,i){return a.tagToQueryMap.get(i)}function Bo(a){const i=a.indexOf("$");return(0,K.hu)(-1!==i&&i<a.length-1,"Bad queryKey."),{queryId:a.substr(i+1),path:new gt(a.substr(0,i))}}function Co(a,i,s){const d=a.syncPointTree_.get(i);return(0,K.hu)(d,"Missing sync point for query tag that we're tracking"),re(d,s,ra(a.pendingWriteTree_,i),null)}function da(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(function Uo(){return(0,K.hu)(Ds,"Reference.ts has not been loaded"),Ds}())(a._repo,a._path):a}class ml{constructor(i){this.node_=i}getImmediateChild(i){const s=this.node_.getImmediateChild(i);return new ml(s)}node(){return this.node_}}class ha{constructor(i,s){this.syncTree_=i,this.path_=s}getImmediateChild(i){const s=mn(this.path_,i);return new ha(this.syncTree_,s)}node(){return ua(this.syncTree_,this.path_)}}const Pu=function(a){return(a=a||{}).timestamp=a.timestamp||(new Date).getTime(),a},pu=function(a,i,s){return a&&"object"==typeof a?((0,K.hu)(".sv"in a,"Unexpected leaf node or priority contents"),"string"==typeof a[".sv"]?qa(a[".sv"],i,s):"object"==typeof a[".sv"]?Ma(a[".sv"],i):void(0,K.hu)(!1,"Unexpected server value: "+JSON.stringify(a,null,2))):a},qa=function(a,i,s){if("timestamp"===a)return s.timestamp;(0,K.hu)(!1,"Unexpected server value: "+a)},Ma=function(a,i,s){a.hasOwnProperty("increment")||(0,K.hu)(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const d=a.increment;"number"!=typeof d&&(0,K.hu)(!1,"Unexpected increment value: "+d);const g=i.node();if((0,K.hu)(null!==g&&typeof g<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!g.isLeafNode())return d;const N=g.getValue();return"number"!=typeof N?d:N+d},Io=function(a,i,s,d){return Ra(i,new ha(s,a),d)},Bs=function(a,i,s){return Ra(a,new ml(i),s)};function Ra(a,i,s){const d=a.getPriority().val(),g=pu(d,i.getImmediateChild(".priority"),s);let w;if(a.isLeafNode()){const N=a,j=pu(N.getValue(),i,s);return j!==N.getValue()||g!==N.getPriority().val()?new Ss(j,G(g)):a}{const N=a;return w=N,g!==N.getPriority().val()&&(w=w.updatePriority(new Ss(g))),N.forEachChild(Un,(j,X)=>{const ae=Ra(X,i.getImmediateChild(j),s);ae!==X&&(w=w.updateImmediateChild(j,ae))}),w}}class jo{constructor(i="",s=null,d={children:{},childCount:0}){this.name=i,this.parent=s,this.node=d}}function ds(a,i){let s=i instanceof gt?i:new gt(i),d=a,g=Zt(s);for(;null!==g;){const w=(0,K.DV)(d.node.children,g)||{children:{},childCount:0};d=new jo(g,d,w),s=Qt(s),g=Zt(s)}return d}function $o(a){return a.node.value}function Pa(a,i){a.node.value=i,Wo(a)}function _l(a){return a.node.childCount>0}function Qa(a,i){pn(a.node.children,(s,d)=>{i(new jo(s,a,d))})}function Ou(a,i,s,d){s&&!d&&i(a),Qa(a,g=>{Ou(g,i,!0,d)}),s&&d&&i(a)}function Wl(a){return new gt(null===a.parent?a.name:Wl(a.parent)+"/"+a.name)}function Wo(a){null!==a.parent&&function xu(a,i,s){const d=function $l(a){return void 0===$o(a)&&!_l(a)}(s),g=(0,K.r3)(a.node.children,i);d&&g?(delete a.node.children[i],a.node.childCount--,Wo(a)):!d&&!g&&(a.node.children[i]=s.node,a.node.childCount++,Wo(a))}(a.parent,a.name,a)}const Go=/[\[\].#$\/\u0000-\u001F\u007F]/,oi=/[\[\].#$\u0000-\u001F\u007F]/,Gl=10485760,Do=function(a){return"string"==typeof a&&0!==a.length&&!Go.test(a)},zo=function(a){return"string"==typeof a&&0!==a.length&&!oi.test(a)},ji=function(a){return null===a||"string"==typeof a||"number"==typeof a&&!ir(a)||a&&"object"==typeof a&&(0,K.r3)(a,".sv")},to=function(a,i,s,d){d&&void 0===i||fa((0,K.gK)(a,"value"),i,s)},fa=function(a,i,s){const d=s instanceof gt?new ni(s,a):s;if(void 0===i)throw new Error(a+"contains undefined "+Zn(d));if("function"==typeof i)throw new Error(a+"contains a function "+Zn(d)+" with contents = "+i.toString());if(ir(i))throw new Error(a+"contains "+i.toString()+" "+Zn(d));if("string"==typeof i&&i.length>Gl/3&&(0,K.ug)(i)>Gl)throw new Error(a+"contains a string greater than "+Gl+" utf8 bytes "+Zn(d)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){let g=!1,w=!1;if(pn(i,(N,j)=>{if(".value"===N)g=!0;else if(".priority"!==N&&".sv"!==N&&(w=!0,!Do(N)))throw new Error(a+" contains an invalid key ("+N+") "+Zn(d)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Si(a,i){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(i),a.byteLength_+=(0,K.ug)(i),Zr(a)})(d,N),fa(a,j,d),function js(a){const i=a.parts_.pop();a.byteLength_-=(0,K.ug)(i),a.parts_.length>0&&(a.byteLength_-=1)}(d)}),g&&w)throw new Error(a+' contains ".value" child '+Zn(d)+" in addition to actual children.")}},gu=function(a,i,s,d){if(d&&void 0===i)return;const g=(0,K.gK)(a,"values");if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(g+" must be an object containing the children to replace.");const w=[];pn(i,(N,j)=>{const X=new gt(N);if(fa(g,j,mn(s,X)),".priority"===Qn(X)&&!ji(j))throw new Error(g+"contains an invalid value for '"+X.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");w.push(X)}),function(a,i){let s,d;for(s=0;s<i.length;s++){d=i[s];const w=ti(d);for(let N=0;N<w.length;N++)if((".priority"!==w[N]||N!==w.length-1)&&!Do(w[N]))throw new Error(a+"contains an invalid key ("+w[N]+") in path "+d.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}i.sort(hr);let g=null;for(s=0;s<i.length;s++){if(d=i[s],null!==g&&Nr(g,d))throw new Error(a+"contains a path "+g.toString()+" that is ancestor of another path "+d.toString());g=d}}(g,w)},mu=function(a,i,s){if(!s||void 0!==i){if(ir(i))throw new Error((0,K.gK)(a,"priority")+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ji(i))throw new Error((0,K.gK)(a,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},vl=function(a,i,s,d){if(!(d&&void 0===s||Do(s)))throw new Error((0,K.gK)(a,i)+'was an invalid key = "'+s+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},C=function(a,i,s,d){if(!(d&&void 0===s||zo(s)))throw new Error((0,K.gK)(a,i)+'was an invalid path = "'+s+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},b=function(a,i,s,d){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),C(a,i,s,d)},L=function(a,i){if(".info"===Zt(i))throw new Error(a+" failed = Can't modify data under /.info/")},q=function(a,i){const s=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!Do(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==s.length&&!function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),zo(a)}(s))throw new Error((0,K.gK)(a,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ge{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ee(a,i){let s=null;for(let d=0;d<i.length;d++){const g=i[d],w=g.getPath();null!==s&&!ui(w,s.path)&&(a.eventLists_.push(s),s=null),null===s&&(s={events:[],path:w}),s.events.push(g)}s&&a.eventLists_.push(s)}function je(a,i,s){Ee(a,s),Ct(a,d=>ui(d,i))}function _t(a,i,s){Ee(a,s),Ct(a,d=>Nr(d,i)||Nr(i,d))}function Ct(a,i){a.recursionDepth_++;let s=!0;for(let d=0;d<a.eventLists_.length;d++){const g=a.eventLists_[d];g&&(i(g.path)?(Wt(a.eventLists_[d]),a.eventLists_[d]=null):s=!1)}s&&(a.eventLists_=[]),a.recursionDepth_--}function Wt(a){for(let i=0;i<a.events.length;i++){const s=a.events[i];if(null!==s){a.events[i]=null;const d=s.getEventRunner();Tn&&lt("event: "+s.toString()),wr(d)}}}const vn="repo_interrupt",bn=25;class qi{constructor(i,s,d,g){this.repoInfo_=i,this.forceRestClient_=s,this.authTokenProvider_=d,this.appCheckProvider_=g,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ge,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Os(),this.transactionQueueTree_=new jo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function pa(a){const s=a.infoData_.getNode(new gt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+s}function no(a){return Pu({timestamp:pa(a)})}function Ko(a,i,s,d,g){a.dataUpdateCount++;const w=new gt(i);s=a.interceptServerDataCallback_?a.interceptServerDataCallback_(i,s):s;let N=[];if(g)if(d){const X=(0,K.UI)(s,ae=>G(ae));N=function Hl(a,i,s,d){const g=hu(a,d);if(g){const w=Bo(g),N=w.path,j=w.queryId,X=Jn(N,i),ae=Xt.fromObject(s);return Co(a,N,new Zi(Ei(j),X,ae))}return[]}(a.serverSyncTree_,w,X,g)}else{const X=G(s);N=pl(a.serverSyncTree_,w,X,g)}else if(d){const X=(0,K.UI)(s,ae=>G(ae));N=function Vs(a,i,s){const d=Xt.fromObject(s);return Us(a,new Zi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,d))}(a.serverSyncTree_,w,X)}else{const X=G(s);N=Sa(a.serverSyncTree_,w,X)}let j=w;N.length>0&&(j=tl(a,w)),_t(a.eventQueue_,j,N)}function $i(a,i){Ja(a,"connected",i),!1===i&&function tc(a){el(a,"onDisconnectEvents");const i=no(a),s=Os();go(a.onDisconnect_,It(),(g,w)=>{const N=Io(g,w,a.serverSyncTree_,i);ss(s,g,N)});let d=[];go(s,It(),(g,w)=>{d=d.concat(Sa(a.serverSyncTree_,g,w));const N=lc(a,g);tl(a,N)}),a.onDisconnect_=Os(),_t(a.eventQueue_,It(),d)}(a)}function Ja(a,i,s){const d=new gt("/.info/"+i),g=G(s);a.infoData_.updateSnapshot(d,g);const w=Sa(a.infoSyncTree_,d,g);_t(a.eventQueue_,d,w)}function Na(a){return a.nextWriteId_++}function ku(a,i,s,d,g){el(a,"set",{path:i.toString(),value:s,priority:d});const w=no(a),N=G(s,d),j=ua(a.serverSyncTree_,i),X=Bs(N,j,w),ae=Na(a),He=aa(a.serverSyncTree_,i,X,ae,!0);Ee(a.eventQueue_,He),a.server_.put(i.toString(),N.val(!0),(rt,kt)=>{const on="ok"===rt;on||Ht("set at "+i+" failed: "+rt);const mr=Yi(a.serverSyncTree_,ae,!on);_t(a.eventQueue_,i,mr),xa(0,g,rt,kt)});const ze=lc(a,i);tl(a,ze),_t(a.eventQueue_,ze,[])}function ga(a,i,s){a.server_.onDisconnectCancel(i.toString(),(d,g)=>{"ok"===d&&po(a.onDisconnect_,i),xa(0,s,d,g)})}function Xa(a,i,s,d){const g=G(s);a.server_.onDisconnectPut(i.toString(),g.val(!0),(w,N)=>{"ok"===w&&ss(a.onDisconnect_,i,g),xa(0,d,w,N)})}function Fu(a,i,s){let d;d=".info"===Zt(i._path)?cs(a.infoSyncTree_,i,s):cs(a.serverSyncTree_,i,s),je(a.eventQueue_,i._path,d)}function Jc(a){a.persistentConnection_&&a.persistentConnection_.interrupt(vn)}function el(a,...i){let s="";a.persistentConnection_&&(s=a.persistentConnection_.id+":"),lt(s,...i)}function xa(a,i,s,d){i&&wr(()=>{if("ok"===s)i(null);else{const g=(s||"error").toUpperCase();let w=g;d&&(w+=": "+d);const N=new Error(w);N.code=g,i(N)}})}function Zo(a,i,s){return ua(a.serverSyncTree_,i,s)||Lt.EMPTY_NODE}function vu(a,i=a.transactionQueueTree_){if(i||ka(a,i),$o(i)){const s=oc(a,i);(0,K.hu)(s.length>0,"Sending zero length transaction queue"),s.every(g=>0===g.status)&&function ic(a,i,s){const d=s.map(ae=>ae.currentWriteId),g=Zo(a,i,d);let w=g;const N=g.hash();for(let ae=0;ae<s.length;ae++){const He=s[ae];(0,K.hu)(0===He.status,"tryToSendTransactionQueue_: items in queue should all be run."),He.status=1,He.retryCount++;const ze=Jn(i,He.path);w=w.updateChild(ze,He.currentOutputSnapshotRaw)}const j=w.val(!0),X=i;a.server_.put(X.toString(),j,ae=>{el(a,"transaction put response",{path:X.toString(),status:ae});let He=[];if("ok"===ae){const ze=[];for(let rt=0;rt<s.length;rt++)s[rt].status=2,He=He.concat(Yi(a.serverSyncTree_,s[rt].currentWriteId)),s[rt].onComplete&&ze.push(()=>s[rt].onComplete(null,!0,s[rt].currentOutputSnapshotResolved)),s[rt].unwatcher();ka(a,ds(a.transactionQueueTree_,i)),vu(a,a.transactionQueueTree_),_t(a.eventQueue_,i,He);for(let rt=0;rt<ze.length;rt++)wr(ze[rt])}else{if("datastale"===ae)for(let ze=0;ze<s.length;ze++)s[ze].status=3===s[ze].status?4:0;else{Ht("transaction at "+X.toString()+" failed: "+ae);for(let ze=0;ze<s.length;ze++)s[ze].status=4,s[ze].abortReason=ae}tl(a,i)}},N)}(a,Wl(i),s)}else _l(i)&&Qa(i,s=>{vu(a,s)})}function tl(a,i){const s=Uu(a,i),d=Wl(s);return function sc(a,i,s){if(0===i.length)return;const d=[];let g=[];const N=i.filter(j=>0===j.status).map(j=>j.currentWriteId);for(let j=0;j<i.length;j++){const X=i[j],ae=Jn(s,X.path);let ze,He=!1;if((0,K.hu)(null!==ae,"rerunTransactionsUnderNode_: relativePath should not be null."),4===X.status)He=!0,ze=X.abortReason,g=g.concat(Yi(a.serverSyncTree_,X.currentWriteId,!0));else if(0===X.status)if(X.retryCount>=bn)He=!0,ze="maxretry",g=g.concat(Yi(a.serverSyncTree_,X.currentWriteId,!0));else{const rt=Zo(a,X.path,N);X.currentInputSnapshot=rt;const kt=i[j].update(rt.val());if(void 0!==kt){fa("transaction failed: Data returned ",kt,X.path);let on=G(kt);"object"==typeof kt&&null!=kt&&(0,K.r3)(kt,".priority")||(on=on.updatePriority(rt.getPriority()));const Xi=X.currentWriteId,Va=no(a),Ua=Bs(on,rt,Va);X.currentOutputSnapshotRaw=on,X.currentOutputSnapshotResolved=Ua,X.currentWriteId=Na(a),N.splice(N.indexOf(Xi),1),g=g.concat(aa(a.serverSyncTree_,X.path,Ua,X.currentWriteId,X.applyLocally)),g=g.concat(Yi(a.serverSyncTree_,Xi,!0))}else He=!0,ze="nodata",g=g.concat(Yi(a.serverSyncTree_,X.currentWriteId,!0))}_t(a.eventQueue_,s,g),g=[],He&&(i[j].status=2,setTimeout(i[j].unwatcher,Math.floor(0)),i[j].onComplete&&d.push("nodata"===ze?()=>i[j].onComplete(null,!1,i[j].currentInputSnapshot):()=>i[j].onComplete(new Error(ze),!1,null)))}ka(a,a.transactionQueueTree_);for(let j=0;j<d.length;j++)wr(d[j]);vu(a,a.transactionQueueTree_)}(a,oc(a,s),d),d}function Uu(a,i){let s,d=a.transactionQueueTree_;for(s=Zt(i);null!==s&&void 0===$o(d);)d=ds(d,s),s=Zt(i=Qt(i));return d}function oc(a,i){const s=[];return ac(a,i,s),s.sort((d,g)=>d.order-g.order),s}function ac(a,i,s){const d=$o(i);if(d)for(let g=0;g<d.length;g++)s.push(d[g]);Qa(i,g=>{ac(a,g,s)})}function ka(a,i){const s=$o(i);if(s){let d=0;for(let g=0;g<s.length;g++)2!==s[g].status&&(s[d]=s[g],d++);s.length=d,Pa(i,s.length>0?s:void 0)}Qa(i,d=>{ka(a,d)})}function lc(a,i){const s=Wl(Uu(a,i)),d=ds(a.transactionQueueTree_,i);return function Nu(a,i,s){let d=s?a:a.parent;for(;null!==d;){if(i(d))return!0;d=d.parent}}(d,g=>{uc(a,g)}),uc(a,d),Ou(d,g=>{uc(a,g)}),s}function uc(a,i){const s=$o(i);if(s){const d=[];let g=[],w=-1;for(let N=0;N<s.length;N++)3===s[N].status||(1===s[N].status?((0,K.hu)(w===N-1,"All SENT items should be at beginning of queue."),w=N,s[N].status=3,s[N].abortReason="set"):((0,K.hu)(0===s[N].status,"Unexpected transaction status in abort"),s[N].unwatcher(),g=g.concat(Yi(a.serverSyncTree_,s[N].currentWriteId,!0)),s[N].onComplete&&d.push(s[N].onComplete.bind(null,new Error("set"),!1,null))));-1===w?Pa(i,void 0):s.length=w+1,_t(a.eventQueue_,Wl(i),g);for(let N=0;N<d.length;N++)wr(d[N])}}const cc=function(a,i){const s=Fd(a),d=s.namespace;return"firebase.com"===s.domain&&cn(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!d||"undefined"===d)&&"localhost"!==s.domain&&cn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ut(s.host,s.secure,d,"ws"===s.scheme||"wss"===s.scheme,i,"",d!==s.subdomain),path:new gt(s.pathString)}},Fd=function(a){let i="",s="",d="",g="",w="",N=!0,j="https",X=443;if("string"==typeof a){let ae=a.indexOf("//");ae>=0&&(j=a.substring(0,ae-1),a=a.substring(ae+2));let He=a.indexOf("/");-1===He&&(He=a.length);let ze=a.indexOf("?");-1===ze&&(ze=a.length),i=a.substring(0,Math.min(He,ze)),He<ze&&(g=function zl(a){let i="";const s=a.split("/");for(let d=0;d<s.length;d++)if(s[d].length>0){let g=s[d];try{g=decodeURIComponent(g.replace(/\+/g," "))}catch{}i+="/"+g}return i}(a.substring(He,ze)));const rt=function Ld(a){const i={};"?"===a.charAt(0)&&(a=a.substring(1));for(const s of a.split("&")){if(0===s.length)continue;const d=s.split("=");2===d.length?i[decodeURIComponent(d[0])]=decodeURIComponent(d[1]):Ht(`Invalid query segment '${s}' in query '${a}'`)}return i}(a.substring(Math.min(a.length,ze)));ae=i.indexOf(":"),ae>=0?(N="https"===j||"wss"===j,X=parseInt(i.substring(ae+1),10)):ae=i.length;const kt=i.slice(0,ae);if("localhost"===kt.toLowerCase())s="localhost";else if(kt.split(".").length<=2)s=kt;else{const on=i.indexOf(".");d=i.substring(0,on).toLowerCase(),s=i.substring(on+1),w=d}"ns"in rt&&(w=rt.ns)}return{host:i,port:X,domain:s,subdomain:d,secure:N,scheme:j,pathString:g,namespace:w}},ed="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Vd=function(){let a=0;const i=[];return function(s){const d=s===a;let g;a=s;const w=new Array(8);for(g=7;g>=0;g--)w[g]=ed.charAt(s%64),s=Math.floor(s/64);(0,K.hu)(0===s,"Cannot push at time == 0");let N=w.join("");if(d){for(g=11;g>=0&&63===i[g];g--)i[g]=0;i[g]++}else for(g=0;g<12;g++)i[g]=Math.floor(64*Math.random());for(g=0;g<12;g++)N+=ed.charAt(i[g]);return(0,K.hu)(20===N.length,"nextPushId: Length should be 20."),N}}();class Bu{constructor(i,s,d,g){this.eventType=i,this.eventRegistration=s,this.snapshot=d,this.prevName=g}getPath(){const i=this.snapshot.ref;return"value"===this.eventType?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,K.Wl)(this.snapshot.exportVal())}}class nl{constructor(i,s,d){this.eventRegistration=i,this.error=s,this.path=d}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class yl{constructor(i,s){this.snapshotCallback=i,this.cancelCallback=s}onValue(i,s){this.snapshotCallback.call(null,i,s)}onCancel(i){return(0,K.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}}class Hu{constructor(i,s){this._repo=i,this._path=s}cancel(){const i=new K.BH;return ga(this._repo,this._path,i.wrapCallback(()=>{})),i.promise}remove(){L("OnDisconnect.remove",this._path);const i=new K.BH;return Xa(this._repo,this._path,null,i.wrapCallback(()=>{})),i.promise}set(i){L("OnDisconnect.set",this._path),to("OnDisconnect.set",i,this._path,!1);const s=new K.BH;return Xa(this._repo,this._path,i,s.wrapCallback(()=>{})),s.promise}setWithPriority(i,s){L("OnDisconnect.setWithPriority",this._path),to("OnDisconnect.setWithPriority",i,this._path,!1),mu("OnDisconnect.setWithPriority",s,!1);const d=new K.BH;return function nc(a,i,s,d,g){const w=G(s,d);a.server_.onDisconnectPut(i.toString(),w.val(!0),(N,j)=>{"ok"===N&&ss(a.onDisconnect_,i,w),xa(0,g,N,j)})}(this._repo,this._path,i,s,d.wrapCallback(()=>{})),d.promise}update(i){L("OnDisconnect.update",this._path),gu("OnDisconnect.update",i,this._path,!1);const s=new K.BH;return function kd(a,i,s,d){if((0,K.xb)(s))return lt("onDisconnect().update() called with empty data.  Don't do anything."),void xa(0,d,"ok",void 0);a.server_.onDisconnectMerge(i.toString(),s,(g,w)=>{"ok"===g&&pn(s,(N,j)=>{const X=G(j);ss(a.onDisconnect_,mn(i,N),X)}),xa(0,d,g,w)})}(this._repo,this._path,i,s.wrapCallback(()=>{})),s.promise}}class Wi{constructor(i,s,d,g){this._repo=i,this._path=s,this._queryParams=d,this._orderByCalled=g}get key(){return En(this._path)?null:Qn(this._path)}get ref(){return new Qi(this._repo,this._path)}get _queryIdentifier(){const i=qr(this._queryParams),s=Cr(i);return"{}"===s?"default":s}get _queryObject(){return qr(this._queryParams)}isEqual(i){if(!((i=(0,K.m9)(i))instanceof Wi))return!1;const s=this._repo===i._repo,d=ui(this._path,i._path);return s&&d&&this._queryIdentifier===i._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Or(a){let i="";for(let s=a.pieceNum_;s<a.pieces_.length;s++)""!==a.pieces_[s]&&(i+="/"+encodeURIComponent(String(a.pieces_[s])));return i||"/"}(this._path)}}function rl(a,i){if(!0===a._orderByCalled)throw new Error(i+": You can't combine multiple orderBy calls.")}function Hs(a){let i=null,s=null;if(a.hasStart()&&(i=a.getIndexStartValue()),a.hasEnd()&&(s=a.getIndexEndValue()),a.getIndex()===Dr){const d="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",g="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(a.hasStart()){if(a.getIndexStartName()!==Pt)throw new Error(d);if("string"!=typeof i)throw new Error(g)}if(a.hasEnd()){if(a.getIndexEndName()!==jt)throw new Error(d);if("string"!=typeof s)throw new Error(g)}}else if(a.getIndex()===Un){if(null!=i&&!ji(i)||null!=s&&!ji(s))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,K.hu)(a.getIndex()instanceof R||a.getIndex()===qe,"unknown index type."),null!=i&&"object"==typeof i||null!=s&&"object"==typeof s)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Kl(a){if(a.hasStart()&&a.hasEnd()&&a.hasLimit()&&!a.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Qi extends Wi{constructor(i,s){super(i,s,new fo,!1)}get parent(){const i=Jt(this._path);return null===i?null:new Qi(this._repo,i)}get root(){let i=this;for(;null!==i.parent;)i=i.parent;return i}}class Yo{constructor(i,s,d){this._node=i,this.ref=s,this._index=d}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){const s=new gt(i),d=La(this.ref,i);return new Yo(this._node.getChild(s),d,Un)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(d,g)=>i(new Yo(g,La(this.ref,d),Un)))}hasChild(i){const s=new gt(i);return!this._node.getChild(s).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Zl(a,i){return(a=(0,K.m9)(a))._checkNotDeleted("ref"),void 0!==i?La(a._root,i):a._root}function Yl(a,i){(a=(0,K.m9)(a))._checkNotDeleted("refFromURL");const s=cc(i,a._repo.repoInfo_.nodeAdmin);q("refFromURL",s);const d=s.repoInfo;return!a._repo.repoInfo_.isCustomHost()&&d.host!==a._repo.repoInfo_.host&&cn("refFromURL: Host name does not match the current database: (found "+d.host+" but expected "+a._repo.repoInfo_.host+")"),Zl(a,s.path.toString())}function La(a,i){return null===Zt((a=(0,K.m9)(a))._path)?b("child","path",i,!1):C("child","path",i,!1),new Qi(a._repo,mn(a._path,i))}function ql(a,i){a=(0,K.m9)(a),L("set",a._path),to("set",i,a._path,!1);const s=new K.BH;return ku(a._repo,a._path,i,null,s.wrapCallback(()=>{})),s.promise}function hc(a,i){gu("update",i,a._path,!1);const s=new K.BH;return function Lu(a,i,s,d){el(a,"update",{path:i.toString(),value:s});let g=!0;const w=no(a),N={};if(pn(s,(j,X)=>{g=!1,N[j]=Io(mn(i,j),G(X),a.serverSyncTree_,w)}),g)lt("update() called with empty data.  Don't do anything."),xa(0,d,"ok",void 0);else{const j=Na(a),X=function Ta(a,i,s,d){!function Mi(a,i,s,d){(0,K.hu)(d>a.lastWriteId,"Stacking an older merge on top of newer ones"),a.allWrites.push({path:i,children:s,writeId:d,visible:!0}),a.visibleWrites=Bt(a.visibleWrites,i,s),a.lastWriteId=d}(a.pendingWriteTree_,i,s,d);const g=Xt.fromObject(s);return Us(a,new Zi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,g))}(a.serverSyncTree_,i,N,j);Ee(a.eventQueue_,X),a.server_.merge(i.toString(),s,(ae,He)=>{const ze="ok"===ae;ze||Ht("update at "+i+" failed: "+ae);const rt=Yi(a.serverSyncTree_,j,!ze),kt=rt.length>0?tl(a,i):i;_t(a.eventQueue_,kt,rt),xa(0,d,ae,He)}),pn(s,ae=>{const He=lc(a,mn(i,ae));tl(a,He)}),_t(a.eventQueue_,i,[])}}(a._repo,a._path,i,s.wrapCallback(()=>{})),s.promise}function fc(a){a=(0,K.m9)(a);const i=new yl(()=>{}),s=new Jl(i);return function _u(a,i,s){const d=function Za(a,i){const s=i._path;let d=null;a.syncPointTree_.foreachOnPath(s,(ae,He)=>{const ze=Jn(ae,s);d=d||ur(He,ze)});let g=a.syncPointTree_.get(s);g?d=d||ur(g,It()):(g=new v,a.syncPointTree_=a.syncPointTree_.set(s,g));const w=null!=d,N=w?new E(d,!0,!1):null;return function Vl(a){return Cn(a.viewCache_)}(Ze(g,i,ra(a.pendingWriteTree_,i._path),w?N.getNode():Lt.EMPTY_NODE,w))}(a.serverSyncTree_,i);return null!=d?Promise.resolve(d):a.server_.get(i).then(g=>{const w=G(g).withIndex(i._queryParams.getIndex());let N;if(la(a.serverSyncTree_,i,s,!0),i._queryParams.loadsAllData())N=Sa(a.serverSyncTree_,i._path,w);else{const j=ca(a.serverSyncTree_,i);N=pl(a.serverSyncTree_,i._path,w,j)}return _t(a.eventQueue_,i._path,N),cs(a.serverSyncTree_,i,s,null,!0),w},g=>(el(a,"get for query "+(0,K.Wl)(i)+" failed: "+g),Promise.reject(new Error(g))))}(a._repo,a,s).then(d=>new Yo(d,new Qi(a._repo,a._path),a._queryParams.getIndex()))}class Jl{constructor(i){this.callbackContext=i}respondsTo(i){return"value"===i}createEvent(i,s){const d=s._queryParams.getIndex();return new Bu("value",this,new Yo(i.snapshotNode,new Qi(s._repo,s._path),d))}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,s){return this.callbackContext.hasCancelCallback?new nl(this,i,s):null}matches(i){return i instanceof Jl&&(!i.callbackContext||!this.callbackContext||i.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class yu{constructor(i,s){this.eventType=i,this.callbackContext=s}respondsTo(i){let s="children_added"===i?"child_added":i;return s="children_removed"===s?"child_removed":s,this.eventType===s}createCancelEvent(i,s){return this.callbackContext.hasCancelCallback?new nl(this,i,s):null}createEvent(i,s){(0,K.hu)(null!=i.childName,"Child events should have a childName.");const d=La(new Qi(s._repo,s._path),i.childName),g=s._queryParams.getIndex();return new Bu(i.type,this,new Yo(i.snapshotNode,d,g),i.prevName)}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof yu&&this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Oi(a,i,s,d,g){let w;if("object"==typeof d&&(w=void 0,g=d),"function"==typeof d&&(w=d),g&&g.onlyOnce){const X=s,ae=(He,ze)=>{Fu(a._repo,a,j),X(He,ze)};ae.userCallback=s.userCallback,ae.context=s.context,s=ae}const N=new yl(s,w||void 0),j="value"===i?new Jl(N):new yu(i,N);return function rc(a,i,s){let d;d=".info"===Zt(i._path)?la(a.infoSyncTree_,i,s):la(a.serverSyncTree_,i,s),je(a.eventQueue_,i._path,d)}(a._repo,a,j),()=>Fu(a._repo,a,j)}function El(a,i,s,d){return Oi(a,"value",i,s,d)}function Xl(a,i,s,d){return Oi(a,"child_added",i,s,d)}function Cl(a,i,s,d){return Oi(a,"child_changed",i,s,d)}function Ni(a,i,s,d){return Oi(a,"child_moved",i,s,d)}function Il(a,i,s,d){return Oi(a,"child_removed",i,s,d)}function eu(a,i,s){let d=null;const g=s?new yl(s):null;"value"===i?d=new Jl(g):i&&(d=new yu(i,g)),Fu(a._repo,a,d)}class ro{}class ws extends ro{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){to("endAt",this._value,i._path,!0);const s=is(i._queryParams,this._value,this._key);if(Kl(s),Hs(s),i._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Wi(i._repo,i._path,s,i._orderByCalled)}}class pc extends ro{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){to("endBefore",this._value,i._path,!1);const s=function Rs(a,i,s){let d;return d=is(a,i,a.index_===Dr||s?s:Pt),d.endBeforeSet_=!0,d}(i._queryParams,this._value,this._key);if(Kl(s),Hs(s),i._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Wi(i._repo,i._path,s,i._orderByCalled)}}class Eu extends ro{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){to("startAt",this._value,i._path,!0);const s=Ms(i._queryParams,this._value,this._key);if(Kl(s),Hs(s),i._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Wi(i._repo,i._path,s,i._orderByCalled)}}class rd extends ro{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){to("startAfter",this._value,i._path,!1);const s=function Po(a,i,s){let d;return d=Ms(a,i,a.index_===Dr||s?s:jt),d.startAfterSet_=!0,d}(i._queryParams,this._value,this._key);if(Kl(s),Hs(s),i._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Wi(i._repo,i._path,s,i._orderByCalled)}}class ju extends ro{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Wi(i._repo,i._path,function Zs(a,i){const s=a.copy();return s.limitSet_=!0,s.limit_=i,s.viewFrom_="l",s}(i._queryParams,this._limit),i._orderByCalled)}}class _c extends ro{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Wi(i._repo,i._path,function rs(a,i){const s=a.copy();return s.limitSet_=!0,s.limit_=i,s.viewFrom_="r",s}(i._queryParams,this._limit),i._orderByCalled)}}class id extends ro{constructor(i){super(),this._path=i}_apply(i){rl(i,"orderByChild");const s=new gt(this._path);if(En(s))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const d=new R(s),g=Ps(i._queryParams,d);return Hs(g),new Wi(i._repo,i._path,g,!0)}}class $u extends ro{_apply(i){rl(i,"orderByKey");const s=Ps(i._queryParams,Dr);return Hs(s),new Wi(i._repo,i._path,s,!0)}}class Iu extends ro{_apply(i){rl(i,"orderByPriority");const s=Ps(i._queryParams,Un);return Hs(s),new Wi(i._repo,i._path,s,!0)}}class Du extends ro{_apply(i){rl(i,"orderByValue");const s=Ps(i._queryParams,qe);return Hs(s),new Wi(i._repo,i._path,s,!0)}}class il extends ro{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){if(to("equalTo",this._value,i._path,!1),i._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(i._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ws(this._value,this._key)._apply(new Eu(this._value,this._key)._apply(i))}}function io(a,...i){let s=(0,K.m9)(a);for(const d of i)s=d._apply(s);return s}(function S(a){(0,K.hu)(!T,"__referenceConstructor has already been defined"),T=a})(Qi),function ba(a){(0,K.hu)(!Ds,"__referenceConstructor has already been defined"),Ds=a}(Qi);const ru={};function yc(a,i,s,d,g){let w=d||a.options.databaseURL;void 0===w&&(a.options.projectId||cn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),lt("Using default host for project ",a.options.projectId),w=`${a.options.projectId}-default-rtdb.firebaseio.com`);let X,ae,N=cc(w,g),j=N.repoInfo;typeof process<"u"&&process.env&&(ae=process.env.FIREBASE_DATABASE_EMULATOR_HOST),ae?(X=!0,w=`http://${ae}?ns=${j.namespace}`,N=cc(w,g),j=N.repoInfo):X=!N.repoInfo.secure;const He=g&&X?new rn(rn.OWNER):new vr(a.name,a.options,i);q("Invalid Firebase Database URL",N),En(N.path)||cn("Database URL must point to the root of a Firebase Database (not including a child path).");const ze=function p(a,i,s,d){let g=ru[i.name];g||(g={},ru[i.name]=g);let w=g[a.toURLString()];return w&&cn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),w=new qi(a,false,s,d),g[a.toURLString()]=w,w}(j,a,He,new $n(a.name,s));return new c(ze,a)}class c{constructor(i,s){this._repoInternal=i,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Kr(a,i,s){if(a.stats_=gr(a.repoInfo_),a.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)a.server_=new Ys(a.repoInfo_,(d,g,w,N)=>{Ko(a,d,g,w,N)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>$i(a,!0),0);else{if(typeof s<"u"&&null!==s){if("object"!=typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,K.Wl)(s)}catch(d){throw new Error("Invalid authOverride provided: "+d)}}a.persistentConnection_=new Yr(a.repoInfo_,i,(d,g,w,N)=>{Ko(a,d,g,w,N)},d=>{$i(a,d)},d=>{!function wo(a,i){pn(i,(s,d)=>{Ja(a,s,d)})}(a,d)},a.authTokenProvider_,a.appCheckProvider_,s),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(d=>{a.server_.refreshAuthToken(d)}),a.appCheckProvider_.addTokenChangeListener(d=>{a.server_.refreshAppCheckToken(d.token)}),a.statsReporter_=function Ve(a,i){const s=a.toString();return Lr[s]||(Lr[s]=i()),Lr[s]}(a.repoInfo_,()=>new $a(a.stats_,a.server_)),a.infoData_=new Ha,a.infoSyncTree_=new Bl({startListening:(d,g,w,N)=>{let j=[];const X=a.infoData_.getNode(d._path);return X.isEmpty()||(j=Sa(a.infoSyncTree_,d._path,X),setTimeout(()=>{N("ok")},0)),j},stopListening:()=>{}}),Ja(a,"connected",!1),a.serverSyncTree_=new Bl({startListening:(d,g,w,N)=>(a.server_.listen(d,w,g,(j,X)=>{const ae=N(j,X);_t(a.eventQueue_,d._path,ae)}),[]),stopListening:(d,g)=>{a.server_.unlisten(d,g)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qi(this._repo,It())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Ec(a,i){const s=ru[i];(!s||s[a.key]!==a)&&cn(`Database ${i}(${a.repoInfo_}) has already been deleted.`),Jc(a),delete s[a.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){null===this._rootInternal&&cn("Cannot call "+i+" on a deleted database.")}}function m(){Rr.IS_TRANSPORT_INITIALIZED&&Ht("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function x(){m(),Wn.forceDisallow()}function U(){m(),Ir.forceDisallow(),Wn.forceAllow()}function Ft(a,i){Ln(a,i)}const kr={".sv":"timestamp"};class Wu{constructor(i,s){this.committed=i,this.snapshot=s}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Yr.prototype.simpleListen=function(a,i){this.sendRequest("q",{p:a},i)},Yr.prototype.echo=function(a,i){this.sendRequest("echo",{d:a},i)},function $t(a){Oe(kn.SDK_VERSION),(0,kn._registerComponent)(new jn.wA("database",(i,{instanceIdentifier:s})=>yc(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"),i.getProvider("app-check-internal"),s),"PUBLIC").setMultipleInstances(!0)),(0,kn.registerVersion)(un,"0.14.4",a),(0,kn.registerVersion)(un,"0.14.4","esm2017")}();const zu=new qt.Yd("@firebase/database-compat"),Tl=function(a){zu.warn("FIREBASE WARNING: "+a)};class ou{constructor(i){this._delegate=i}cancel(i){(0,K.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,K.Wj)("OnDisconnect.cancel","onComplete",i,!0);const s=this._delegate.cancel();return i&&s.then(()=>i(null),d=>i(d)),s}remove(i){(0,K.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,K.Wj)("OnDisconnect.remove","onComplete",i,!0);const s=this._delegate.remove();return i&&s.then(()=>i(null),d=>i(d)),s}set(i,s){(0,K.Dv)("OnDisconnect.set",1,2,arguments.length),(0,K.Wj)("OnDisconnect.set","onComplete",s,!0);const d=this._delegate.set(i);return s&&d.then(()=>s(null),g=>s(g)),d}setWithPriority(i,s,d){(0,K.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,K.Wj)("OnDisconnect.setWithPriority","onComplete",d,!0);const g=this._delegate.setWithPriority(i,s);return d&&g.then(()=>d(null),w=>d(w)),g}update(i,s){if((0,K.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(i)){const g={};for(let w=0;w<i.length;++w)g[""+w]=i[w];i=g,Tl("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,K.Wj)("OnDisconnect.update","onComplete",s,!0);const d=this._delegate.update(i);return s&&d.then(()=>s(null),g=>s(g)),d}}class au{constructor(i,s){this.committed=i,this.snapshot=s}toJSON(){return(0,K.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Sl{constructor(i,s){this._database=i,this._delegate=s}val(){return(0,K.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,K.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,K.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,K.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(i){return(0,K.Dv)("DataSnapshot.child",0,1,arguments.length),i=String(i),C("DataSnapshot.child","path",i,!1),new Sl(this._database,this._delegate.child(i))}hasChild(i){return(0,K.Dv)("DataSnapshot.hasChild",1,1,arguments.length),C("DataSnapshot.hasChild","path",i,!1),this._delegate.hasChild(i)}getPriority(){return(0,K.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(i){return(0,K.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,K.Wj)("DataSnapshot.forEach","action",i,!1),this._delegate.forEach(s=>i(new Sl(this._database,s)))}hasChildren(){return(0,K.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,K.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,K.Dv)("DataSnapshot.ref",0,0,arguments.length),new To(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ji{constructor(i,s){this.database=i,this._delegate=s}on(i,s,d,g){var w;(0,K.Dv)("Query.on",2,4,arguments.length),(0,K.Wj)("Query.on","callback",s,!1);const N=Ji.getCancelAndContextArgs_("Query.on",d,g),j=(ae,He)=>{s.call(N.context,new Sl(this.database,ae),He)};j.userCallback=s,j.context=N.context;const X=null===(w=N.cancel)||void 0===w?void 0:w.bind(N.context);switch(i){case"value":return El(this._delegate,j,X),s;case"child_added":return Xl(this._delegate,j,X),s;case"child_removed":return Il(this._delegate,j,X),s;case"child_changed":return Cl(this._delegate,j,X),s;case"child_moved":return Ni(this._delegate,j,X),s;default:throw new Error((0,K.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(i,s,d){if((0,K.Dv)("Query.off",0,3,arguments.length),function(a,i,s){if(void 0!==i)switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,K.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,i),(0,K.Wj)("Query.off","callback",s,!0),(0,K.lb)("Query.off","context",d,!0),s){const g=()=>{};g.userCallback=s,g.context=d,eu(this._delegate,i,g)}else eu(this._delegate,i)}get(){return fc(this._delegate).then(i=>new Sl(this.database,i))}once(i,s,d,g){(0,K.Dv)("Query.once",1,4,arguments.length),(0,K.Wj)("Query.once","callback",s,!0);const w=Ji.getCancelAndContextArgs_("Query.once",d,g),N=new K.BH,j=(ae,He)=>{const ze=new Sl(this.database,ae);s&&s.call(w.context,ze,He),N.resolve(ze)};j.userCallback=s,j.context=w.context;const X=ae=>{w.cancel&&w.cancel.call(w.context,ae),N.reject(ae)};switch(i){case"value":El(this._delegate,j,X,{onlyOnce:!0});break;case"child_added":Xl(this._delegate,j,X,{onlyOnce:!0});break;case"child_removed":Il(this._delegate,j,X,{onlyOnce:!0});break;case"child_changed":Cl(this._delegate,j,X,{onlyOnce:!0});break;case"child_moved":Ni(this._delegate,j,X,{onlyOnce:!0});break;default:throw new Error((0,K.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return N.promise}limitToFirst(i){return(0,K.Dv)("Query.limitToFirst",1,1,arguments.length),new Ji(this.database,io(this._delegate,function qo(a){if("number"!=typeof a||Math.floor(a)!==a||a<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ju(a)}(i)))}limitToLast(i){return(0,K.Dv)("Query.limitToLast",1,1,arguments.length),new Ji(this.database,io(this._delegate,function tu(a){if("number"!=typeof a||Math.floor(a)!==a||a<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new _c(a)}(i)))}orderByChild(i){return(0,K.Dv)("Query.orderByChild",1,1,arguments.length),new Ji(this.database,io(this._delegate,function sd(a){if("$key"===a)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===a)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===a)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return C("orderByChild","path",a,!1),new id(a)}(i)))}orderByKey(){return(0,K.Dv)("Query.orderByKey",0,0,arguments.length),new Ji(this.database,io(this._delegate,function hs(){return new $u}()))}orderByPriority(){return(0,K.Dv)("Query.orderByPriority",0,0,arguments.length),new Ji(this.database,io(this._delegate,function Fa(){return new Iu}()))}orderByValue(){return(0,K.Dv)("Query.orderByValue",0,0,arguments.length),new Ji(this.database,io(this._delegate,function Qo(){return new Du}()))}startAt(i=null,s){return(0,K.Dv)("Query.startAt",0,2,arguments.length),new Ji(this.database,io(this._delegate,function Cu(a=null,i){return vl("startAt","key",i,!0),new Eu(a,i)}(i,s)))}startAfter(i=null,s){return(0,K.Dv)("Query.startAfter",0,2,arguments.length),new Ji(this.database,io(this._delegate,function mc(a,i){return vl("startAfter","key",i,!0),new rd(a,i)}(i,s)))}endAt(i=null,s){return(0,K.Dv)("Query.endAt",0,2,arguments.length),new Ji(this.database,io(this._delegate,function Dl(a,i){return vl("endAt","key",i,!0),new ws(a,i)}(i,s)))}endBefore(i=null,s){return(0,K.Dv)("Query.endBefore",0,2,arguments.length),new Ji(this.database,io(this._delegate,function gc(a,i){return vl("endBefore","key",i,!0),new pc(a,i)}(i,s)))}equalTo(i,s){return(0,K.Dv)("Query.equalTo",1,2,arguments.length),new Ji(this.database,io(this._delegate,function nu(a,i){return vl("equalTo","key",i,!0),new il(a,i)}(i,s)))}toString(){return(0,K.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,K.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(i){if((0,K.Dv)("Query.isEqual",1,1,arguments.length),!(i instanceof Ji))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(i._delegate)}static getCancelAndContextArgs_(i,s,d){const g={cancel:void 0,context:void 0};if(s&&d)g.cancel=s,(0,K.Wj)(i,"cancel",g.cancel,!0),g.context=d,(0,K.lb)(i,"context",g.context,!0);else if(s)if("object"==typeof s&&null!==s)g.context=s;else{if("function"!=typeof s)throw new Error((0,K.gK)(i,"cancelOrContext")+" must either be a cancel callback or a context object.");g.cancel=s}return g}get ref(){return new To(this.database,new Qi(this._delegate._repo,this._delegate._path))}}class To extends Ji{constructor(i,s){super(i,new Wi(s._repo,s._path,new fo,!1)),this.database=i,this._delegate=s}getKey(){return(0,K.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(i){return(0,K.Dv)("Reference.child",1,1,arguments.length),"number"==typeof i&&(i=String(i)),new To(this.database,La(this._delegate,i))}getParent(){(0,K.Dv)("Reference.parent",0,0,arguments.length);const i=this._delegate.parent;return i?new To(this.database,i):null}getRoot(){return(0,K.Dv)("Reference.root",0,0,arguments.length),new To(this.database,this._delegate.root)}set(i,s){(0,K.Dv)("Reference.set",1,2,arguments.length),(0,K.Wj)("Reference.set","onComplete",s,!0);const d=ql(this._delegate,i);return s&&d.then(()=>s(null),g=>s(g)),d}update(i,s){if((0,K.Dv)("Reference.update",1,2,arguments.length),Array.isArray(i)){const g={};for(let w=0;w<i.length;++w)g[""+w]=i[w];i=g,Tl("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}L("Reference.update",this._delegate._path),(0,K.Wj)("Reference.update","onComplete",s,!0);const d=hc(this._delegate,i);return s&&d.then(()=>s(null),g=>s(g)),d}setWithPriority(i,s,d){(0,K.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,K.Wj)("Reference.setWithPriority","onComplete",d,!0);const g=function nd(a,i,s){if(L("setWithPriority",a._path),to("setWithPriority",i,a._path,!1),mu("setWithPriority",s,!1),".length"===a.key||".keys"===a.key)throw"setWithPriority failed: "+a.key+" is a read-only object.";const d=new K.BH;return ku(a._repo,a._path,i,s,d.wrapCallback(()=>{})),d.promise}(this._delegate,i,s);return d&&g.then(()=>d(null),w=>d(w)),g}remove(i){(0,K.Dv)("Reference.remove",0,1,arguments.length),(0,K.Wj)("Reference.remove","onComplete",i,!0);const s=function dc(a){return L("remove",a._path),ql(a,null)}(this._delegate);return i&&s.then(()=>i(null),d=>i(d)),s}transaction(i,s,d){(0,K.Dv)("Reference.transaction",1,3,arguments.length),(0,K.Wj)("Reference.transaction","transactionUpdate",i,!1),(0,K.Wj)("Reference.transaction","onComplete",s,!0),function(a,i,s,d){if(void 0!==s&&"boolean"!=typeof s)throw new Error((0,K.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,d);const g=function wu(a,i,s){var d;if(a=(0,K.m9)(a),L("Reference.transaction",a._path),".length"===a.key||".keys"===a.key)throw"Reference.transaction failed: "+a.key+" is a read-only object.";const g=null===(d=s?.applyLocally)||void 0===d||d,w=new K.BH,j=El(a,()=>{});return function Vu(a,i,s,d,g,w){el(a,"transaction on "+i);const N={path:i,update:s,onComplete:d,status:null,order:At(),applyLocally:w,retryCount:0,unwatcher:g,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},j=Zo(a,i,void 0);N.currentInputSnapshot=j;const X=N.update(j.val());if(void 0===X)N.unwatcher(),N.currentOutputSnapshotRaw=null,N.currentOutputSnapshotResolved=null,N.onComplete&&N.onComplete(null,!1,N.currentInputSnapshot);else{fa("transaction failed: Data returned ",X,N.path),N.status=0;const ae=ds(a.transactionQueueTree_,i),He=$o(ae)||[];let ze;He.push(N),Pa(ae,He),"object"==typeof X&&null!==X&&(0,K.r3)(X,".priority")?(ze=(0,K.DV)(X,".priority"),(0,K.hu)(ji(ze),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):ze=(ua(a.serverSyncTree_,i)||Lt.EMPTY_NODE).getPriority().val();const rt=no(a),kt=G(X,ze),on=Bs(kt,j,rt);N.currentOutputSnapshotRaw=kt,N.currentOutputSnapshotResolved=on,N.currentWriteId=Na(a);const mr=aa(a.serverSyncTree_,i,on,N.currentWriteId,N.applyLocally);_t(a.eventQueue_,i,mr),vu(a,a.transactionQueueTree_)}}(a._repo,a._path,i,(X,ae,He)=>{let ze=null;X?w.reject(X):(ze=new Yo(He,new Qi(a._repo,a._path),Un),w.resolve(new Wu(ae,ze)))},j,g),w.promise}(this._delegate,i,{applyLocally:d}).then(w=>new au(w.committed,new Sl(this.database,w.snapshot)));return s&&g.then(w=>s(null,w.committed,w.snapshot),w=>s(w,!1,null)),g}setPriority(i,s){(0,K.Dv)("Reference.setPriority",1,2,arguments.length),(0,K.Wj)("Reference.setPriority","onComplete",s,!0);const d=function Ql(a,i){a=(0,K.m9)(a),L("setPriority",a._path),mu("setPriority",i,!1);const s=new K.BH;return ku(a._repo,mn(a._path,".priority"),i,null,s.wrapCallback(()=>{})),s.promise}(this._delegate,i);return s&&d.then(()=>s(null),g=>s(g)),d}push(i,s){(0,K.Dv)("Reference.push",0,2,arguments.length),(0,K.Wj)("Reference.push","onComplete",s,!0);const d=function td(a,i){a=(0,K.m9)(a),L("push",a._path),to("push",i,a._path,!0);const s=pa(a._repo),d=Vd(s),g=La(a,d),w=La(a,d);let N;return N=null!=i?ql(w,i).then(()=>w):Promise.resolve(w),g.then=N.then.bind(N),g.catch=N.then.bind(N,void 0),g}(this._delegate,i),g=d.then(N=>new To(this.database,N));s&&g.then(()=>s(null),N=>s(N));const w=new To(this.database,d);return w.then=g.then.bind(g),w.catch=g.catch.bind(g,void 0),w}onDisconnect(){return L("Reference.onDisconnect",this._delegate._path),new ou(new Hu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Ku{constructor(i,s){this._delegate=i,this.app=s,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:x,forceLongPolling:U}}useEmulator(i,s,d={}){!function Te(a,i,s,d={}){(a=(0,K.m9)(a))._checkNotDeleted("useEmulator"),a._instanceStarted&&cn("Cannot call useEmulator() after instance has already been initialized.");const g=a._repoInternal;let w;if(g.repoInfo_.nodeAdmin)d.mockUserToken&&cn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),w=new rn(rn.OWNER);else if(d.mockUserToken){const N="string"==typeof d.mockUserToken?d.mockUserToken:(0,K.Sg)(d.mockUserToken,a.app.options.projectId);w=new rn(N)}!function ad(a,i,s,d){a.repoInfo_=new Ut(`${i}:${s}`,!1,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0),d&&(a.authTokenProvider_=d)}(g,i,s,w)}(this._delegate,i,s,d)}ref(i){if((0,K.Dv)("database.ref",0,1,arguments.length),i instanceof To){const s=Yl(this._delegate,i.toString());return new To(this,s)}{const s=Zl(this._delegate,i);return new To(this,s)}}refFromURL(i){(0,K.Dv)("database.refFromURL",1,1,arguments.length);const d=Yl(this._delegate,i);return new To(this,d)}goOffline(){return(0,K.Dv)("database.goOffline",0,0,arguments.length),function ct(a){(a=(0,K.m9)(a))._checkNotDeleted("goOffline"),Jc(a._repo)}(this._delegate)}goOnline(){return(0,K.Dv)("database.goOnline",0,0,arguments.length),function yt(a){(a=(0,K.m9)(a))._checkNotDeleted("goOnline"),function Xc(a){a.persistentConnection_&&a.persistentConnection_.resume(vn)}(a._repo)}(this._delegate)}}Ku.ServerValue={TIMESTAMP:function bo(){return kr}(),increment:a=>function iu(a){return{".sv":{increment:a}}}(a)};var Bd=Object.freeze({__proto__:null,initStandalone:function Nh({app:a,url:i,version:s,customAuthImpl:d,namespace:g,nodeAdmin:w=!1}){Oe(s);const N=new jn.zt("auth-internal",new jn.H0("database-standalone"));return N.setComponent(new jn.wA("auth-internal",()=>d,"PRIVATE")),{instance:new Ku(yc(a,N,void 0,i,w),a),namespace:g}}});const Hd=Ku.ServerValue;!function Dc(a){a.INTERNAL.registerComponent(new jn.wA("database-compat",(i,{instanceIdentifier:s})=>{const d=i.getProvider("app-compat").getImmediate(),g=i.getProvider("database").getImmediate({identifier:s});return new Ku(g,d)},"PUBLIC").setServiceProps({Reference:To,Query:Ji,Database:Ku,DataSnapshot:Sl,enableLogging:Ft,INTERNAL:Bd,ServerValue:Hd}).setMultipleInstances(!0)),a.registerVersion("@firebase/database-compat","0.3.4")}(St.Z);var ld=F(697),bu=F(142);function Lh(a){return null==a}function jd(a){return"function"==typeof a.set}function wc(a,i){return jd(i)?i:a.ref(i)}function $d(a,i){if(function xh(a){return"string"==typeof a}(a))return i.stringCase();if(jd(a))return i.firebaseCase();if(function kh(a){return"function"==typeof a.exportVal}(a))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof a)}function sl(a,i,s="on",d=te.z){return new ie.y(g=>{let w=null;return w=a[s](i,(N,j)=>{d.schedule(()=>{g.next({snapshot:N,prevKey:j})}),"once"===s&&d.schedule(()=>g.complete())},N=>{d.schedule(()=>g.error(N))}),"on"===s?{unsubscribe(){null!=w&&a.off(i,w)}}:{unsubscribe(){}}}).pipe((0,$e.U)(g=>{const{snapshot:w,prevKey:N}=g;let j=null;return w.exists()&&(j=w.key),{type:i,payload:w,prevKey:N,key:j}}),(0,dt.B)())}function Tc(a,i){const s=a.length;for(let d=0;d<s;d++)if(a[d].payload.key===i)return d;return-1}function Gd(a,i){const{payload:s,prevKey:d,key:g}=i,w=Tc(a,g),N=function Wd(a,i){if(Lh(i))return 0;{const s=Tc(a,i);return-1===s?a.length:s+1}}(a,d);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let j=null;i.payload.forEach(X=>{const ae={payload:X,type:"value",prevKey:j,key:X.key};return j=X.key,a=[...a,ae],!1})}return a;case"child_added":if(w>-1){const j=a[w-1];(j&&j.key||null)!==d&&(a=a.filter(X=>X.payload.key!==s.key)).splice(N,0,i)}else{if(null==d)return[i,...a];(a=a.slice()).splice(N,0,i)}return a;case"child_removed":return a.filter(j=>j.payload.key!==s.key);case"child_changed":return a.map(j=>j.payload.key===g?i:j);case"child_moved":if(w>-1){const j=a.splice(w,1)[0];return(a=a.slice()).splice(N,0,j),a}return a;default:return a}}function ud(a){return(Lh(a)||0===a.length)&&(a=["child_added","child_removed","child_changed","child_moved"]),a}function cd(a,i,s){return function bc(a,i,s){return sl(a,"value","once",s).pipe((0,Xe.w)(d=>{const g=[(0,ye.of)(d)];return i.forEach(w=>g.push(sl(a,w,"on",s))),(0,Je.T)(...g).pipe((0,ft.R)(Gd,[]))}),(0,it.x)())}(a,i=ud(i),s)}function zd(a,i,s){const d=(i=ud(i)).map(g=>sl(a,g,"on",s));return(0,Je.T)(...d)}function Kd(a,i){return function(d,g){return $d(d,{stringCase:()=>a.child(d)[i](g),firebaseCase:()=>d[i](g),snapshotCase:()=>d.ref[i](g)})}}function Al(a){return function(s){return s?$d(s,{stringCase:()=>a.child(s).remove(),firebaseCase:()=>s.remove(),snapshotCase:()=>s.ref.remove()}):a.remove()}}function Zd(a,i){return function(){return sl(a,"value","on",i)}}const Np=new $.OlP("angularfire2.realtimeDatabaseURL"),xp=new $.OlP("angularfire2.database.use-emulator");let kp=(()=>{class a{constructor(s,d,g,w,N,j,X,ae,He,ze,rt,kt,on,mr,Xi){this.schedulers=j;const Va=X,Ua=(0,xe.on)(s,N,d);ae&&(0,be.nw)(Ua,N,He,rt,kt,on,ze,mr),this.database=(0,xe.cc)(`${Ua.name}.database.${g}`,"AngularFireDatabase",Ua.name,()=>{const ol=N.runOutsideAngular(()=>Ua.database(g||void 0));return Va&&ol.useEmulator(...Va),ol},[Va])}list(s,d){const g=this.schedulers.ngZone.runOutsideAngular(()=>wc(this.database,s));let w=g;return d&&(w=d(g)),function Zu(a,i){const s=i.schedulers.outsideAngular,d=i.schedulers.ngZone.run(()=>a.ref);return{query:a,update:Kd(d,"update"),set:Kd(d,"set"),push:g=>d.push(g),remove:Al(d),snapshotChanges:g=>cd(a,g,s).pipe(Re.iC),stateChanges:g=>zd(a,g,s).pipe(Re.iC),auditTrail:g=>function Fh(a,i,s){return function Uh(a,i,s){return function Vh(a,i){return sl(a,"value","on",i).pipe((0,$e.U)(s=>{let d;return s.payload.forEach(g=>(d=g.key,!1)),{data:s,lastKeyToLoad:d}}))}(a,s).pipe(function Ye(...a){const i=(0,Ue.jO)(a);return(0,Rt.e)((s,d)=>{const g=a.length,w=new Array(g);let N=a.map(()=>!1),j=!1;for(let X=0;X<g;X++)(0,Ce.Xf)(a[X]).subscribe((0,Tt.x)(d,ae=>{w[X]=ae,!j&&!N[X]&&(N[X]=!0,(j=N.every(Be.y))&&(N=null))},we.Z));s.subscribe((0,Tt.x)(d,X=>{if(j){const ae=[X,...w];d.next(i?i(...ae):ae)}}))})}(i),(0,$e.U)(([g,w])=>{const N=g.lastKeyToLoad,j=w.map(X=>X.key);return{actions:w,lastKeyToLoad:N,loadedKeys:j}}),function ht(a){return(0,Rt.e)((i,s)=>{let d=!1,g=0;i.subscribe((0,Tt.x)(s,w=>(d||(d=!a(w,g++)))&&s.next(w)))})}(g=>-1===g.loadedKeys.indexOf(g.lastKeyToLoad)),(0,$e.U)(g=>g.actions))}(a,zd(a,i).pipe((0,ft.R)((g,w)=>[...g,w],[])),s)}(a,g,s).pipe(Re.iC),valueChanges:(g,w)=>cd(a,g,s).pipe((0,$e.U)(j=>j.map(X=>w&&w.idField?Object.assign(Object.assign({},X.payload.val()),{[w.idField]:X.key}):X.payload.val())),Re.iC)}}(w,this)}object(s){return function Op(a,i){return{query:a,snapshotChanges:()=>Zd(a,i.schedulers.outsideAngular)().pipe(Re.iC),update:s=>a.ref.update(s),set:s=>a.ref.set(s),remove:()=>a.ref.remove(),valueChanges:()=>Zd(a,i.schedulers.outsideAngular)().pipe(Re.iC,(0,$e.U)(d=>d.payload.exists()?d.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>wc(this.database,s)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return a.\u0275fac=function(s){return new(s||a)($.LFG(xe.Dh),$.LFG(xe.xv,8),$.LFG(Np,8),$.LFG($.Lbi),$.LFG($.R0b),$.LFG(Re.HU),$.LFG(xp,8),$.LFG(be.zQ,8),$.LFG(be.Qv,8),$.LFG(be.L6,8),$.LFG(be._Q,8),$.LFG(be.rT,8),$.LFG(be.lh,8),$.LFG(be.f7,8),$.LFG(ld.nm,8))},a.\u0275prov=$.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"}),a})(),Lp=(()=>{class a{constructor(){bu.Z.registerVersion("angularfire",Re.q4.full,"rtdb-compat")}}return a.\u0275fac=function(s){return new(s||a)},a.\u0275mod=$.oAB({type:a}),a.\u0275inj=$.cJS({providers:[kp]}),a})();var Yd=F(6114);const Bh=[{path:"auth",children:[{path:"",pathMatch:"full",redirectTo:"login"},{path:"login",loadChildren:()=>Promise.all([F.e(476),F.e(735)]).then(F.bind(F,9735)).then(a=>a.LoginModule)},{path:"register",loadChildren:()=>Promise.all([F.e(476),F.e(744)]).then(F.bind(F,9744)).then(a=>a.RegisterModule)}]}],Hh={apiKey:"AIzaSyDELbreern10t3JUW9PPK1OYTdYkxjG3Ig",authDomain:"fitness-app-bbb56.firebaseapp.com",databaseURL:"https://fitness-app-bbb56-default-rtdb.firebaseio.com",projectId:"fitness-app-bbb56",storageBucket:"fitness-app-bbb56.appspot.com",messagingSenderId:"659103425752",appId:"1:659103425752:web:f1da93840817f0d3b023ad",measurementId:"G-RX8H1FHVZE"};let jh=(()=>{var a;class i{}return(a=i).\u0275fac=function(d){return new(d||a)},a.\u0275mod=$.oAB({type:a}),a.\u0275inj=$.cJS({imports:[_e.ez,oe.Bz.forChild(Bh),xe.hO.initializeApp(Hh),be.ww,Lp,Yd.m.forRoot()]}),i})(),$h=(()=>{var a;class i{}return(a=i).\u0275fac=function(d){return new(d||a)},a.\u0275mod=$.oAB({type:a,bootstrap:[de]}),a.\u0275inj=$.cJS({imports:[h.b2,ce,jh]}),i})();h.q6().bootstrapModule($h).catch(a=>console.error(a))},5619:(wt,Fe,F)=>{F.d(Fe,{X:()=>oe});var h=F(8645);class oe extends h.x{constructor(fe){super(),this._value=fe}get value(){return this.getValue()}_subscribe(fe){const ce=super._subscribe(fe);return!ce.closed&&fe.next(this._value),ce}getValue(){const{hasError:fe,thrownError:ce,_value:de}=this;if(fe)throw ce;return this._throwIfClosed(),de}next(fe){super.next(this._value=fe)}}},5592:(wt,Fe,F)=>{F.d(Fe,{y:()=>xe});var h=F(305),oe=F(7394),$=F(4850),fe=F(8407),ce=F(2653),de=F(4674),_e=F(1441);let xe=(()=>{class ye{constructor($e){$e&&(this._subscribe=$e)}lift($e){const dt=new ye;return dt.source=this,dt.operator=$e,dt}subscribe($e,dt,Xe){const ft=function ie(ye){return ye&&ye instanceof h.Lv||function te(ye){return ye&&(0,de.m)(ye.next)&&(0,de.m)(ye.error)&&(0,de.m)(ye.complete)}(ye)&&(0,oe.Nn)(ye)}($e)?$e:new h.Hp($e,dt,Xe);return(0,_e.x)(()=>{const{operator:it,source:Rt}=this;ft.add(it?it.call(ft,Rt):Rt?this._subscribe(ft):this._trySubscribe(ft))}),ft}_trySubscribe($e){try{return this._subscribe($e)}catch(dt){$e.error(dt)}}forEach($e,dt){return new(dt=be(dt))((Xe,ft)=>{const it=new h.Hp({next:Rt=>{try{$e(Rt)}catch(Tt){ft(Tt),it.unsubscribe()}},error:ft,complete:Xe});this.subscribe(it)})}_subscribe($e){var dt;return null===(dt=this.source)||void 0===dt?void 0:dt.subscribe($e)}[$.L](){return this}pipe(...$e){return(0,fe.U)($e)(this)}toPromise($e){return new($e=be($e))((dt,Xe)=>{let ft;this.subscribe(it=>ft=it,it=>Xe(it),()=>dt(ft))})}}return ye.create=Je=>new ye(Je),ye})();function be(ye){var Je;return null!==(Je=ye??ce.config.Promise)&&void 0!==Je?Je:Promise}},8645:(wt,Fe,F)=>{F.d(Fe,{x:()=>_e});var h=F(5592),oe=F(7394);const fe=(0,F(2306).d)(be=>function(){be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=F(9039),de=F(1441);let _e=(()=>{class be extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ie){const ye=new xe(this,this);return ye.operator=ie,ye}_throwIfClosed(){if(this.closed)throw new fe}next(ie){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ye of this.currentObservers)ye.next(ie)}})}error(ie){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ie;const{observers:ye}=this;for(;ye.length;)ye.shift().error(ie)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ie}=this;for(;ie.length;)ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ie;return(null===(ie=this.observers)||void 0===ie?void 0:ie.length)>0}_trySubscribe(ie){return this._throwIfClosed(),super._trySubscribe(ie)}_subscribe(ie){return this._throwIfClosed(),this._checkFinalizedStatuses(ie),this._innerSubscribe(ie)}_innerSubscribe(ie){const{hasError:ye,isStopped:Je,observers:$e}=this;return ye||Je?oe.Lc:(this.currentObservers=null,$e.push(ie),new oe.w0(()=>{this.currentObservers=null,(0,ce.P)($e,ie)}))}_checkFinalizedStatuses(ie){const{hasError:ye,thrownError:Je,isStopped:$e}=this;ye?ie.error(Je):$e&&ie.complete()}asObservable(){const ie=new h.y;return ie.source=this,ie}}return be.create=(te,ie)=>new xe(te,ie),be})();class xe extends _e{constructor(te,ie){super(),this.destination=te,this.source=ie}next(te){var ie,ye;null===(ye=null===(ie=this.destination)||void 0===ie?void 0:ie.next)||void 0===ye||ye.call(ie,te)}error(te){var ie,ye;null===(ye=null===(ie=this.destination)||void 0===ie?void 0:ie.error)||void 0===ye||ye.call(ie,te)}complete(){var te,ie;null===(ie=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===ie||ie.call(te)}_subscribe(te){var ie,ye;return null!==(ye=null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(te))&&void 0!==ye?ye:oe.Lc}}},305:(wt,Fe,F)=>{F.d(Fe,{Hp:()=>Xe,Lv:()=>ye});var h=F(4674),oe=F(7394),$=F(2653),fe=F(3894),ce=F(420);const de=be("C",void 0,void 0);function be(Ce,Be,we){return{kind:Ce,value:Be,error:we}}var te=F(7599),ie=F(1441);class ye extends oe.w0{constructor(Be){super(),this.isStopped=!1,Be?(this.destination=Be,(0,oe.Nn)(Be)&&Be.add(this)):this.destination=Tt}static create(Be,we,Ue){return new Xe(Be,we,Ue)}next(Be){this.isStopped?Rt(function xe(Ce){return be("N",Ce,void 0)}(Be),this):this._next(Be)}error(Be){this.isStopped?Rt(function _e(Ce){return be("E",void 0,Ce)}(Be),this):(this.isStopped=!0,this._error(Be))}complete(){this.isStopped?Rt(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Be){this.destination.next(Be)}_error(Be){try{this.destination.error(Be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Je=Function.prototype.bind;function $e(Ce,Be){return Je.call(Ce,Be)}class dt{constructor(Be){this.partialObserver=Be}next(Be){const{partialObserver:we}=this;if(we.next)try{we.next(Be)}catch(Ue){ft(Ue)}}error(Be){const{partialObserver:we}=this;if(we.error)try{we.error(Be)}catch(Ue){ft(Ue)}else ft(Be)}complete(){const{partialObserver:Be}=this;if(Be.complete)try{Be.complete()}catch(we){ft(we)}}}class Xe extends ye{constructor(Be,we,Ue){let Ye;if(super(),(0,h.m)(Be)||!Be)Ye={next:Be??void 0,error:we??void 0,complete:Ue??void 0};else{let ht;this&&$.config.useDeprecatedNextContext?(ht=Object.create(Be),ht.unsubscribe=()=>this.unsubscribe(),Ye={next:Be.next&&$e(Be.next,ht),error:Be.error&&$e(Be.error,ht),complete:Be.complete&&$e(Be.complete,ht)}):Ye=Be}this.destination=new dt(Ye)}}function ft(Ce){$.config.useDeprecatedSynchronousErrorHandling?(0,ie.O)(Ce):(0,fe.h)(Ce)}function Rt(Ce,Be){const{onStoppedNotification:we}=$.config;we&&te.z.setTimeout(()=>we(Ce,Be))}const Tt={closed:!0,next:ce.Z,error:function it(Ce){throw Ce},complete:ce.Z}},7394:(wt,Fe,F)=>{F.d(Fe,{Lc:()=>de,w0:()=>ce,Nn:()=>_e});var h=F(4674);const $=(0,F(2306).d)(be=>function(ie){be(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((ye,Je)=>`${Je+1}) ${ye.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie});var fe=F(9039);class ce{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:ie}=this;if(ie)if(this._parentage=null,Array.isArray(ie))for(const $e of ie)$e.remove(this);else ie.remove(this);const{initialTeardown:ye}=this;if((0,h.m)(ye))try{ye()}catch($e){te=$e instanceof $?$e.errors:[$e]}const{_finalizers:Je}=this;if(Je){this._finalizers=null;for(const $e of Je)try{xe($e)}catch(dt){te=te??[],dt instanceof $?te=[...te,...dt.errors]:te.push(dt)}}if(te)throw new $(te)}}add(te){var ie;if(te&&te!==this)if(this.closed)xe(te);else{if(te instanceof ce){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(ie=this._finalizers)&&void 0!==ie?ie:[]).push(te)}}_hasParent(te){const{_parentage:ie}=this;return ie===te||Array.isArray(ie)&&ie.includes(te)}_addParent(te){const{_parentage:ie}=this;this._parentage=Array.isArray(ie)?(ie.push(te),ie):ie?[ie,te]:te}_removeParent(te){const{_parentage:ie}=this;ie===te?this._parentage=null:Array.isArray(ie)&&(0,fe.P)(ie,te)}remove(te){const{_finalizers:ie}=this;ie&&(0,fe.P)(ie,te),te instanceof ce&&te._removeParent(this)}}ce.EMPTY=(()=>{const be=new ce;return be.closed=!0,be})();const de=ce.EMPTY;function _e(be){return be instanceof ce||be&&"closed"in be&&(0,h.m)(be.remove)&&(0,h.m)(be.add)&&(0,h.m)(be.unsubscribe)}function xe(be){(0,h.m)(be)?be():be.unsubscribe()}},2653:(wt,Fe,F)=>{F.d(Fe,{config:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(wt,Fe,F)=>{F.d(Fe,{E:()=>oe});const oe=new(F(5592).y)(ce=>ce.complete())},459:(wt,Fe,F)=>{F.d(Fe,{D:()=>Be});var h=F(4829),oe=F(93),$=F(137),de=F(5592),xe=F(4971),be=F(4674),te=F(7103);function ye(we,Ue){if(!we)throw new Error("Iterable cannot be null");return new de.y(Ye=>{(0,te.f)(Ye,Ue,()=>{const ht=we[Symbol.asyncIterator]();(0,te.f)(Ye,Ue,()=>{ht.next().then(Re=>{Re.done?Ye.complete():Ye.next(Re.value)})},0,!0)})})}var Je=F(8382),$e=F(4026),dt=F(4266),Xe=F(3664),ft=F(5726),it=F(9853),Rt=F(541);function Be(we,Ue){return Ue?function Ce(we,Ue){if(null!=we){if((0,Je.c)(we))return function fe(we,Ue){return(0,h.Xf)(we).pipe((0,$.R)(Ue),(0,oe.Q)(Ue))}(we,Ue);if((0,dt.z)(we))return function _e(we,Ue){return new de.y(Ye=>{let ht=0;return Ue.schedule(function(){ht===we.length?Ye.complete():(Ye.next(we[ht++]),Ye.closed||this.schedule())})})}(we,Ue);if((0,$e.t)(we))return function ce(we,Ue){return(0,h.Xf)(we).pipe((0,$.R)(Ue),(0,oe.Q)(Ue))}(we,Ue);if((0,ft.D)(we))return ye(we,Ue);if((0,Xe.T)(we))return function ie(we,Ue){return new de.y(Ye=>{let ht;return(0,te.f)(Ye,Ue,()=>{ht=we[xe.h](),(0,te.f)(Ye,Ue,()=>{let Re,Nt;try{({value:Re,done:Nt}=ht.next())}catch(St){return void Ye.error(St)}Nt?Ye.complete():Ye.next(Re)},0,!0)}),()=>(0,be.m)(ht?.return)&&ht.return()})}(we,Ue);if((0,Rt.L)(we))return function Tt(we,Ue){return ye((0,Rt.Q)(we),Ue)}(we,Ue)}throw(0,it.z)(we)}(we,Ue):(0,h.Xf)(we)}},4829:(wt,Fe,F)=>{F.d(Fe,{Xf:()=>Je});var h=F(7582),oe=F(4266),$=F(4026),fe=F(5592),ce=F(8382),de=F(5726),_e=F(9853),xe=F(3664),be=F(541),te=F(4674),ie=F(3894),ye=F(4850);function Je(Ce){if(Ce instanceof fe.y)return Ce;if(null!=Ce){if((0,ce.c)(Ce))return function $e(Ce){return new fe.y(Be=>{const we=Ce[ye.L]();if((0,te.m)(we.subscribe))return we.subscribe(Be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ce);if((0,oe.z)(Ce))return function dt(Ce){return new fe.y(Be=>{for(let we=0;we<Ce.length&&!Be.closed;we++)Be.next(Ce[we]);Be.complete()})}(Ce);if((0,$.t)(Ce))return function Xe(Ce){return new fe.y(Be=>{Ce.then(we=>{Be.closed||(Be.next(we),Be.complete())},we=>Be.error(we)).then(null,ie.h)})}(Ce);if((0,de.D)(Ce))return it(Ce);if((0,xe.T)(Ce))return function ft(Ce){return new fe.y(Be=>{for(const we of Ce)if(Be.next(we),Be.closed)return;Be.complete()})}(Ce);if((0,be.L)(Ce))return function Rt(Ce){return it((0,be.Q)(Ce))}(Ce)}throw(0,_e.z)(Ce)}function it(Ce){return new fe.y(Be=>{(function Tt(Ce,Be){var we,Ue,Ye,ht;return(0,h.mG)(this,void 0,void 0,function*(){try{for(we=(0,h.KL)(Ce);!(Ue=yield we.next()).done;)if(Be.next(Ue.value),Be.closed)return}catch(Re){Ye={error:Re}}finally{try{Ue&&!Ue.done&&(ht=we.return)&&(yield ht.call(we))}finally{if(Ye)throw Ye.error}}Be.complete()})})(Ce,Be).catch(we=>Be.error(we))})}},19:(wt,Fe,F)=>{F.d(Fe,{T:()=>de});var h=F(7537),oe=F(4829),$=F(6232),fe=F(4564),ce=F(459);function de(..._e){const xe=(0,fe.yG)(_e),be=(0,fe._6)(_e,1/0),te=_e;return te.length?1===te.length?(0,oe.Xf)(te[0]):(0,h.J)(be)((0,ce.D)(te,xe)):$.E}},2096:(wt,Fe,F)=>{F.d(Fe,{of:()=>$});var h=F(4564),oe=F(459);function $(...fe){const ce=(0,h.yG)(fe);return(0,oe.D)(fe,ce)}},8251:(wt,Fe,F)=>{F.d(Fe,{x:()=>oe});var h=F(305);function oe(fe,ce,de,_e,xe){return new $(fe,ce,de,_e,xe)}class $ extends h.Lv{constructor(ce,de,_e,xe,be,te){super(ce),this.onFinalize=be,this.shouldUnsubscribe=te,this._next=de?function(ie){try{de(ie)}catch(ye){ce.error(ye)}}:super._next,this._error=xe?function(ie){try{xe(ie)}catch(ye){ce.error(ye)}finally{this.unsubscribe()}}:super._error,this._complete=_e?function(){try{_e()}catch(ie){ce.error(ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},572:(wt,Fe,F)=>{F.d(Fe,{d:()=>$});var h=F(9360),oe=F(8251);function $(fe){return(0,h.e)((ce,de)=>{let _e=!1;ce.subscribe((0,oe.x)(de,xe=>{_e=!0,de.next(xe)},()=>{_e||de.next(fe),de.complete()}))})}},997:(wt,Fe,F)=>{F.d(Fe,{x:()=>fe});var h=F(2737),oe=F(9360),$=F(8251);function fe(de,_e=h.y){return de=de??ce,(0,oe.e)((xe,be)=>{let te,ie=!0;xe.subscribe((0,$.x)(be,ye=>{const Je=_e(ye);(ie||!de(te,Je))&&(ie=!1,te=Je,be.next(ye))}))})}function ce(de,_e){return de===_e}},181:(wt,Fe,F)=>{F.d(Fe,{h:()=>$});var h=F(9360),oe=F(8251);function $(fe,ce){return(0,h.e)((de,_e)=>{let xe=0;de.subscribe((0,oe.x)(_e,be=>fe.call(ce,be,xe++)&&_e.next(be)))})}},374:(wt,Fe,F)=>{F.d(Fe,{P:()=>_e});var h=F(973),oe=F(181),$=F(180),fe=F(572),ce=F(26),de=F(2737);function _e(xe,be){const te=arguments.length>=2;return ie=>ie.pipe(xe?(0,oe.h)((ye,Je)=>xe(ye,Je,ie)):de.y,(0,$.q)(1),te?(0,fe.d)(be):(0,ce.T)(()=>new h.K))}},7398:(wt,Fe,F)=>{F.d(Fe,{U:()=>$});var h=F(9360),oe=F(8251);function $(fe,ce){return(0,h.e)((de,_e)=>{let xe=0;de.subscribe((0,oe.x)(_e,be=>{_e.next(fe.call(ce,be,xe++))}))})}},7537:(wt,Fe,F)=>{F.d(Fe,{J:()=>$});var h=F(1631),oe=F(2737);function $(fe=1/0){return(0,h.z)(oe.y,fe)}},1631:(wt,Fe,F)=>{F.d(Fe,{z:()=>xe});var h=F(7398),oe=F(4829),$=F(9360),fe=F(7103),ce=F(8251),_e=F(4674);function xe(be,te,ie=1/0){return(0,_e.m)(te)?xe((ye,Je)=>(0,h.U)(($e,dt)=>te(ye,$e,Je,dt))((0,oe.Xf)(be(ye,Je))),ie):("number"==typeof te&&(ie=te),(0,$.e)((ye,Je)=>function de(be,te,ie,ye,Je,$e,dt,Xe){const ft=[];let it=0,Rt=0,Tt=!1;const Ce=()=>{Tt&&!ft.length&&!it&&te.complete()},Be=Ue=>it<ye?we(Ue):ft.push(Ue),we=Ue=>{$e&&te.next(Ue),it++;let Ye=!1;(0,oe.Xf)(ie(Ue,Rt++)).subscribe((0,ce.x)(te,ht=>{Je?.(ht),$e?Be(ht):te.next(ht)},()=>{Ye=!0},void 0,()=>{if(Ye)try{for(it--;ft.length&&it<ye;){const ht=ft.shift();dt?(0,fe.f)(te,dt,()=>we(ht)):we(ht)}Ce()}catch(ht){te.error(ht)}}))};return be.subscribe((0,ce.x)(te,Be,()=>{Tt=!0,Ce()})),()=>{Xe?.()}}(ye,Je,be,ie)))}},93:(wt,Fe,F)=>{F.d(Fe,{Q:()=>fe});var h=F(7103),oe=F(9360),$=F(8251);function fe(ce,de=0){return(0,oe.e)((_e,xe)=>{_e.subscribe((0,$.x)(xe,be=>(0,h.f)(xe,ce,()=>xe.next(be),de),()=>(0,h.f)(xe,ce,()=>xe.complete(),de),be=>(0,h.f)(xe,ce,()=>xe.error(be),de)))})}},699:(wt,Fe,F)=>{F.d(Fe,{R:()=>fe});var h=F(9360),oe=F(8251);function fe(ce,de){return(0,h.e)(function $(ce,de,_e,xe,be){return(te,ie)=>{let ye=_e,Je=de,$e=0;te.subscribe((0,oe.x)(ie,dt=>{const Xe=$e++;Je=ye?ce(Je,dt,Xe):(ye=!0,dt),xe&&ie.next(Je)},be&&(()=>{ye&&ie.next(Je),ie.complete()})))}}(ce,de,arguments.length>=2,!0))}},20:(wt,Fe,F)=>{F.d(Fe,{B:()=>ce});var h=F(4829),oe=F(8645),$=F(305),fe=F(9360);function ce(_e={}){const{connector:xe=(()=>new oe.x),resetOnError:be=!0,resetOnComplete:te=!0,resetOnRefCountZero:ie=!0}=_e;return ye=>{let Je,$e,dt,Xe=0,ft=!1,it=!1;const Rt=()=>{$e?.unsubscribe(),$e=void 0},Tt=()=>{Rt(),Je=dt=void 0,ft=it=!1},Ce=()=>{const Be=Je;Tt(),Be?.unsubscribe()};return(0,fe.e)((Be,we)=>{Xe++,!it&&!ft&&Rt();const Ue=dt=dt??xe();we.add(()=>{Xe--,0===Xe&&!it&&!ft&&($e=de(Ce,ie))}),Ue.subscribe(we),!Je&&Xe>0&&(Je=new $.Hp({next:Ye=>Ue.next(Ye),error:Ye=>{it=!0,Rt(),$e=de(Tt,be,Ye),Ue.error(Ye)},complete:()=>{ft=!0,Rt(),$e=de(Tt,te),Ue.complete()}}),(0,h.Xf)(Be).subscribe(Je))})(ye)}}function de(_e,xe,...be){if(!0===xe)return void _e();if(!1===xe)return;const te=new $.Hp({next:()=>{te.unsubscribe(),_e()}});return(0,h.Xf)(xe(...be)).subscribe(te)}},137:(wt,Fe,F)=>{F.d(Fe,{R:()=>oe});var h=F(9360);function oe($,fe=0){return(0,h.e)((ce,de)=>{de.add($.schedule(()=>ce.subscribe(de),fe))})}},4664:(wt,Fe,F)=>{F.d(Fe,{w:()=>fe});var h=F(4829),oe=F(9360),$=F(8251);function fe(ce,de){return(0,oe.e)((_e,xe)=>{let be=null,te=0,ie=!1;const ye=()=>ie&&!be&&xe.complete();_e.subscribe((0,$.x)(xe,Je=>{be?.unsubscribe();let $e=0;const dt=te++;(0,h.Xf)(ce(Je,dt)).subscribe(be=(0,$.x)(xe,Xe=>xe.next(de?de(Je,Xe,dt,$e++):Xe),()=>{be=null,ye()}))},()=>{ie=!0,ye()}))})}},180:(wt,Fe,F)=>{F.d(Fe,{q:()=>fe});var h=F(6232),oe=F(9360),$=F(8251);function fe(ce){return ce<=0?()=>h.E:(0,oe.e)((de,_e)=>{let xe=0;de.subscribe((0,$.x)(_e,be=>{++xe<=ce&&(_e.next(be),ce<=xe&&_e.complete())}))})}},397:(wt,Fe,F)=>{F.d(Fe,{b:()=>ce});var h=F(4674),oe=F(9360),$=F(8251),fe=F(2737);function ce(de,_e,xe){const be=(0,h.m)(de)||_e||xe?{next:de,error:_e,complete:xe}:de;return be?(0,oe.e)((te,ie)=>{var ye;null===(ye=be.subscribe)||void 0===ye||ye.call(be);let Je=!0;te.subscribe((0,$.x)(ie,$e=>{var dt;null===(dt=be.next)||void 0===dt||dt.call(be,$e),ie.next($e)},()=>{var $e;Je=!1,null===($e=be.complete)||void 0===$e||$e.call(be),ie.complete()},$e=>{var dt;Je=!1,null===(dt=be.error)||void 0===dt||dt.call(be,$e),ie.error($e)},()=>{var $e,dt;Je&&(null===($e=be.unsubscribe)||void 0===$e||$e.call(be)),null===(dt=be.finalize)||void 0===dt||dt.call(be)}))}):fe.y}},26:(wt,Fe,F)=>{F.d(Fe,{T:()=>fe});var h=F(973),oe=F(9360),$=F(8251);function fe(de=ce){return(0,oe.e)((_e,xe)=>{let be=!1;_e.subscribe((0,$.x)(xe,te=>{be=!0,xe.next(te)},()=>be?xe.complete():xe.error(de())))})}function ce(){return new h.K}},954:(wt,Fe,F)=>{F.d(Fe,{o:()=>ce});var h=F(7394);class oe extends h.w0{constructor(_e,xe){super()}schedule(_e,xe=0){return this}}const $={setInterval(de,_e,...xe){const{delegate:be}=$;return be?.setInterval?be.setInterval(de,_e,...xe):setInterval(de,_e,...xe)},clearInterval(de){const{delegate:_e}=$;return(_e?.clearInterval||clearInterval)(de)},delegate:void 0};var fe=F(9039);class ce extends oe{constructor(_e,xe){super(_e,xe),this.scheduler=_e,this.work=xe,this.pending=!1}schedule(_e,xe=0){var be;if(this.closed)return this;this.state=_e;const te=this.id,ie=this.scheduler;return null!=te&&(this.id=this.recycleAsyncId(ie,te,xe)),this.pending=!0,this.delay=xe,this.id=null!==(be=this.id)&&void 0!==be?be:this.requestAsyncId(ie,this.id,xe),this}requestAsyncId(_e,xe,be=0){return $.setInterval(_e.flush.bind(_e,this),be)}recycleAsyncId(_e,xe,be=0){if(null!=be&&this.delay===be&&!1===this.pending)return xe;null!=xe&&$.clearInterval(xe)}execute(_e,xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const be=this._execute(_e,xe);if(be)return be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,xe){let te,be=!1;try{this.work(_e)}catch(ie){be=!0,te=ie||new Error("Scheduled action threw falsy error")}if(be)return this.unsubscribe(),te}unsubscribe(){if(!this.closed){const{id:_e,scheduler:xe}=this,{actions:be}=xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,fe.P)(be,this),null!=_e&&(this.id=this.recycleAsyncId(xe,_e,null)),this.delay=null,super.unsubscribe()}}}},631:(wt,Fe,F)=>{F.d(Fe,{v:()=>$});var h=F(552);class oe{constructor(ce,de=oe.now){this.schedulerActionCtor=ce,this.now=de}schedule(ce,de=0,_e){return new this.schedulerActionCtor(this,ce).schedule(_e,de)}}oe.now=h.l.now;class $ extends oe{constructor(ce,de=oe.now){super(ce,de),this.actions=[],this._active=!1}flush(ce){const{actions:de}=this;if(this._active)return void de.push(ce);let _e;this._active=!0;do{if(_e=ce.execute(ce.state,ce.delay))break}while(ce=de.shift());if(this._active=!1,_e){for(;ce=de.shift();)ce.unsubscribe();throw _e}}}},321:(wt,Fe,F)=>{F.d(Fe,{z:()=>$});var h=F(954);const $=new(F(631).v)(h.o)},552:(wt,Fe,F)=>{F.d(Fe,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},7599:(wt,Fe,F)=>{F.d(Fe,{z:()=>h});const h={setTimeout(oe,$,...fe){const{delegate:ce}=h;return ce?.setTimeout?ce.setTimeout(oe,$,...fe):setTimeout(oe,$,...fe)},clearTimeout(oe){const{delegate:$}=h;return($?.clearTimeout||clearTimeout)(oe)},delegate:void 0}},4971:(wt,Fe,F)=>{F.d(Fe,{h:()=>oe});const oe=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(wt,Fe,F)=>{F.d(Fe,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},973:(wt,Fe,F)=>{F.d(Fe,{K:()=>oe});const oe=(0,F(2306).d)($=>function(){$(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(wt,Fe,F)=>{F.d(Fe,{_6:()=>de,jO:()=>fe,yG:()=>ce});var h=F(4674);function $(_e){return _e[_e.length-1]}function fe(_e){return(0,h.m)($(_e))?_e.pop():void 0}function ce(_e){return function oe(_e){return _e&&(0,h.m)(_e.schedule)}($(_e))?_e.pop():void 0}function de(_e,xe){return"number"==typeof $(_e)?_e.pop():xe}},7453:(wt,Fe,F)=>{F.d(Fe,{D:()=>ce});const{isArray:h}=Array,{getPrototypeOf:oe,prototype:$,keys:fe}=Object;function ce(_e){if(1===_e.length){const xe=_e[0];if(h(xe))return{args:xe,keys:null};if(function de(_e){return _e&&"object"==typeof _e&&oe(_e)===$}(xe)){const be=fe(xe);return{args:be.map(te=>xe[te]),keys:be}}}return{args:_e,keys:null}}},9039:(wt,Fe,F)=>{function h(oe,$){if(oe){const fe=oe.indexOf($);0<=fe&&oe.splice(fe,1)}}F.d(Fe,{P:()=>h})},2306:(wt,Fe,F)=>{function h(oe){const fe=oe(ce=>{Error.call(ce),ce.stack=(new Error).stack});return fe.prototype=Object.create(Error.prototype),fe.prototype.constructor=fe,fe}F.d(Fe,{d:()=>h})},2714:(wt,Fe,F)=>{function h(oe,$){return oe.reduce((fe,ce,de)=>(fe[ce]=$[de],fe),{})}F.d(Fe,{n:()=>h})},1441:(wt,Fe,F)=>{F.d(Fe,{O:()=>fe,x:()=>$});var h=F(2653);let oe=null;function $(ce){if(h.config.useDeprecatedSynchronousErrorHandling){const de=!oe;if(de&&(oe={errorThrown:!1,error:null}),ce(),de){const{errorThrown:_e,error:xe}=oe;if(oe=null,_e)throw xe}}else ce()}function fe(ce){h.config.useDeprecatedSynchronousErrorHandling&&oe&&(oe.errorThrown=!0,oe.error=ce)}},7103:(wt,Fe,F)=>{function h(oe,$,fe,ce=0,de=!1){const _e=$.schedule(function(){fe(),de?oe.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(oe.add(_e),!de)return _e}F.d(Fe,{f:()=>h})},2737:(wt,Fe,F)=>{function h(oe){return oe}F.d(Fe,{y:()=>h})},4266:(wt,Fe,F)=>{F.d(Fe,{z:()=>h});const h=oe=>oe&&"number"==typeof oe.length&&"function"!=typeof oe},5726:(wt,Fe,F)=>{F.d(Fe,{D:()=>oe});var h=F(4674);function oe($){return Symbol.asyncIterator&&(0,h.m)($?.[Symbol.asyncIterator])}},4674:(wt,Fe,F)=>{function h(oe){return"function"==typeof oe}F.d(Fe,{m:()=>h})},8382:(wt,Fe,F)=>{F.d(Fe,{c:()=>$});var h=F(4850),oe=F(4674);function $(fe){return(0,oe.m)(fe[h.L])}},3664:(wt,Fe,F)=>{F.d(Fe,{T:()=>$});var h=F(4971),oe=F(4674);function $(fe){return(0,oe.m)(fe?.[h.h])}},4026:(wt,Fe,F)=>{F.d(Fe,{t:()=>oe});var h=F(4674);function oe($){return(0,h.m)($?.then)}},541:(wt,Fe,F)=>{F.d(Fe,{L:()=>fe,Q:()=>$});var h=F(7582),oe=F(4674);function $(ce){return(0,h.FC)(this,arguments,function*(){const _e=ce.getReader();try{for(;;){const{value:xe,done:be}=yield(0,h.qq)(_e.read());if(be)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(xe)}}finally{_e.releaseLock()}})}function fe(ce){return(0,oe.m)(ce?.getReader)}},9360:(wt,Fe,F)=>{F.d(Fe,{A:()=>oe,e:()=>$});var h=F(4674);function oe(fe){return(0,h.m)(fe?.lift)}function $(fe){return ce=>{if(oe(ce))return ce.lift(function(de){try{return fe(de,this)}catch(_e){this.error(_e)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(wt,Fe,F)=>{F.d(Fe,{Z:()=>fe});var h=F(7398);const{isArray:oe}=Array;function fe(ce){return(0,h.U)(de=>function $(ce,de){return oe(de)?ce(...de):ce(de)}(ce,de))}},420:(wt,Fe,F)=>{function h(){}F.d(Fe,{Z:()=>h})},8407:(wt,Fe,F)=>{F.d(Fe,{U:()=>$,z:()=>oe});var h=F(2737);function oe(...fe){return $(fe)}function $(fe){return 0===fe.length?h.y:1===fe.length?fe[0]:function(de){return fe.reduce((_e,xe)=>xe(_e),de)}}},3894:(wt,Fe,F)=>{F.d(Fe,{h:()=>$});var h=F(2653),oe=F(7599);function $(fe){oe.z.setTimeout(()=>{const{onUnhandledError:ce}=h.config;if(!ce)throw fe;ce(fe)})}},9853:(wt,Fe,F)=>{function h(oe){return new TypeError(`You provided ${null!==oe&&"object"==typeof oe?"an invalid object":`'${oe}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Fe,{z:()=>h})},6814:(wt,Fe,F)=>{F.d(Fe,{Do:()=>Xe,EM:()=>vi,HT:()=>fe,JF:()=>rr,K0:()=>de,Mx:()=>li,O5:()=>ei,PM:()=>Ki,S$:()=>Je,V_:()=>xe,Ye:()=>ft,b0:()=>dt,bD:()=>Si,ez:()=>ni,q:()=>$,w_:()=>ce});var h=F(879);let oe=null;function $(){return oe}function fe(E){oe||(oe=E)}class ce{}const de=new h.OlP("DocumentToken");let _e=(()=>{var E;class P{historyGo(M){throw new Error("Not implemented")}}return(E=P).\u0275fac=function(M){return new(M||E)},E.\u0275prov=h.Yz7({token:E,factory:function(){return(0,h.f3M)(be)},providedIn:"platform"}),P})();const xe=new h.OlP("Location Initialized");let be=(()=>{var E;class P extends _e{constructor(){super(),this._doc=(0,h.f3M)(de),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(M){const Z=$().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("popstate",M,!1),()=>Z.removeEventListener("popstate",M)}onHashChange(M){const Z=$().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("hashchange",M,!1),()=>Z.removeEventListener("hashchange",M)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(M){this._location.pathname=M}pushState(M,Z,le){this._history.pushState(M,Z,le)}replaceState(M,Z,le){this._history.replaceState(M,Z,le)}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}}return(E=P).\u0275fac=function(M){return new(M||E)},E.\u0275prov=h.Yz7({token:E,factory:function(){return new E},providedIn:"platform"}),P})();function te(E,P){if(0==E.length)return P;if(0==P.length)return E;let Q=0;return E.endsWith("/")&&Q++,P.startsWith("/")&&Q++,2==Q?E+P.substring(1):1==Q?E+P:E+"/"+P}function ie(E){const P=E.match(/#|\?|$/),Q=P&&P.index||E.length;return E.slice(0,Q-("/"===E[Q-1]?1:0))+E.slice(Q)}function ye(E){return E&&"?"!==E[0]?"?"+E:E}let Je=(()=>{var E;class P{historyGo(M){throw new Error("Not implemented")}}return(E=P).\u0275fac=function(M){return new(M||E)},E.\u0275prov=h.Yz7({token:E,factory:function(){return(0,h.f3M)(dt)},providedIn:"root"}),P})();const $e=new h.OlP("appBaseHref");let dt=(()=>{var E;class P extends Je{constructor(M,Z){super(),this._platformLocation=M,this._removeListenerFns=[],this._baseHref=Z??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return te(this._baseHref,M)}path(M=!1){const Z=this._platformLocation.pathname+ye(this._platformLocation.search),le=this._platformLocation.hash;return le&&M?`${Z}${le}`:Z}pushState(M,Z,le,We){const ut=this.prepareExternalUrl(le+ye(We));this._platformLocation.pushState(M,Z,ut)}replaceState(M,Z,le,We){const ut=this.prepareExternalUrl(le+ye(We));this._platformLocation.replaceState(M,Z,ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return(E=P).\u0275fac=function(M){return new(M||E)(h.LFG(_e),h.LFG($e,8))},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),P})(),Xe=(()=>{var E;class P extends Je{constructor(M,Z){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=Z&&(this._baseHref=Z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let Z=this._platformLocation.hash;return null==Z&&(Z="#"),Z.length>0?Z.substring(1):Z}prepareExternalUrl(M){const Z=te(this._baseHref,M);return Z.length>0?"#"+Z:Z}pushState(M,Z,le,We){let ut=this.prepareExternalUrl(le+ye(We));0==ut.length&&(ut=this._platformLocation.pathname),this._platformLocation.pushState(M,Z,ut)}replaceState(M,Z,le,We){let ut=this.prepareExternalUrl(le+ye(We));0==ut.length&&(ut=this._platformLocation.pathname),this._platformLocation.replaceState(M,Z,ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return(E=P).\u0275fac=function(M){return new(M||E)(h.LFG(_e),h.LFG($e,8))},E.\u0275prov=h.Yz7({token:E,factory:E.\u0275fac}),P})(),ft=(()=>{var E;class P{constructor(M){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const Z=this._locationStrategy.getBaseHref();this._basePath=function Ce(E){if(new RegExp("^(https?:)?//").test(E)){const[,Q]=E.split(/\/\/[^\/]+/);return Q}return E}(ie(Tt(Z))),this._locationStrategy.onPopState(le=>{this._subject.emit({url:this.path(!0),pop:!0,state:le.state,type:le.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,Z=""){return this.path()==this.normalize(M+ye(Z))}normalize(M){return P.stripTrailingSlash(function Rt(E,P){if(!E||!P.startsWith(E))return P;const Q=P.substring(E.length);return""===Q||["/",";","?","#"].includes(Q[0])?Q:P}(this._basePath,Tt(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,Z="",le=null){this._locationStrategy.pushState(le,"",M,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+ye(Z)),le)}replaceState(M,Z="",le=null){this._locationStrategy.replaceState(le,"",M,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+ye(Z)),le)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Z=>{this._notifyUrlChangeListeners(Z.url,Z.state)})),()=>{const Z=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice(Z,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",Z){this._urlChangeListeners.forEach(le=>le(M,Z))}subscribe(M,Z,le){return this._subject.subscribe({next:M,error:Z,complete:le})}}return(E=P).normalizeQueryParams=ye,E.joinWithSlash=te,E.stripTrailingSlash=ie,E.\u0275fac=function(M){return new(M||E)(h.LFG(Je))},E.\u0275prov=h.Yz7({token:E,factory:function(){return function it(){return new ft((0,h.LFG)(Je))}()},providedIn:"root"}),P})();function Tt(E){return E.replace(/\/index.html$/,"")}function li(E,P){P=encodeURIComponent(P);for(const Q of E.split(";")){const M=Q.indexOf("="),[Z,le]=-1==M?[Q,""]:[Q.slice(0,M),Q.slice(M+1)];if(Z.trim()===P)return decodeURIComponent(le)}return null}let ei=(()=>{var E;class P{constructor(M,Z){this._viewContainer=M,this._context=new uo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Z}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){bs("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){bs("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,Z){return!0}}return(E=P).\u0275fac=function(M){return new(M||E)(h.Y36(h.s_b),h.Y36(h.Rgc))},E.\u0275dir=h.lG2({type:E,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),P})();class uo{constructor(){this.$implicit=null,this.ngIf=null}}function bs(E,P){if(P&&!P.createEmbeddedView)throw new Error(`${E} must be a TemplateRef, but received '${(0,h.AaK)(P)}'.`)}let ni=(()=>{var E;class P{}return(E=P).\u0275fac=function(M){return new(M||E)},E.\u0275mod=h.oAB({type:E}),E.\u0275inj=h.cJS({}),P})();const Si="browser",js="server";function Ki(E){return E===js}let vi=(()=>{var E;class P{}return(E=P).\u0275prov=(0,h.Yz7)({token:E,providedIn:"root",factory:()=>new Ur((0,h.LFG)(de),window)}),P})();class Ur{constructor(P,Q){this.document=P,this.window=Q,this.offset=()=>[0,0]}setOffset(P){this.offset=Array.isArray(P)?()=>P:P}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(P){this.supportsScrolling()&&this.window.scrollTo(P[0],P[1])}scrollToAnchor(P){if(!this.supportsScrolling())return;const Q=function Yr(E,P){const Q=E.getElementById(P)||E.getElementsByName(P)[0];if(Q)return Q;if("function"==typeof E.createTreeWalker&&E.body&&"function"==typeof E.body.attachShadow){const M=E.createTreeWalker(E.body,NodeFilter.SHOW_ELEMENT);let Z=M.currentNode;for(;Z;){const le=Z.shadowRoot;if(le){const We=le.getElementById(P)||le.querySelector(`[name="${P}"]`);if(We)return We}Z=M.nextNode()}}return null}(this.document,P);Q&&(this.scrollToElement(Q),Q.focus())}setHistoryScrollRestoration(P){if(this.supportScrollRestoration()){const Q=this.window.history;Q&&Q.scrollRestoration&&(Q.scrollRestoration=P)}}scrollToElement(P){const Q=P.getBoundingClientRect(),M=Q.left+this.window.pageXOffset,Z=Q.top+this.window.pageYOffset,le=this.offset();this.window.scrollTo(M-le[0],Z-le[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const P=ri(this.window.history)||ri(Object.getPrototypeOf(this.window.history));return!(!P||!P.writable&&!P.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ri(E){return Object.getOwnPropertyDescriptor(E,"scrollRestoration")}class rr{}},879:(wt,Fe,F)=>{F.d(Fe,{$8M:()=>qa,$WT:()=>Ti,$Z:()=>bg,AFp:()=>Yp,AaK:()=>ye,CRH:()=>_v,EJc:()=>nw,F$t:()=>Im,F4k:()=>mm,FYo:()=>ig,FiY:()=>no,GfV:()=>sg,Gpc:()=>dt,HDt:()=>Uv,Hsn:()=>Dm,JOm:()=>Yl,LFG:()=>rn,Lbi:()=>ef,Lck:()=>LD,MMx:()=>z_,NdJ:()=>Bf,Ojb:()=>By,OlP:()=>Mr,P3R:()=>Up,PXZ:()=>_w,Q6J:()=>xf,QGY:()=>Uf,Qsj:()=>eE,R0b:()=>Ao,RDi:()=>$d,Rgc:()=>Nd,SBq:()=>gd,Sil:()=>sw,Suo:()=>mv,TTD:()=>qs,TgZ:()=>gh,VuI:()=>Qw,X6Q:()=>bw,XFs:()=>Pt,Xpm:()=>Ir,Xq5:()=>Qg,Xts:()=>hd,Y36:()=>Nc,YKP:()=>W_,YNc:()=>cm,Yjl:()=>co,Yz7:()=>Gt,Z0I:()=>lt,ZZ4:()=>Ap,_Bn:()=>$_,_UZ:()=>Lf,_c5:()=>Hw,_uU:()=>Km,aQg:()=>Mp,c2e:()=>Vv,cJS:()=>In,cg1:()=>Kf,dDg:()=>fw,dqk:()=>Dn,eFA:()=>Xv,eJc:()=>hp,ekj:()=>Gf,eoX:()=>Yv,f3M:()=>en,g9A:()=>qp,h0i:()=>Zc,hGG:()=>jw,hij:()=>yh,iGM:()=>gv,ifc:()=>Dt,ip1:()=>Fv,jDz:()=>K_,kL8:()=>g_,lG2:()=>_s,lqb:()=>qu,lri:()=>Kv,n5z:()=>ml,oAB:()=>Vr,oxw:()=>Cm,q4F:()=>og,qFp:()=>Xw,qLn:()=>Pc,qOj:()=>Tf,qZA:()=>mh,rWj:()=>Zv,rg0:()=>Os,sBO:()=>Tw,s_b:()=>bh,soG:()=>Sh,tb:()=>Ip,tp0:()=>$i,uIk:()=>Af,vHH:()=>Ce,vpe:()=>Nl,wAp:()=>zc,xp6:()=>vg,z2F:()=>Qc,zSh:()=>Yh,zs3:()=>Tu});var h=F(8645),oe=F(7394),$=F(5619),fe=F(5592),ce=F(19),de=F(2096),_e=F(20),xe=F(4664),be=F(997);function te(e){for(let t in e)if(e[t]===te)return t;throw Error("Could not find renamed property on target object.")}function ie(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ye(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ye).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Je(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const $e=te({__forward_ref__:te});function dt(e){return e.__forward_ref__=dt,e.toString=function(){return ye(this())},e}function Xe(e){return ft(e)?e():e}function ft(e){return"function"==typeof e&&e.hasOwnProperty($e)&&e.__forward_ref__===dt}function it(e){return e&&!!e.\u0275providers}const Tt="https://g.co/ng/security#xss";class Ce extends Error{constructor(t,n){super(function Be(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function we(e){return"string"==typeof e?e:null==e?"":String(e)}function Nt(e,t){throw new Ce(-201,!1)}function st(e,t){null==e&&function Et(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Gt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function In(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ln(e){return Vn(e,Ht)||Vn(e,ir)}function lt(e){return null!==Ln(e)}function Vn(e,t){return e.hasOwnProperty(t)?e[t]:null}function cn(e){return e&&(e.hasOwnProperty(Nn)||e.hasOwnProperty(jr))?e[Nn]:null}const Ht=te({\u0275prov:te}),Nn=te({\u0275inj:te}),ir=te({ngInjectableDef:te}),jr=te({ngInjectorDef:te});var Pt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Pt||{});let jt;function An(e){const t=jt;return jt=e,t}function Rn(e,t,n){const r=Ln(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Pt.Optional?null:void 0!==t?t:void Nt(ye(e))}const Dn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),pr={},nn="__NG_DI_FLAG__",fn="ngTempTokenPath",bi=/\n/gm,wr="__source";let ar;function $n(e){const t=ar;return ar=e,t}function vr(e,t=Pt.Default){if(void 0===ar)throw new Ce(-203,!1);return null===ar?Rn(e,void 0,t):ar.get(e,t&Pt.Optional?null:void 0,t)}function rn(e,t=Pt.Default){return(function Vt(){return jt}()||vr)(Xe(e),t)}function en(e,t=Pt.Default){return rn(e,se(t))}function se(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function H(e){const t=[];for(let n=0;n<e.length;n++){const r=Xe(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Ce(900,!1);let o,u=Pt.Default;for(let f=0;f<r.length;f++){const y=r[f],D=ne(y);"number"==typeof D?-1===D?o=y.token:u|=D:o=y}t.push(rn(o,u))}else t.push(rn(r))}return t}function V(e,t){return e[nn]=t,e.prototype[nn]=t,e}function ne(e){return e[nn]}function ke(e){return{toString:e}.toString()}var at=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(at||{}),Dt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Dt||{});const Ut={},bt=[],Yt=te({\u0275cmp:te}),tr=te({\u0275dir:te}),lr=te({\u0275pipe:te}),Lr=te({\u0275mod:te}),gr=te({\u0275fac:te}),Ve=te({__NG_ELEMENT_ID__:te}),Ae=te({__NG_ENV_ID__:te});function nt(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const u=t.length;if(o+u===r||e.charCodeAt(o+u)<=32)return o}n=o+1}}function Mt(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const u=n[r++],f=n[r++],y=n[r++];e.setAttribute(t,f,y,u)}else{const u=o,f=n[++r];sn(u)?e.setProperty(t,u,f):e.setAttribute(t,u,f),r++}}return r}function Kt(e){return 3===e||4===e||6===e}function sn(e){return 64===e.charCodeAt(0)}function yn(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||sr(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function sr(e,t,n,r,o){let u=0,f=e.length;if(-1===t)f=-1;else for(;u<e.length;){const y=e[u++];if("number"==typeof y){if(y===t){f=-1;break}if(y>t){f=u-1;break}}}for(;u<e.length;){const y=e[u];if("number"==typeof y)break;if(y===n){if(null===r)return void(null!==o&&(e[u+1]=o));if(r===e[u+1])return void(e[u+2]=o)}u++,null!==r&&u++,null!==o&&u++}-1!==f&&(e.splice(f,0,t),u=f+1),e.splice(u++,0,n),null!==r&&e.splice(u++,0,r),null!==o&&e.splice(u++,0,o)}const qn="ng-template";function Xr(e,t,n){let r=0,o=!0;for(;r<e.length;){let u=e[r++];if("string"==typeof u&&o){const f=e[r++];if(n&&"class"===u&&-1!==nt(f.toLowerCase(),t,0))return!0}else{if(1===u){for(;r<e.length&&"string"==typeof(u=e[r++]);)if(u.toLowerCase()===t)return!0;return!1}"number"==typeof u&&(o=!1)}}return!1}function li(e){return 4===e.type&&e.value!==qn}function es(e,t,n){return t===(4!==e.type||n?e.value:qn)}function ao(e,t,n){let r=4;const o=e.attrs||[],u=function ts(e){for(let t=0;t<e.length;t++)if(Kt(e[t]))return t;return e.length}(o);let f=!1;for(let y=0;y<t.length;y++){const D=t[y];if("number"!=typeof D){if(!f)if(4&r){if(r=2|1&r,""!==D&&!es(e,D,n)||""===D&&1===t.length){if(Fr(r))return!1;f=!0}}else{const k=8&r?D:t[++y];if(8&r&&null!==e.attrs){if(!Xr(e.attrs,k,n)){if(Fr(r))return!1;f=!0}continue}const ee=ps(8&r?"class":D,o,li(e),n);if(-1===ee){if(Fr(r))return!1;f=!0;continue}if(""!==k){let ve;ve=ee>u?"":o[ee+1].toLowerCase();const Se=8&r?ve:null;if(Se&&-1!==nt(Se,k,0)||2&r&&k!==ve){if(Fr(r))return!1;f=!0}}}}else{if(!f&&!Fr(r)&&!Fr(D))return!1;if(f&&Fr(D))continue;f=!1,r=D|1&r}}return Fr(r)||f}function Fr(e){return 0==(1&e)}function ps(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let u=!1;for(;o<t.length;){const f=t[o];if(f===e)return o;if(3===f||6===f)u=!0;else{if(1===f||2===f){let y=t[++o];for(;"string"==typeof y;)y=t[++o];continue}if(4===f)break;if(0===f){o+=4;continue}}o+=u?1:2}return-1}return function Gi(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Wr(e,t,n=!1){for(let r=0;r<t.length;r++)if(ao(e,t[r],n))return!0;return!1}function Wn(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let o=0;o<e.length;o++)if(e[o]!==r[o])continue e;return!0}}return!1}function ei(e,t){return e?":not("+t.trim()+")":t}function uo(e){let t=e[0],n=1,r=2,o="",u=!1;for(;n<e.length;){let f=e[n];if("string"==typeof f)if(2&r){const y=e[++n];o+="["+f+(y.length>0?'="'+y+'"':"")+"]"}else 8&r?o+="."+f:4&r&&(o+=" "+f);else""!==o&&!Fr(f)&&(t+=ei(u,o),o=""),r=f,u=u||!Fr(r);n++}return""!==o&&(t+=ei(u,o)),t}function Ir(e){return ke(()=>{const t=vs(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===at.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Dt.Emulated,styles:e.styles||bt,_:null,schemas:e.schemas||null,tView:null,id:""};me(n);const r=e.dependencies;return n.directiveDefs=he(r,!1),n.pipeDefs=he(r,!0),n.id=function Ke(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function gs(e){return dn(e)||Pr(e)}function xi(e){return null!==e}function Vr(e){return ke(()=>({type:e.type,bootstrap:e.bootstrap||bt,declarations:e.declarations||bt,imports:e.imports||bt,exports:e.exports||bt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function _i(e,t){if(null==e)return Ut;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],u=o;Array.isArray(o)&&(u=o[1],o=o[0]),n[o]=r,t&&(t[o]=u)}return n}function _s(e){return ke(()=>{const t=vs(e);return me(t),t})}function co(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function dn(e){return e[Yt]||null}function Pr(e){return e[tr]||null}function Kn(e){return e[lr]||null}function Ti(e){const t=dn(e)||Pr(e)||Kn(e);return null!==t&&t.standalone}function Ar(e,t){const n=e[Lr]||null;if(!n&&!0===t)throw new Error(`Type ${ye(e)} does not have '\u0275mod' property.`);return n}function vs(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Ut,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||bt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_i(e.inputs,t),outputs:_i(e.outputs)}}function me(e){e.features?.forEach(t=>t(e))}function he(e,t){if(!e)return null;const n=t?Kn:gs;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(xi)}const Qe=0,Ge=1,vt=2,gt=3,It=4,Zt=5,Fn=6,Qt=7,Qn=8,Or=9,ti=10,Jt=11,mn=12,En=13,Jn=14,hr=15,ui=16,Nr=17,ni=18,Si=19,js=20,Zr=21,Zn=22,zi=23,Ki=24,hn=25,$s=1,vi=2,Ur=7,Yr=9,rr=11;function yr(e){return Array.isArray(e)&&"object"==typeof e[$s]}function Dr(e){return Array.isArray(e)&&!0===e[$s]}function ki(e){return 0!=(4&e.flags)}function xr(e){return e.componentOffset>-1}function Li(e){return 1==(1&e.flags)}function Gn(e){return!!e.template}function Br(e){return 0!=(512&e[vt])}function O(e,t){return e.hasOwnProperty(gr)?e[gr]:null}let Ot=Dn.WeakRef??class qe{constructor(t){this.ref=t}deref(){return this.ref}},Gr=0,Hr=null,Ai=!1;function fr(e){const t=Hr;return Hr=e,t}class hi{constructor(){this.id=Gr++,this.ref=function Xn(e){return new Ot(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[t,n]of this.producers){const r=n.producerNode.deref();if(null!=r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(t),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const t=Ai;Ai=!0;try{for(const[n,r]of this.consumers){const o=r.consumerNode.deref();null!=o&&o.trackingVersion===r.atTrackingVersion?o.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),o?.producers.delete(this.id))}}finally{Ai=t}}producerAccessed(){if(Ai)throw new Error("");if(null===Hr)return;let t=Hr.producers.get(this.id);void 0===t?(t={consumerNode:Hr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Hr.trackingVersion},Hr.producers.set(this.id,t),this.consumers.set(Hr.id,t)):(t.seenValueVersion=this.valueVersion,t.atTrackingVersion=Hr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Hr?.consumerAllowSignalWrites}producerPollStatus(t){return this.valueVersion!==t||(this.onProducerUpdateValueVersion(),this.valueVersion!==t)}}let is=null;function Os(e){const t=fr(null);try{return e()}finally{fr(t)}}const ss=()=>{};class po extends hi{constructor(t,n,r){super(),this.watch=t,this.schedule=n,this.dirty=!1,this.cleanupFn=ss,this.registerOnCleanup=o=>{this.cleanupFn=o},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const t=fr(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=ss,this.watch(this.registerOnCleanup)}finally{fr(t)}}cleanup(){this.cleanupFn()}}class go{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function qs(){return No}function No(e){return e.type.prototype.ngOnChanges&&(e.setInput=ja),os}function os(){const e=$a(this),t=e?.current;if(t){const n=e.previous;if(n===Ut)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function ja(e,t,n,r){const o=this.declaredInputs[n],u=$a(e)||function yi(e,t){return e[ea]=t}(e,{previous:Ut,current:null}),f=u.current||(u.current={}),y=u.previous,D=y[o];f[o]=new go(D&&D.currentValue,t,y===Ut),e[r]=t}qs.ngInherit=!0;const ea="__ngSimpleChanges__";function $a(e){return e[ea]||null}const Ei=function(e,t,n){};function Mn(e){for(;Array.isArray(e);)e=e[Qe];return e}function E(e,t){return Mn(t[e])}function P(e,t){return Mn(t[e.index])}function M(e,t){return e.data[t]}function le(e,t){const n=t[e];return yr(n)?n:n[Qe]}function Cn(e,t){return null==t?null:e[t]}function On(e){e[Nr]=0}function _n(e){1024&e[vt]||(e[vt]|=1024,Xt(e,1))}function Er(e){1024&e[vt]&&(e[vt]&=-1025,Xt(e,-1))}function Xt(e,t){let n=e[gt];if(null===n)return;n[Zt]+=t;let r=n;for(n=n[gt];null!==n&&(1===t&&1===r[Zt]||-1===t&&0===r[Zt]);)n[Zt]+=t,r=n,n=n[gt]}const Bt={lFrame:Da(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ta(){return Bt.bindingsEnabled}function Ii(){return null!==Bt.skipHydrationRootTNode}function tt(){return Bt.lFrame.lView}function Bn(){return Bt.lFrame.tView}function fi(){let e=Qs();for(;null!==e&&64===e.type;)e=e.parent;return e}function Qs(){return Bt.lFrame.currentTNode}function Ri(e,t){const n=Bt.lFrame;n.currentTNode=e,n.isParent=t}function vo(){return Bt.lFrame.isParent}function kl(){Bt.lFrame.isParent=!1}function Tr(){return Bt.lFrame.bindingIndex++}function Wa(e,t){const n=Bt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Xs(t)}function Xs(e){Bt.lFrame.currentDirectiveIndex=e}function Ga(){return Bt.lFrame.currentQueryIndex}function sa(e){Bt.lFrame.currentQueryIndex=e}function cl(e){const t=e[Ge];return 2===t.type?t.declTNode:1===t.type?e[Fn]:null}function Ia(e,t,n){if(n&Pt.SkipSelf){let o=t,u=e;for(;!(o=o.parent,null!==o||n&Pt.Host||(o=cl(u),null===o||(u=u[Jn],10&o.type))););if(null===o)return!1;t=o,e=u}const r=Bt.lFrame=Eo();return r.currentTNode=t,r.lView=e,!0}function oa(e){const t=Eo(),n=e[Ge];Bt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Eo(){const e=Bt.lFrame,t=null===e?null:e.child;return null===t?Da(e):t}function Da(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function za(){const e=Bt.lFrame;return Bt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ll=za;function ks(){const e=za();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Di(){return Bt.lFrame.selectedIndex}function Ls(e){Bt.lFrame.selectedIndex=e}function Sr(){const e=Bt.lFrame;return M(e.tView,e.selectedIndex)}let hl=!0;function Vo(){return hl}function _(e){hl=e}function T(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const u=e.data[n].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:y,ngAfterViewInit:D,ngAfterViewChecked:k,ngOnDestroy:B}=u;f&&(e.contentHooks??=[]).push(-n,f),y&&((e.contentHooks??=[]).push(n,y),(e.contentCheckHooks??=[]).push(n,y)),D&&(e.viewHooks??=[]).push(-n,D),k&&((e.viewHooks??=[]).push(n,k),(e.viewCheckHooks??=[]).push(n,k)),null!=B&&(e.destroyHooks??=[]).push(n,B)}}function v(e,t,n){J(e,t,3,n)}function S(e,t,n,r){(3&e[vt])===n&&J(e,t,n,r)}function z(e,t){let n=e[vt];(3&n)===t&&(n&=8191,n+=1,e[vt]=n)}function J(e,t,n,r){const u=r??-1,f=t.length-1;let y=0;for(let D=void 0!==r?65535&e[Nr]:0;D<f;D++)if("number"==typeof t[D+1]){if(y=t[D],null!=r&&y>=r)break}else t[D]<0&&(e[Nr]+=65536),(y<u||-1==u)&&(Ze(e,n,t,D),e[Nr]=(4294901760&e[Nr])+D+2),D++}function re(e,t){Ei(4,e,t);const n=fr(null);try{t.call(e)}finally{fr(n),Ei(5,e,t)}}function Ze(e,t,n,r){const o=n[r]<0,u=n[r+1],y=e[o?-n[r]:n[r]];o?e[vt]>>13<e[Nr]>>16&&(3&e[vt])===t&&(e[vt]+=8192,re(y,u)):re(y,u)}const mt=-1;class Sn{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Uo(e){return e!==mt}function Bi(e){return 32767&e}function aa(e,t){let n=function Bl(e){return e>>16}(e),r=t;for(;n>0;)r=r[Jn],n--;return r}let Ta=!0;function Yi(e){const t=Ta;return Ta=e,t}const Vs=255,fl=5;let du=0;const cs={};function Hl(e,t){const n=ua(e,t);if(-1!==n)return n;const r=t[Ge];r.firstCreatePass&&(e.injectorIndex=t.length,la(r.data,e),la(t,null),la(r.blueprint,null));const o=Za(e,t),u=e.injectorIndex;if(Uo(o)){const f=Bi(o),y=aa(o,t),D=y[Ge].data;for(let k=0;k<8;k++)t[u+k]=y[f+k]|D[f+k]}return t[u+8]=o,u}function la(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ua(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Za(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=pu(o),null===r)return mt;if(n++,o=o[Jn],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return mt}function Us(e,t,n){!function pl(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ve)&&(r=n[Ve]),null==r&&(r=n[Ve]=du++);const o=r&Vs;t.data[e+(o>>fl)]|=1<<o}(e,t,n)}function Ya(e,t,n){if(n&Pt.Optional||void 0!==e)return e;Nt()}function gl(e,t,n,r){if(n&Pt.Optional&&void 0===r&&(r=null),!(n&(Pt.Self|Pt.Host))){const o=e[Or],u=An(void 0);try{return o?o.get(t,r,n&Pt.Optional):Rn(t,r,n&Pt.Optional)}finally{An(u)}}return Ya(r,0,n)}function ca(e,t,n,r=Pt.Default,o){if(null!==e){if(2048&t[vt]&&!(r&Pt.Self)){const f=function Pu(e,t,n,r,o){let u=e,f=t;for(;null!==u&&null!==f&&2048&f[vt]&&!(512&f[vt]);){const y=Aa(u,f,n,r|Pt.Self,cs);if(y!==cs)return y;let D=u.parent;if(!D){const k=f[js];if(k){const B=k.get(n,cs,r);if(B!==cs)return B}D=pu(f),f=f[Jn]}u=D}return o}(e,t,n,r,cs);if(f!==cs)return f}const u=Aa(e,t,n,r,cs);if(u!==cs)return u}return gl(t,n,r,o)}function Aa(e,t,n,r,o){const u=function jl(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ve)?e[Ve]:void 0;return"number"==typeof t?t>=0?t&Vs:Ru:t}(n);if("function"==typeof u){if(!Ia(t,e,r))return r&Pt.Host?Ya(o,0,r):gl(t,n,r,o);try{const f=u(r);if(null!=f||r&Pt.Optional)return f;Nt()}finally{Ll()}}else if("number"==typeof u){let f=null,y=ua(e,t),D=mt,k=r&Pt.Host?t[hr][Fn]:null;for((-1===y||r&Pt.SkipSelf)&&(D=-1===y?Za(e,t):t[y+8],D!==mt&&fu(r,!1)?(f=t[Ge],y=Bi(D),t=aa(D,t)):y=-1);-1!==y;){const B=t[Ge];if(da(u,y,B.data)){const ee=hu(y,t,n,f,r,k);if(ee!==cs)return ee}D=t[y+8],D!==mt&&fu(r,t[Ge].data[y+8]===k)&&da(u,y,t)?(f=B,y=Bi(D),t=aa(D,t)):y=-1}}return o}function hu(e,t,n,r,o,u){const f=t[Ge],y=f.data[e+8],B=Bo(y,f,n,null==r?xr(y)&&Ta:r!=f&&0!=(3&y.type),o&Pt.Host&&u===y);return null!==B?Co(t,f,B,y):cs}function Bo(e,t,n,r,o){const u=e.providerIndexes,f=t.data,y=1048575&u,D=e.directiveStart,B=u>>20,ve=o?y+B:e.directiveEnd;for(let Se=r?y:y+B;Se<ve;Se++){const et=f[Se];if(Se<D&&n===et||Se>=D&&et.type===n)return Se}if(o){const Se=f[D];if(Se&&Gn(Se)&&Se.type===n)return D}return null}function Co(e,t,n,r){let o=e[n];const u=t.data;if(function zt(e){return e instanceof Sn}(o)){const f=o;f.resolving&&function Ye(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Ue(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():we(e)}(u[n]));const y=Yi(f.canSeeViewProviders);f.resolving=!0;const D=f.injectImpl?An(f.injectImpl):null;Ia(e,r,Pt.Default);try{o=e[n]=f.factory(void 0,u,e,r),t.firstCreatePass&&n>=r.directiveStart&&function I(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:u}=t.type.prototype;if(r){const f=No(t);(n.preOrderHooks??=[]).push(e,f),(n.preOrderCheckHooks??=[]).push(e,f)}o&&(n.preOrderHooks??=[]).push(0-e,o),u&&((n.preOrderHooks??=[]).push(e,u),(n.preOrderCheckHooks??=[]).push(e,u))}(n,u[n],t)}finally{null!==D&&An(D),Yi(y),f.resolving=!1,Ll()}}return o}function da(e,t,n){return!!(n[t+(e>>fl)]&1<<e)}function fu(e,t){return!(e&Pt.Self||e&Pt.Host&&t)}class Ho{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return ca(this._tNode,this._lView,t,se(r),n)}}function Ru(){return new Ho(fi(),tt())}function ml(e){return ke(()=>{const t=e.prototype.constructor,n=t[gr]||ha(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const u=o[gr]||ha(o);if(u&&u!==n)return u;o=Object.getPrototypeOf(o)}return u=>new u})}function ha(e){return ft(e)?()=>{const t=ha(Xe(e));return t&&t()}:O(e)}function pu(e){const t=e[Ge],n=t.type;return 2===n?t.declTNode:1===n?e[Fn]:null}function qa(e){return function Mu(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const u=n[o];if(Kt(u))break;if(0===u)o+=2;else if("number"==typeof u)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(u===t)return n[o+1];o+=2}}}return null}(fi(),e)}const Io="__parameters__";function ds(e,t,n){return ke(()=>{const r=function jo(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...u){if(this instanceof o)return r.apply(this,u),this;const f=new o(...u);return y.annotation=f,y;function y(D,k,B){const ee=D.hasOwnProperty(Io)?D[Io]:Object.defineProperty(D,Io,{value:[]})[Io];for(;ee.length<=B;)ee.push(null);return(ee[B]=ee[B]||[]).push(f),D}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function ji(e,t){e.forEach(n=>Array.isArray(n)?ji(n,t):t(n))}function to(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function fa(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Oa(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function b(e,t,n){let r=q(e,t);return r>=0?e[1|r]=n:(r=~r,function vl(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function L(e,t){const n=q(e,t);if(n>=0)return e[1|n]}function q(e,t){return function Ee(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const u=r+(o-r>>1),f=e[u<<n];if(t===f)return u<<n;f>t?o=u:r=u+1}return~(o<<n)}(e,t,1)}const no=V(ds("Optional"),8),$i=V(ds("SkipSelf"),4);function Yo(e){return 128==(128&e.flags)}var Yl=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Yl||{});const ql=new Map;let Ql=0;const Cl="__ngContext__";function Ni(e,t){yr(t)?(e[Cl]=t[Si],function hc(e){ql.set(e[Si],e)}(t)):e[Cl]=t}let ju;function qo(e,t){return ju(e,t)}function tu(e){const t=e[gt];return Dr(t)?t[gt]:t}function $u(e){return Iu(e[mn])}function hs(e){return Iu(e[It])}function Iu(e){for(;null!==e&&!Dr(e);)e=e[It];return e}function Fa(e,t,n,r,o){if(null!=r){let u,f=!1;Dr(r)?u=r:yr(r)&&(f=!0,r=r[Qe]);const y=Mn(r);0===e&&null!==n?null==o?ct(t,n,y):Te(t,n,y,o||null,!0):1===e&&null!==n?Te(t,n,y,o||null,!0):2===e?function su(e,t,n){const r=kr(e,t);r&&function Ft(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,y,f):3===e&&t.destroyNode(y),null!=u&&function To(e,t,n,r,o){const u=n[Ur];u!==Mn(n)&&Fa(t,e,r,u,o);for(let y=rr;y<n.length;y++){const D=n[y];au(D[Ge],D,e,t,r,u)}}(t,e,u,n,o)}}function nu(e,t,n){return e.createElement(t,n)}function Ec(e,t){const n=e[Yr],r=n.indexOf(t);Er(t),n.splice(r,1)}function p(e,t){if(e.length<=rr)return;const n=rr+t,r=e[n];if(r){const o=r[ui];null!==o&&o!==e&&Ec(o,r),t>0&&(e[n-1][It]=r[It]);const u=fa(e,rr+t);!function io(e,t){au(e,t,t[Jt],2,null,null),t[Qe]=null,t[Fn]=null}(r[Ge],r);const f=u[ni];null!==f&&f.detachView(u[Ge]),r[gt]=null,r[It]=null,r[vt]&=-129}return r}function l(e,t){if(!(256&t[vt])){const n=t[Jt];t[zi]?.destroy(),t[Ki]?.destroy(),n.destroyNode&&au(e,t,n,3,null,null),function vc(e){let t=e[mn];if(!t)return c(e[Ge],e);for(;t;){let n=null;if(yr(t))n=t[mn];else{const r=t[rr];r&&(n=r)}if(!n){for(;t&&!t[It]&&t!==e;)yr(t)&&c(t[Ge],t),t=t[gt];null===t&&(t=e),yr(t)&&c(t[Ge],t),n=t&&t[It]}t=n}}(t)}}function c(e,t){if(!(256&t[vt])){t[vt]&=-129,t[vt]|=256,function x(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof Sn)){const u=n[r+1];if(Array.isArray(u))for(let f=0;f<u.length;f+=2){const y=o[u[f]],D=u[f+1];Ei(4,y,D);try{D.call(y)}finally{Ei(5,y,D)}}else{Ei(4,o,u);try{u.call(o)}finally{Ei(5,o,u)}}}}}(e,t),function m(e,t){const n=e.cleanup,r=t[Qt];if(null!==n)for(let u=0;u<n.length-1;u+=2)if("string"==typeof n[u]){const f=n[u+3];f>=0?r[f]():r[-f].unsubscribe(),u+=2}else n[u].call(r[n[u+1]]);null!==r&&(t[Qt]=null);const o=t[Zr];if(null!==o){t[Zr]=null;for(let u=0;u<o.length;u++)(0,o[u])()}}(e,t),1===t[Ge].type&&t[Jt].destroy();const n=t[ui];if(null!==n&&Dr(t[gt])){n!==t[gt]&&Ec(n,t);const r=t[ni];null!==r&&r.detachView(e)}!function Jl(e){ql.delete(e[Si])}(t)}}function U(e,t,n){return function ue(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Qe];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:u}=e.data[r.directiveStart+o];if(u===Dt.None||u===Dt.Emulated)return null}return P(r,n)}}(e,t.parent,n)}function Te(e,t,n,r,o){e.insertBefore(t,n,r,o)}function ct(e,t,n){e.appendChild(t,n)}function yt(e,t,n,r,o){null!==r?Te(e,t,n,r,o):ct(e,t,n)}function kr(e,t){return e.parentNode(t)}function iu(e,t,n){return wu(e,t,n)}let Gu,wc,bc,wu=function Wu(e,t,n){return 40&e.type?P(e,n):null};function wl(e,t,n,r){const o=U(e,r,t),u=t[Jt],y=iu(r.parent||t[Fn],r,t);if(null!=o)if(Array.isArray(n))for(let D=0;D<n.length;D++)yt(u,o,n[D],y,!1);else yt(u,o,n,y,!1);void 0!==Gu&&Gu(u,r,t,n,o)}function bl(e,t){if(null!==t){const n=t.type;if(3&n)return P(t,e);if(4&n)return Tl(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return bl(e,r);{const o=e[t.index];return Dr(o)?Tl(-1,o):Mn(o)}}if(32&n)return qo(t,e)()||Mn(e[t.index]);{const r=zu(e,t);return null!==r?Array.isArray(r)?r[0]:bl(tu(e[hr]),r):bl(e,t.next)}}return null}function zu(e,t){return null!==t?e[hr][Fn].projection[t.projection]:null}function Tl(e,t){const n=rr+e+1;if(n<t.length){const r=t[n],o=r[Ge].firstChild;if(null!==o)return bl(r,o)}return t[Ur]}function ou(e,t,n,r,o,u,f){for(;null!=n;){const y=r[n.index],D=n.type;if(f&&0===t&&(y&&Ni(Mn(y),r),n.flags|=2),32!=(32&n.flags))if(8&D)ou(e,t,n.child,r,o,u,!1),Fa(t,e,o,y,u);else if(32&D){const k=qo(n,r);let B;for(;B=k();)Fa(t,e,o,B,u);Fa(t,e,o,y,u)}else 16&D?Ji(e,t,r,n,o,u):Fa(t,e,o,y,u);n=f?n.projectionNext:n.next}}function au(e,t,n,r,o,u){ou(n,r,e.firstChild,t,o,u,!1)}function Ji(e,t,n,r,o,u){const f=n[hr],D=f[Fn].projection[r.projection];if(Array.isArray(D))for(let k=0;k<D.length;k++)Fa(t,e,o,D[k],u);else{let k=D;const B=f[gt];Yo(r)&&(k.flags|=128),ou(e,t,k,B,o,u,!0)}}function Bd(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Hd(e,t,n){const{mergedAttrs:r,classes:o,styles:u}=n;null!==r&&Mt(e,t,r),null!==o&&Bd(e,t,o),null!==u&&function Nh(e,t,n){e.setAttribute(t,"style",n)}(e,t,u)}function $d(e){wc=e}function ud(e){return function Tc(){if(void 0===bc&&(bc=null,Dn.trustedTypes))try{bc=Dn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return bc}()?.createScriptURL(e)||e}class cd{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Tt})`}}function Al(e){return e instanceof cd?e.changingThisBreaksApplicationSecurity:e}function Zu(e,t){const n=function Zd(e){return e instanceof cd&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Tt})`)}return n===t}const $h=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Sc=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Sc||{});function Fp(e){const t=dd();return t?t.sanitize(Sc.URL,e)||"":Zu(e,"URL")?Al(e):function a(e){return(e=String(e)).match($h)?e:"unsafe:"+e}(we(e))}function Vp(e){const t=dd();if(t)return ud(t.sanitize(Sc.RESOURCE_URL,e)||"");if(Zu(e,"ResourceURL"))return ud(Al(e));throw new Ce(904,!1)}function Up(e,t,n){return function My(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Vp:Fp}(t,n)(e)}function dd(){const e=tt();return e&&e[ti].sanitizer}class Mr{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Gt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const hd=new Mr("ENVIRONMENT_INITIALIZER"),Bp=new Mr("INJECTOR",-1),Hp=new Mr("INJECTOR_DEF_TYPES");class jp{get(t,n=pr){if(n===pr){const r=new Error(`NullInjectorError: No provider for ${ye(t)}!`);throw r.name="NullInjectorError",r}return n}}function Ry(...e){return{\u0275providers:Wp(0,e),\u0275fromNgModule:!0}}function Wp(e,...t){const n=[],r=new Set;let o;return ji(t,u=>{const f=u;zh(f,n,[],r)&&(o||=[],o.push(f))}),void 0!==o&&Gp(o,n),n}function Gp(e,t){for(let n=0;n<e.length;n++){const{providers:o}=e[n];Kh(o,u=>{t.push(u)})}}function zh(e,t,n,r){if(!(e=Xe(e)))return!1;let o=null,u=cn(e);const f=!u&&dn(e);if(u||f){if(f&&!f.standalone)return!1;o=e}else{const D=e.ngModule;if(u=cn(D),!u)return!1;o=D}const y=r.has(o);if(f){if(y)return!1;if(r.add(o),f.dependencies){const D="function"==typeof f.dependencies?f.dependencies():f.dependencies;for(const k of D)zh(k,t,n,r)}}else{if(!u)return!1;{if(null!=u.imports&&!y){let k;r.add(o);try{ji(u.imports,B=>{zh(B,t,n,r)&&(k||=[],k.push(B))})}finally{}void 0!==k&&Gp(k,t)}if(!y){const k=O(o)||(()=>new o);t.push({provide:o,useFactory:k,deps:bt},{provide:Hp,useValue:o,multi:!0},{provide:hd,useValue:()=>rn(o),multi:!0})}const D=u.providers;null==D||y||Kh(D,B=>{t.push(B)})}}return o!==e&&void 0!==e.providers}function Kh(e,t){for(let n of e)it(n)&&(n=n.\u0275providers),Array.isArray(n)?Kh(n,t):t(n)}const Py=te({provide:String,useValue:te});function Zh(e){return null!==e&&"object"==typeof e&&Py in e}function Yu(e){return"function"==typeof e}const Yh=new Mr("Set Injector scope."),qd={},Ny={};let qh;function Qd(){return void 0===qh&&(qh=new jp),qh}class qu{}class Qh extends qu{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xh(t,f=>this.processProvider(f)),this.records.set(Bp,Ac(void 0,this)),o.has("environment")&&this.records.set(qu,Ac(void 0,this));const u=this.records.get(Yh);null!=u&&"string"==typeof u.value&&this.scopes.add(u.value),this.injectorDefTypes=new Set(this.get(Hp.multi,bt,Pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=$n(this),r=An(void 0);try{return t()}finally{$n(n),An(r)}}get(t,n=pr,r=Pt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Ae))return t[Ae](this);r=se(r);const o=$n(this),u=An(void 0);try{if(!(r&Pt.SkipSelf)){let y=this.records.get(t);if(void 0===y){const D=function Vy(e){return"function"==typeof e||"object"==typeof e&&e instanceof Mr}(t)&&Ln(t);y=D&&this.injectableDefInScope(D)?Ac(Jh(t),qd):null,this.records.set(t,y)}if(null!=y)return this.hydrate(t,y)}return(r&Pt.Self?Qd():this.parent).get(t,n=r&Pt.Optional&&n===pr?null:n)}catch(f){if("NullInjectorError"===f.name){if((f[fn]=f[fn]||[]).unshift(ye(t)),o)throw f;return function W(e,t,n,r){const o=e[fn];throw t[wr]&&o.unshift(t[wr]),e.message=function pe(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=ye(t);if(Array.isArray(t))o=t.map(ye).join(" -> ");else if("object"==typeof t){let u=[];for(let f in t)if(t.hasOwnProperty(f)){let y=t[f];u.push(f+":"+("string"==typeof y?JSON.stringify(y):ye(y)))}o=`{${u.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(bi,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[fn]=null,e}(f,t,"R3InjectorError",this.source)}throw f}finally{An(u),$n(o)}}resolveInjectorInitializers(){const t=$n(this),n=An(void 0);try{const r=this.get(hd.multi,bt,Pt.Self);for(const o of r)o()}finally{$n(t),An(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(ye(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(t){let n=Yu(t=Xe(t))?t:Xe(t&&t.provide);const r=function ky(e){return Zh(e)?Ac(void 0,e.useValue):Ac(Zp(e),qd)}(t);if(Yu(t)||!0!==t.multi)this.records.get(n);else{let o=this.records.get(n);o||(o=Ac(void 0,qd,!0),o.factory=()=>H(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===qd&&(n.value=Ny,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Fy(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Xe(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Jh(e){const t=Ln(e),n=null!==t?t.factory:O(e);if(null!==n)return n;if(e instanceof Mr)throw new Ce(204,!1);if(e instanceof Function)return function xy(e){const t=e.length;if(t>0)throw Oa(t,"?"),new Ce(204,!1);const n=function er(e){return e&&(e[Ht]||e[ir])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Ce(204,!1)}function Zp(e,t,n){let r;if(Yu(e)){const o=Xe(e);return O(o)||Jh(o)}if(Zh(e))r=()=>Xe(e.useValue);else if(function Kp(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...H(e.deps||[]));else if(function zp(e){return!(!e||!e.useExisting)}(e))r=()=>rn(Xe(e.useExisting));else{const o=Xe(e&&(e.useClass||e.provide));if(!function Ly(e){return!!e.deps}(e))return O(o)||Jh(o);r=()=>new o(...H(e.deps))}return r}function Ac(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Xh(e,t){for(const n of e)Array.isArray(n)?Xh(n,t):n&&it(n)?Xh(n.\u0275providers,t):t(n)}const Yp=new Mr("AppId",{providedIn:"root",factory:()=>Uy}),Uy="ng",qp=new Mr("Platform Initializer"),ef=new Mr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),By=new Mr("CSP nonce",{providedIn:"root",factory:()=>function sl(){if(void 0!==wc)return wc;if(typeof document<"u")return document;throw new Ce(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Jp=(e,t)=>null;function Xp(e,t){return Jp(e,t)}class Yy{}class ng{}class Qy{resolveComponentFactory(t){throw function qy(e){const t=Error(`No component factory found for ${ye(e)}.`);return t.ngComponent=e,t}(t)}}let nh=(()=>{class t{}return t.NULL=new Qy,t})();function Jy(){return Rc(fi(),tt())}function Rc(e,t){return new gd(P(e,t))}let gd=(()=>{class t{constructor(r){this.nativeElement=r}}return t.__NG_ELEMENT_ID__=Jy,t})();function Xy(e){return e instanceof gd?e.nativeElement:e}class ig{}let eE=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function tE(){const e=tt(),n=le(fi().index,e);return(yr(n)?n:e)[Jt]}(),t})(),nE=(()=>{var e;class t{}return(e=t).\u0275prov=Gt({token:e,providedIn:"root",factory:()=>null}),t})();class sg{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const og=new sg("16.1.8"),ff={};function md(e){for(;e;){e[vt]|=64;const t=tu(e);if(Br(e)&&!t)return e;e=t}return null}function pf(e){return e.ngOriginalError}class Pc{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&pf(t);for(;n&&pf(n);)n=pf(n);return n||null}}const ug=new Mr("",{providedIn:"root",factory:()=>!1});function lu(e){return e instanceof Function?e():e}class pg extends hi{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(t){this._lView=t}onConsumerDependencyMayHaveChanged(){md(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(t,n,r){const o=fr(this);this.trackingVersion++;try{t(n,r)}finally{fr(o)}}destroy(){this.trackingVersion++}}let ih=null;function gg(){return ih??=new pg,ih}function mg(e,t){return e[t]??gg()}function _g(e,t){const n=gg();n.hasReadASignal&&(e[t]=ih,n.lView=e,ih=new pg)}const Hn={};function vg(e){yg(Bn(),tt(),Di()+e,!1)}function yg(e,t,n,r){if(!r)if(3==(3&t[vt])){const u=e.preOrderCheckHooks;null!==u&&v(t,u,n)}else{const u=e.preOrderHooks;null!==u&&S(t,u,0,n)}Ls(n)}function Dg(e,t=null,n=null,r){const o=wg(e,t,n,r);return o.resolveInjectorInitializers(),o}function wg(e,t=null,n=null,r,o=new Set){const u=[n||bt,Ry(e)];return r=r||("object"==typeof e?void 0:ye(e)),new Qh(u,t||Qd(),r||null,o)}let Tu=(()=>{var e;class t{static create(r,o){if(Array.isArray(r))return Dg({name:""},o,r,"");{const u=r.name??"";return Dg({name:u},r.parent,r.providers,u)}}}return(e=t).THROW_IF_NOT_FOUND=pr,e.NULL=new jp,e.\u0275prov=Gt({token:e,providedIn:"any",factory:()=>rn(Bp)}),e.__NG_ELEMENT_ID__=-1,t})();function Nc(e,t=Pt.Default){const n=tt();return null===n?rn(e,t):ca(fi(),n,Xe(e),t)}function bg(){throw new Error("invalid")}function sh(e,t,n,r,o,u,f,y,D,k,B){const ee=t.blueprint.slice();return ee[Qe]=o,ee[vt]=140|r,(null!==k||e&&2048&e[vt])&&(ee[vt]|=2048),On(ee),ee[gt]=ee[Jn]=e,ee[Qn]=n,ee[ti]=f||e&&e[ti],ee[Jt]=y||e&&e[Jt],ee[Or]=D||e&&e[Or]||null,ee[Fn]=u,ee[Si]=function nd(){return Ql++}(),ee[Zn]=B,ee[js]=k,ee[hr]=2==t.type?e[hr]:ee,ee}function xc(e,t,n,r,o){let u=e.data[t];if(null===u)u=function gf(e,t,n,r,o){const u=Qs(),f=vo(),D=e.data[t]=function DE(e,t,n,r,o,u){let f=t?t.injectorIndex:-1,y=0;return Ii()&&(y|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:f,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:o,attrs:u,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?u:u&&u.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=D),null!==u&&(f?null==u.child&&null!==D.parent&&(u.child=D):null===u.next&&(u.next=D,D.prev=u)),D}(e,t,n,r,o),function si(){return Bt.lFrame.inI18n}()&&(u.flags|=32);else if(64&u.type){u.type=n,u.value=r,u.attrs=o;const f=function Ea(){const e=Bt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();u.injectorIndex=null===f?-1:f.injectorIndex}return Ri(u,!0),u}function _d(e,t,n,r){if(0===n)return-1;const o=t.length;for(let u=0;u<n;u++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function Tg(e,t,n,r,o){const u=mg(t,zi),f=Di(),y=2&r;try{if(Ls(-1),y&&t.length>hn&&yg(e,t,hn,!1),Ei(y?2:0,o),y)u.runInContext(n,r,o);else{const k=fr(null);try{n(r,o)}finally{fr(k)}}}finally{y&&null===t[zi]&&_g(t,zi),Ls(f),Ei(y?3:1,o)}}function mf(e,t,n){if(ki(t)){const r=fr(null);try{const u=t.directiveEnd;for(let f=t.directiveStart;f<u;f++){const y=e.data[f];y.contentQueries&&y.contentQueries(1,n[f],f)}}finally{fr(r)}}}function _f(e,t,n){ta()&&(function RE(e,t,n,r){const o=n.directiveStart,u=n.directiveEnd;xr(n)&&function FE(e,t,n){const r=P(t,e),o=Sg(n);let f=16;n.signals?f=4096:n.onPush&&(f=64);const y=oh(e,sh(e,o,null,f,r,t,null,e[ti].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=y}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||Hl(n,t),Ni(r,t);const f=n.initialInputs;for(let y=o;y<u;y++){const D=e.data[y],k=Co(t,e,y,n);Ni(k,t),null!==f&&VE(0,y-o,k,D,0,f),Gn(D)&&(le(n.index,t)[Qn]=Co(t,e,y,n))}}(e,t,n,P(n,t)),64==(64&n.flags)&&Og(e,t,n))}function vf(e,t,n=P){const r=t.localNames;if(null!==r){let o=t.index+1;for(let u=0;u<r.length;u+=2){const f=r[u+1],y=-1===f?n(t,e):e[f];e[o++]=y}}}function Sg(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=yf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function yf(e,t,n,r,o,u,f,y,D,k,B){const ee=hn+r,ve=ee+o,Se=function _E(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Hn);return n}(ee,ve),et="function"==typeof k?k():k;return Se[Ge]={type:e,blueprint:Se,template:n,queries:null,viewQuery:y,declTNode:t,data:Se.slice().fill(null,ee),bindingStartIndex:ee,expandoStartIndex:ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof u?u():u,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:D,consts:et,incompleteFirstPass:!1,ssrId:B}}let Ag=e=>null;function Mg(e,t,n,r){for(let o in e)if(e.hasOwnProperty(o)){n=null===n?{}:n;const u=e[o];null===r?Rg(n,t,o,u):r.hasOwnProperty(o)&&Rg(n,t,r[o],u)}return n}function Rg(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function Ef(e,t,n,r){if(ta()){const o=null===r?null:{"":-1},u=function OE(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let u=0;u<n.length;u++){const f=n[u];if(Wr(t,f.selectors,!1))if(r||(r=[]),Gn(f))if(null!==f.findHostDirectiveDefs){const y=[];o=o||new Map,f.findHostDirectiveDefs(f,y,o),r.unshift(...y,f),Cf(e,t,y.length)}else r.unshift(f),Cf(e,t,0);else o=o||new Map,f.findHostDirectiveDefs?.(f,r,o),r.push(f)}return null===r?null:[r,o]}(e,n);let f,y;null===u?f=y=null:[f,y]=u,null!==f&&Pg(e,t,n,f,o,y),o&&function NE(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const u=n[t[o+1]];if(null==u)throw new Ce(-301,!1);r.push(t[o],u)}}}(n,r,o)}n.mergedAttrs=yn(n.mergedAttrs,n.attrs)}function Pg(e,t,n,r,o,u){for(let k=0;k<r.length;k++)Us(Hl(n,t),e,r[k].type);!function kE(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let k=0;k<r.length;k++){const B=r[k];B.providersResolver&&B.providersResolver(B)}let f=!1,y=!1,D=_d(e,t,r.length,null);for(let k=0;k<r.length;k++){const B=r[k];n.mergedAttrs=yn(n.mergedAttrs,B.hostAttrs),LE(e,n,t,D,B),xE(D,B,o),null!==B.contentQueries&&(n.flags|=4),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(n.flags|=64);const ee=B.type.prototype;!f&&(ee.ngOnChanges||ee.ngOnInit||ee.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),f=!0),!y&&(ee.ngOnChanges||ee.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),y=!0),D++}!function wE(e,t,n){const o=t.directiveEnd,u=e.data,f=t.attrs,y=[];let D=null,k=null;for(let B=t.directiveStart;B<o;B++){const ee=u[B],ve=n?n.get(ee):null,et=ve?ve.outputs:null;D=Mg(ee.inputs,B,D,ve?ve.inputs:null),k=Mg(ee.outputs,B,k,et);const pt=null===D||null===f||li(t)?null:UE(D,B,f);y.push(pt)}null!==D&&(D.hasOwnProperty("class")&&(t.flags|=8),D.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=y,t.inputs=D,t.outputs=k}(e,n,u)}function Og(e,t,n){const r=n.directiveStart,o=n.directiveEnd,u=n.index,f=function Ca(){return Bt.lFrame.currentDirectiveIndex}();try{Ls(u);for(let y=r;y<o;y++){const D=e.data[y],k=t[y];Xs(y),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&PE(D,k)}}finally{Ls(-1),Xs(f)}}function PE(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Cf(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function xE(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Gn(t)&&(n[""]=e)}}function LE(e,t,n,r,o){e.data[r]=o;const u=o.factory||(o.factory=O(o.type)),f=new Sn(u,Gn(o),Nc);e.blueprint[r]=f,n[r]=f,function AE(e,t,n,r,o){const u=o.hostBindings;if(u){let f=e.hostBindingOpCodes;null===f&&(f=e.hostBindingOpCodes=[]);const y=~t.index;(function ME(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(f)!=y&&f.push(y),f.push(n,r,u)}}(e,t,r,_d(e,n,o.hostVars,Hn),o)}function Ml(e,t,n,r,o,u){const f=P(e,t);!function If(e,t,n,r,o,u,f){if(null==u)e.removeAttribute(t,o,n);else{const y=null==f?we(u):f(u,r||"",o);e.setAttribute(t,o,y,n)}}(t[Jt],f,u,e.value,n,r,o)}function VE(e,t,n,r,o,u){const f=u[t];if(null!==f)for(let y=0;y<f.length;)Ng(r,n,f[y++],f[y++],f[y++])}function Ng(e,t,n,r,o){const u=fr(null);try{const f=e.inputTransforms;null!==f&&f.hasOwnProperty(r)&&(o=f[r].call(t,o)),null!==e.setInput?e.setInput(t,o,n,r):t[r]=o}finally{fr(u)}}function UE(e,t,n){let r=null,o=0;for(;o<n.length;){const u=n[o];if(0!==u)if(5!==u){if("number"==typeof u)break;if(e.hasOwnProperty(u)){null===r&&(r=[]);const f=e[u];for(let y=0;y<f.length;y+=2)if(f[y]===t){r.push(u,f[y+1],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function xg(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function kg(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const u=n[r+1];if(-1!==u){const f=e.data[u];sa(n[r]),f.contentQueries(2,t[u],u)}}}function oh(e,t){return e[mn]?e[En][It]=t:e[mn]=t,e[En]=t,t}function Df(e,t,n){sa(0);const r=fr(null);try{t(e,n)}finally{fr(r)}}function Lg(e){return e[Qt]||(e[Qt]=[])}function Fg(e){return e.cleanup||(e.cleanup=[])}function Ug(e,t){const n=e[Or],r=n?n.get(Pc,null):null;r&&r.handleError(t)}function wf(e,t,n,r,o){for(let u=0;u<n.length;){const f=n[u++],y=n[u++];Ng(e.data[f],t[f],r,y,o)}}function BE(e,t){const n=le(t,e),r=n[Ge];!function HE(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[Qe];null!==o&&null===n[Zn]&&(n[Zn]=Xp(o,n[Or])),bf(r,n,n[Qn])}function bf(e,t,n){oa(t);try{const r=e.viewQuery;null!==r&&Df(1,r,n);const o=e.template;null!==o&&Tg(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&kg(e,t),e.staticViewQueries&&Df(2,e.viewQuery,n);const u=e.components;null!==u&&function jE(e,t){for(let n=0;n<t.length;n++)BE(e,t[n])}(t,u)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[vt]&=-5,ks()}}let Bg=(()=>{var e;class t{constructor(){this.all=new Set,this.queue=new Map}create(r,o,u){const f=typeof Zone>"u"?null:Zone.current,y=new po(r,B=>{this.all.has(B)&&this.queue.set(B,f)},u);let D;this.all.add(y),y.notify();const k=()=>{y.cleanup(),D?.(),this.all.delete(y),this.queue.delete(y)};return D=o?.onDestroy(k),{destroy:k}}flush(){if(0!==this.queue.size)for(const[r,o]of this.queue)this.queue.delete(r),o?o.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(e=t).\u0275prov=Gt({token:e,providedIn:"root",factory:()=>new e}),t})();function ah(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,u=0;if(null!==t)for(let f=0;f<t.length;f++){const y=t[f];"number"==typeof y?u=y:1==u?o=Je(o,y):2==u&&(r=Je(r,y+": "+t[++f]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function vd(e,t,n,r,o=!1){for(;null!==n;){const u=t[n.index];if(null!==u&&r.push(Mn(u)),Dr(u)){for(let y=rr;y<u.length;y++){const D=u[y],k=D[Ge].firstChild;null!==k&&vd(D[Ge],D,k,r)}u[Ur]!==u[Qe]&&r.push(u[Ur])}const f=n.type;if(8&f)vd(e,t,n.child,r);else if(32&f){const y=qo(n,t);let D;for(;D=y();)r.push(D)}else if(16&f){const y=zu(t,n);if(Array.isArray(y))r.push(...y);else{const D=tu(t[hr]);vd(D[Ge],D,y,r,!0)}}n=o?n.projectionNext:n.next}return r}function lh(e,t,n,r=!0){const o=t[ti].rendererFactory;o.begin&&o.begin();try{Hg(e,t,e.template,n)}catch(f){throw r&&Ug(t,f),f}finally{o.end&&o.end(),t[ti].effectManager?.flush()}}function Hg(e,t,n,r){const o=t[vt];if(256!=(256&o)){t[ti].effectManager?.flush(),oa(t);try{On(t),function ko(e){return Bt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Tg(e,t,n,2,r);const f=3==(3&o);if(f){const k=e.preOrderCheckHooks;null!==k&&v(t,k,null)}else{const k=e.preOrderHooks;null!==k&&S(t,k,0,null),z(t,0)}if(function KE(e){for(let t=$u(e);null!==t;t=hs(t)){if(!t[vi])continue;const n=t[Yr];for(let r=0;r<n.length;r++){_n(n[r])}}}(t),jg(t,2),null!==e.contentQueries&&kg(e,t),f){const k=e.contentCheckHooks;null!==k&&v(t,k)}else{const k=e.contentHooks;null!==k&&S(t,k,1),z(t,1)}!function mE(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=mg(t,Ki);try{for(let o=0;o<n.length;o++){const u=n[o];if(u<0)Ls(~u);else{const f=u,y=n[++o],D=n[++o];Wa(y,f),r.runInContext(D,2,t[f])}}}finally{null===t[Ki]&&_g(t,Ki),Ls(-1)}}(e,t);const y=e.components;null!==y&&Wg(t,y,0);const D=e.viewQuery;if(null!==D&&Df(2,D,r),f){const k=e.viewCheckHooks;null!==k&&v(t,k)}else{const k=e.viewHooks;null!==k&&S(t,k,2),z(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[vt]&=-73,Er(t)}finally{ks()}}}function jg(e,t){for(let n=$u(e);null!==n;n=hs(n))for(let r=rr;r<n.length;r++)$g(n[r],t)}function ZE(e,t,n){$g(le(t,e),n)}function $g(e,t){if(!function ut(e){return 128==(128&e[vt])}(e))return;const n=e[Ge];if(80&e[vt]&&0===t||1024&e[vt]||2===t)Hg(n,e,n.template,e[Qn]);else if(e[Zt]>0){jg(e,1);const o=e[Ge].components;null!==o&&Wg(e,o,1)}}function Wg(e,t,n){for(let r=0;r<t.length;r++)ZE(e,t[r],n)}class yd{get rootNodes(){const t=this._lView,n=t[Ge];return vd(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qn]}set context(t){this._lView[Qn]=t}get destroyed(){return 256==(256&this._lView[vt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[gt];if(Dr(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(p(t,r),fa(n,r))}this._attachedToViewContainer=!1}l(this._lView[Ge],this._lView)}onDestroy(t){!function zn(e,t){if(256==(256&e[vt]))throw new Ce(911,!1);null===e[Zr]&&(e[Zr]=[]),e[Zr].push(t)}(this._lView,t)}markForCheck(){md(this._cdRefInjectingView||this._lView)}detach(){this._lView[vt]&=-129}reattach(){this._lView[vt]|=128}detectChanges(){lh(this._lView[Ge],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ru(e,t){au(e,t,t[Jt],2,null,null)}(this._lView[Ge],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=t}}class YE extends yd{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;lh(t[Ge],t,t[Qn],!1)}checkNoChanges(){}get context(){return null}}class Gg extends nh{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=dn(t);return new Ed(n,this.ngModule)}}function zg(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class QE{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=se(r);const o=this.injector.get(t,ff,r);return o!==ff||n===ff?o:this.parentInjector.get(t,n,r)}}class Ed extends ng{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=zg(t.inputs);if(null!==n)for(const o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return zg(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function bs(e){return e.map(uo).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){let u=(o=o||this.ngModule)instanceof qu?o:o?.injector;u&&null!==this.componentDef.getStandaloneInjector&&(u=this.componentDef.getStandaloneInjector(u)||u);const f=u?new QE(t,u):t,y=f.get(ig,null);if(null===y)throw new Ce(407,!1);const B={rendererFactory:y,sanitizer:f.get(nE,null),effectManager:f.get(Bg,null)},ee=y.createRenderer(null,this.componentDef),ve=this.componentDef.selectors[0][0]||"div",Se=r?function vE(e,t,n,r){const u=r.get(ug,!1)||n===Dt.ShadowDom,f=e.selectRootElement(t,u);return function yE(e){Ag(e)}(f),f}(ee,r,this.componentDef.encapsulation,f):nu(ee,ve,function qE(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(ve)),xt=this.componentDef.signals?4608:this.componentDef.onPush?576:528,tn=yf(0,null,null,1,0,null,null,null,null,null,null),ot=sh(null,tn,null,xt,null,null,B,ee,f,null,null);let xn,cr;oa(ot);try{const _r=this.componentDef;let oo,Oh=null;_r.findHostDirectiveDefs?(oo=[],Oh=new Map,_r.findHostDirectiveDefs(_r,oo,Oh),oo.push(_r)):oo=[_r];const eb=function XE(e,t){const n=e[Ge],r=hn;return e[r]=t,xc(n,r,2,"#host",null)}(ot,Se),tb=function eC(e,t,n,r,o,u,f){const y=o[Ge];!function tC(e,t,n,r){for(const o of e)t.mergedAttrs=yn(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(ah(t,t.mergedAttrs,!0),null!==n&&Hd(r,n,t))}(r,e,t,f);let D=null;null!==t&&(D=Xp(t,o[Or]));const k=u.rendererFactory.createRenderer(t,n);let B=16;n.signals?B=4096:n.onPush&&(B=64);const ee=sh(o,Sg(n),null,B,o[e.index],e,u,k,null,null,D);return y.firstCreatePass&&Cf(y,e,r.length-1),oh(o,ee),o[e.index]=ee}(eb,Se,_r,oo,ot,B,ee);cr=M(tn,hn),Se&&function rC(e,t,n,r){if(r)Mt(e,n,["ng-version",og.full]);else{const{attrs:o,classes:u}=function mi(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let u=e[r];if("string"==typeof u)2===o?""!==u&&t.push(u,e[++r]):8===o&&n.push(u);else{if(!Fr(o))break;o=u}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&Mt(e,n,o),u&&u.length>0&&Bd(e,n,u.join(" "))}}(ee,_r,Se,r),void 0!==n&&function iC(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const u=n[o];r.push(null!=u?Array.from(u):null)}}(cr,this.ngContentSelectors,n),xn=function nC(e,t,n,r,o,u){const f=fi(),y=o[Ge],D=P(f,o);Pg(y,o,f,n,null,r);for(let B=0;B<n.length;B++)Ni(Co(o,y,f.directiveStart+B,f),o);Og(y,o,f),D&&Ni(D,o);const k=Co(o,y,f.directiveStart+f.componentOffset,f);if(e[Qn]=o[Qn]=k,null!==u)for(const B of u)B(k,t);return mf(y,f,e),k}(tb,_r,oo,Oh,ot,[sC]),bf(tn,ot,null)}finally{ks()}return new JE(this.componentType,xn,Rc(cr,ot),ot,cr)}}class JE extends Yy{constructor(t,n,r,o,u){super(),this.location=r,this._rootLView=o,this._tNode=u,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new YE(o),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const u=this._rootLView;wf(u[Ge],u,o,t,n),this.previousInputValues.set(t,n),md(le(this._tNode.index,u))}}get injector(){return new Ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function sC(){const e=fi();T(tt()[Ge],e)}function Tf(e){let t=function Kg(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(Gn(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Ce(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const f=e;f.inputs=uh(e.inputs),f.inputTransforms=uh(e.inputTransforms),f.declaredInputs=uh(e.declaredInputs),f.outputs=uh(e.outputs);const y=o.hostBindings;y&&uC(e,y);const D=o.viewQuery,k=o.contentQueries;if(D&&aC(e,D),k&&lC(e,k),ie(e.inputs,o.inputs),ie(e.declaredInputs,o.declaredInputs),ie(e.outputs,o.outputs),null!==o.inputTransforms&&(null===f.inputTransforms&&(f.inputTransforms={}),ie(f.inputTransforms,o.inputTransforms)),Gn(o)&&o.data.animation){const B=e.data;B.animation=(B.animation||[]).concat(o.data.animation)}}const u=o.features;if(u)for(let f=0;f<u.length;f++){const y=u[f];y&&y.ngInherit&&y(e),y===Tf&&(n=!1)}}t=Object.getPrototypeOf(t)}!function oC(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=yn(o.hostAttrs,n=yn(n,o.hostAttrs))}}(r)}function uh(e){return e===Ut?{}:e===bt?[]:e}function aC(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function lC(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,u)=>{t(r,o,u),n(r,o,u)}:t}function uC(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}function Qg(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const o=t[r];Array.isArray(o)&&o[2]&&(n[r]=o[2])}e.inputTransforms=n}function ch(e){return!!Sf(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Sf(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function so(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Af(e,t,n,r){const o=tt();return so(o,Tr(),t)&&(Bn(),Ml(Sr(),o,e,t,n,r)),Af}function cm(e,t,n,r,o,u,f,y){const D=tt(),k=Bn(),B=e+hn,ee=k.firstCreatePass?function xC(e,t,n,r,o,u,f,y,D){const k=t.consts,B=xc(t,e,4,f||null,Cn(k,y));Ef(t,n,B,Cn(k,D)),T(t,B);const ee=B.tView=yf(2,B,r,o,u,t.directiveRegistry,t.pipeRegistry,null,t.schemas,k,null);return null!==t.queries&&(t.queries.template(t,B),ee.queries=t.queries.embeddedTView(B)),B}(B,k,D,t,n,r,o,u,f):k.data[B];Ri(ee,!1);const ve=dm(k,D,ee,e);Vo()&&wl(k,D,ve,ee),Ni(ve,D),oh(D,D[B]=xg(ve,D,ve,ee)),Li(ee)&&_f(k,D,ee),null!=f&&vf(D,ee,y)}let dm=function hm(e,t,n,r){return _(!0),t[Jt].createComment("")};function xf(e,t,n){const r=tt();return so(r,Tr(),t)&&function ma(e,t,n,r,o,u,f,y){const D=P(t,n);let B,k=t.inputs;!y&&null!=k&&(B=k[r])?(wf(e,n,B,r,o),xr(t)&&function TE(e,t){const n=le(t,e);16&n[vt]||(n[vt]|=64)}(n,t.index)):3&t.type&&(r=function bE(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=f?f(o,t.value||"",r):o,u.setProperty(D,r,o))}(Bn(),Sr(),r,e,t,r[Jt],n,!1),xf}function kf(e,t,n,r,o){const f=o?"class":"style";wf(e,n,t.inputs[f],f,r)}function gh(e,t,n,r){const o=tt(),u=Bn(),f=hn+e,y=o[Jt],D=u.firstCreatePass?function UC(e,t,n,r,o,u){const f=t.consts,D=xc(t,e,2,r,Cn(f,o));return Ef(t,n,D,Cn(f,u)),null!==D.attrs&&ah(D,D.attrs,!1),null!==D.mergedAttrs&&ah(D,D.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,D),D}(f,u,o,t,n,r):u.data[f],k=fm(u,o,D,y,t,e);o[f]=k;const B=Li(D);return Ri(D,!0),Hd(y,k,D),32!=(32&D.flags)&&Vo()&&wl(u,o,k,D),0===function Ci(){return Bt.lFrame.elementDepthCount}()&&Ni(k,o),function ls(){Bt.lFrame.elementDepthCount++}(),B&&(_f(u,o,D),mf(u,D,o)),null!==r&&vf(o,D),gh}function mh(){let e=fi();vo()?kl():(e=e.parent,Ri(e,!1));const t=e;(function na(e){return Bt.skipHydrationRootTNode===e})(t)&&function xl(){Bt.skipHydrationRootTNode=null}(),function Jr(){Bt.lFrame.elementDepthCount--}();const n=Bn();return n.firstCreatePass&&(T(n,e),ki(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Pi(e){return 0!=(8&e.flags)}(t)&&kf(n,t,tt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function eo(e){return 0!=(16&e.flags)}(t)&&kf(n,t,tt(),t.stylesWithoutHost,!1),mh}function Lf(e,t,n,r){return gh(e,t,n,r),mh(),Lf}let fm=(e,t,n,r,o,u)=>(_(!0),nu(r,o,function Ka(){return Bt.lFrame.currentNamespace}()));function Uf(e){return!!e&&"function"==typeof e.then}function mm(e){return!!e&&"function"==typeof e.subscribe}function Bf(e,t,n,r){const o=tt(),u=Bn(),f=fi();return function vm(e,t,n,r,o,u,f){const y=Li(r),k=e.firstCreatePass&&Fg(e),B=t[Qn],ee=Lg(t);let ve=!0;if(3&r.type||f){const pt=P(r,t),xt=f?f(pt):pt,tn=ee.length,ot=f?cr=>f(Mn(cr[r.index])):r.index;let xn=null;if(!f&&y&&(xn=function zC(e,t,n,r){const o=e.cleanup;if(null!=o)for(let u=0;u<o.length-1;u+=2){const f=o[u];if(f===n&&o[u+1]===r){const y=t[Qt],D=o[u+2];return y.length>D?y[D]:null}"string"==typeof f&&(u+=2)}return null}(e,t,o,r.index)),null!==xn)(xn.__ngLastListenerFn__||xn).__ngNextListenerFn__=u,xn.__ngLastListenerFn__=u,ve=!1;else{u=Em(r,t,B,u,!1);const cr=n.listen(xt,o,u);ee.push(u,cr),k&&k.push(o,ot,tn,tn+1)}}else u=Em(r,t,B,u,!1);const Se=r.outputs;let et;if(ve&&null!==Se&&(et=Se[o])){const pt=et.length;if(pt)for(let xt=0;xt<pt;xt+=2){const _r=t[et[xt]][et[xt+1]].subscribe(u),oo=ee.length;ee.push(u,_r),k&&k.push(o,r.index,oo,-(oo+1))}}}(u,o,o[Jt],f,e,t,r),Bf}function ym(e,t,n,r){try{return Ei(6,t,n),!1!==n(r)}catch(o){return Ug(e,o),!1}finally{Ei(7,t,n)}}function Em(e,t,n,r,o){return function u(f){if(f===Function)return r;md(e.componentOffset>-1?le(e.index,t):t);let D=ym(t,n,r,f),k=u.__ngNextListenerFn__;for(;k;)D=ym(t,n,k,f)&&D,k=k.__ngNextListenerFn__;return o&&!1===D&&f.preventDefault(),D}}function Cm(e=1){return function wa(e){return(Bt.lFrame.contextLView=function Fl(e,t){for(;e>0;)t=t[Jn],e--;return t}(e,Bt.lFrame.contextLView))[Qn]}(e)}function KC(e,t){let n=null;const r=function lo(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let o=0;o<t.length;o++){const u=t[o];if("*"!==u){if(null===r?Wr(e,u,!0):Wn(r,u))return o}else n=o}return n}function Im(e){const t=tt()[hr][Fn];if(!t.projection){const r=t.projection=Oa(e?e.length:1,null),o=r.slice();let u=t.child;for(;null!==u;){const f=e?KC(u,e):0;null!==f&&(o[f]?o[f].projectionNext=u:r[f]=u,o[f]=u),u=u.next}}}function Dm(e,t=0,n){const r=tt(),o=Bn(),u=xc(o,hn+e,16,null,n||null);null===u.projection&&(u.projection=t),kl(),(!r[Zn]||Ii())&&32!=(32&u.flags)&&function Sl(e,t,n){Ji(t[Jt],0,t,n,U(e,n,t),iu(n.parent||t[Fn],n,t))}(o,r,u)}function _h(e,t){return e<<17|t<<2}function Su(e){return e>>17&32767}function jf(e){return 2|e}function Ju(e){return(131068&e)>>2}function $f(e,t){return-131069&e|t<<2}function Wf(e){return 1|e}function Nm(e,t,n,r,o){const u=e[n+1],f=null===t;let y=r?Su(u):Ju(u),D=!1;for(;0!==y&&(!1===D||f);){const B=e[y+1];XC(e[y],t)&&(D=!0,e[y+1]=r?Wf(B):jf(B)),y=r?Su(B):Ju(B)}D&&(e[n+1]=r?jf(u):Wf(u))}function XC(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&q(e,t)>=0}function Gf(e,t){return function al(e,t,n,r){const o=tt(),u=Bn(),f=function Ui(e){const t=Bt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);u.firstUpdatePass&&function jm(e,t,n,r){const o=e.data;if(null===o[n+1]){const u=o[Di()],f=function Hm(e,t){return t>=e.expandoStartIndex}(e,n);(function zm(e,t){return 0!=(e.flags&(t?8:16))})(u,r)&&null===t&&!f&&(t=!1),t=function lI(e,t,n,r){const o=function ia(e){const t=Bt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let u=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=bd(n=zf(null,e,t,n,r),t.attrs,r),u=null);else{const f=t.directiveStylingLast;if(-1===f||e[f]!==o)if(n=zf(o,e,t,n,r),null===u){let D=function uI(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Ju(r))return e[Su(r)]}(e,t,r);void 0!==D&&Array.isArray(D)&&(D=zf(null,e,t,D[1],r),D=bd(D,t.attrs,r),function cI(e,t,n,r){e[Su(n?t.classBindings:t.styleBindings)]=r}(e,t,r,D))}else u=function dI(e,t,n){let r;const o=t.directiveEnd;for(let u=1+t.directiveStylingLast;u<o;u++)r=bd(r,e[u].hostAttrs,n);return bd(r,t.attrs,n)}(e,t,r)}return void 0!==u&&(r?t.residualClasses=u:t.residualStyles=u),n}(o,u,t,r),function QC(e,t,n,r,o,u){let f=u?t.classBindings:t.styleBindings,y=Su(f),D=Ju(f);e[r]=n;let B,k=!1;if(Array.isArray(n)?(B=n[1],(null===B||q(n,B)>0)&&(k=!0)):B=n,o)if(0!==D){const ve=Su(e[y+1]);e[r+1]=_h(ve,y),0!==ve&&(e[ve+1]=$f(e[ve+1],r)),e[y+1]=function YC(e,t){return 131071&e|t<<17}(e[y+1],r)}else e[r+1]=_h(y,0),0!==y&&(e[y+1]=$f(e[y+1],r)),y=r;else e[r+1]=_h(D,0),0===y?y=r:e[D+1]=$f(e[D+1],r),D=r;k&&(e[r+1]=jf(e[r+1])),Nm(e,B,r,!0),Nm(e,B,r,!1),function JC(e,t,n,r,o){const u=o?e.residualClasses:e.residualStyles;null!=u&&"string"==typeof t&&q(u,t)>=0&&(n[r+1]=Wf(n[r+1]))}(t,B,e,r,u),f=_h(y,D),u?t.classBindings=f:t.styleBindings=f}(o,u,t,n,f,r)}}(u,e,f,r),t!==Hn&&so(o,f,t)&&function Wm(e,t,n,r,o,u,f,y){if(!(3&t.type))return;const D=e.data,k=D[y+1],B=function qC(e){return 1==(1&e)}(k)?Gm(D,t,n,o,Ju(k),f):void 0;vh(B)||(vh(u)||function ZC(e){return 2==(2&e)}(k)&&(u=Gm(D,null,n,o,y,f)),function Ku(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let u=-1===r.indexOf("-")?void 0:Yl.DashCase;null==o?e.removeStyle(n,r,u):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),u|=Yl.Important),e.setStyle(n,r,o,u))}}(r,f,E(Di(),n),o,u))}(u,u.data[Di()],o,o[Jt],e,o[f+1]=function gI(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ye(Al(e)))),e}(t,n),r,f)}(e,t,null,!0),Gf}function zf(e,t,n,r,o){let u=null;const f=n.directiveEnd;let y=n.directiveStylingLast;for(-1===y?y=n.directiveStart:y++;y<f&&(u=t[y],r=bd(r,u.hostAttrs,o),u!==e);)y++;return null!==e&&(n.directiveStylingLast=y),r}function bd(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let u=0;u<t.length;u++){const f=t[u];"number"==typeof f?o=f:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),b(e,f,!!n||t[++u]))}return void 0===e?null:e}function Gm(e,t,n,r,o,u){const f=null===t;let y;for(;o>0;){const D=e[o],k=Array.isArray(D),B=k?D[1]:D,ee=null===B;let ve=n[o+1];ve===Hn&&(ve=ee?bt:void 0);let Se=ee?L(ve,r):B===r?ve:void 0;if(k&&!vh(Se)&&(Se=L(D,r)),vh(Se)&&(y=Se,f))return y;const et=e[o+1];o=f?Su(et):Ju(et)}if(null!==t){let D=u?t.residualClasses:t.residualStyles;null!=D&&(y=L(D,r))}return y}function vh(e){return void 0!==e}function Km(e,t=""){const n=tt(),r=Bn(),o=e+hn,u=r.firstCreatePass?xc(r,o,1,t,null):r.data[o],f=Zm(r,n,u,t,e);n[o]=f,Vo()&&wl(r,n,f,u),Ri(u,!1)}let Zm=(e,t,n,r,o)=>(_(!0),function Du(e,t){return e.createText(t)}(t[Jt],r));function yh(e,t,n){const r=tt(),o=function Lc(e,t,n,r){return so(e,Tr(),n)?t+we(n)+r:Hn}(r,e,t,n);return o!==Hn&&function uu(e,t,n){const r=E(t,e);!function Qo(e,t,n){e.setValue(t,n)}(e[Jt],r,n)}(r,Di(),o),yh}const Xu=void 0;var FI=["en",[["a","p"],["AM","PM"],Xu],[["AM","PM"],Xu,Xu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xu,"{1} 'at' {0}",Xu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function LI(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Gc={};function Kf(e){const t=function VI(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=m_(t);if(n)return n;const r=t.split("-")[0];if(n=m_(r),n)return n;if("en"===r)return FI;throw new Ce(701,!1)}function g_(e){return Kf(e)[zc.PluralCase]}function m_(e){return e in Gc||(Gc[e]=Dn.ng&&Dn.ng.common&&Dn.ng.common.locales&&Dn.ng.common.locales[e]),Gc[e]}var zc=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(zc||{});const Kc="en-US";let __=Kc;function qf(e,t,n,r,o){if(e=Xe(e),Array.isArray(e))for(let u=0;u<e.length;u++)qf(e[u],t,n,r,o);else{const u=Bn(),f=tt();let y=Yu(e)?e:Xe(e.provide),D=Zp(e);const k=fi(),B=1048575&k.providerIndexes,ee=k.directiveStart,ve=k.providerIndexes>>20;if(Yu(e)||!e.multi){const Se=new Sn(D,o,Nc),et=Jf(y,t,o?B:B+ve,ee);-1===et?(Us(Hl(k,f),u,y),Qf(u,e,t.length),t.push(y),k.directiveStart++,k.directiveEnd++,o&&(k.providerIndexes+=1048576),n.push(Se),f.push(Se)):(n[et]=Se,f[et]=Se)}else{const Se=Jf(y,t,B+ve,ee),et=Jf(y,t,B,B+ve),xt=et>=0&&n[et];if(o&&!xt||!o&&!(Se>=0&&n[Se])){Us(Hl(k,f),u,y);const tn=function kD(e,t,n,r,o){const u=new Sn(e,n,Nc);return u.multi=[],u.index=t,u.componentProviders=0,j_(u,o,r&&!n),u}(o?xD:ND,n.length,o,r,D);!o&&xt&&(n[et].providerFactory=tn),Qf(u,e,t.length,0),t.push(y),k.directiveStart++,k.directiveEnd++,o&&(k.providerIndexes+=1048576),n.push(tn),f.push(tn)}else Qf(u,e,Se>-1?Se:et,j_(n[o?et:Se],D,!o&&r));!o&&r&&xt&&n[et].componentProviders++}}}function Qf(e,t,n,r){const o=Yu(t),u=function Oy(e){return!!e.useClass}(t);if(o||u){const D=(u?Xe(t.useClass):t).prototype.ngOnDestroy;if(D){const k=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const B=k.indexOf(n);-1===B?k.push(n,[r,D]):k[B+1].push(r,D)}else k.push(n,D)}}}function j_(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Jf(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function ND(e,t,n,r){return Xf(this.multi,[])}function xD(e,t,n,r){const o=this.multi;let u;if(this.providerFactory){const f=this.providerFactory.componentProviders,y=Co(n,n[Ge],this.providerFactory.index,r);u=y.slice(0,f),Xf(o,u);for(let D=f;D<y.length;D++)u.push(y[D])}else u=[],Xf(o,u);return u}function Xf(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function $_(e,t=[]){return n=>{n.providersResolver=(r,o)=>function OD(e,t,n){const r=Bn();if(r.firstCreatePass){const o=Gn(e);qf(n,r.data,r.blueprint,o,!0),qf(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}class Zc{}class W_{}function LD(e,t){return new ep(e,t??null,[])}class ep extends Zc{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Gg(this);const o=Ar(t);this._bootstrapComponents=lu(o.bootstrap),this._r3Injector=wg(t,n,[{provide:Zc,useValue:this},{provide:nh,useValue:this.componentFactoryResolver},...r],ye(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class tp extends W_{constructor(t){super(),this.moduleType=t}create(t){return new ep(this.moduleType,t,[])}}class G_ extends Zc{constructor(t){super(),this.componentFactoryResolver=new Gg(this),this.instance=null;const n=new Qh([...t.providers,{provide:Zc,useValue:this},{provide:nh,useValue:this.componentFactoryResolver}],t.parent||Qd(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function z_(e,t,n=null){return new G_({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let VD=(()=>{var e;class t{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=Wp(0,r.type),u=o.length>0?z_([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,u)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=Gt({token:e,providedIn:"environment",factory:()=>new e(rn(qu))}),t})();function K_(e){e.getStandaloneInjector=t=>t.get(VD).getOrCreateStandaloneInjector(e)}function rp(e){return t=>{setTimeout(e,void 0,t)}}const Nl=class d0 extends h.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let o=t,u=n||(()=>null),f=r;if(t&&"object"==typeof t){const D=t;o=D.next?.bind(D),u=D.error?.bind(D),f=D.complete?.bind(D)}this.__isAsync&&(u=rp(u),o&&(o=rp(o)),f&&(f=rp(f)));const y=super.subscribe({next:o,error:u,complete:f});return t instanceof oe.w0&&t.add(y),y}};function h0(){return this._results[Symbol.iterator]()}class ip{get changes(){return this._changes||(this._changes=new Nl)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=ip.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=h0)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const o=function Hi(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function zo(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],u=t[r];if(n&&(o=n(o),u=n(u)),u!==o)return!1}return!0}(r._results,o,n))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Nd=(()=>{class t{}return t.__NG_ELEMENT_ID__=g0,t})();const f0=Nd,p0=class extends f0{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n,null)}createEmbeddedViewImpl(t,n,r){const f=this._declarationTContainer.tView,y=sh(this._declarationLView,f,t,4096&this._declarationLView[vt]?4096:16,null,f.declTNode,null,null,null,n||null,r||null);y[ui]=this._declarationLView[this._declarationTContainer.index];const k=this._declarationLView[ni];return null!==k&&(y[ni]=k.createEmbeddedView(f)),bf(f,y,t),new yd(y)}};function g0(){return wh(fi(),tt())}function wh(e,t){return 4&e.type?new p0(t,e,Rc(e,t)):null}let bh=(()=>{class t{}return t.__NG_ELEMENT_ID__=I0,t})();function I0(){return cv(fi(),tt())}const D0=bh,lv=class extends D0{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Rc(this._hostTNode,this._hostLView)}get injector(){return new Ho(this._hostTNode,this._hostLView)}get parentInjector(){const t=Za(this._hostTNode,this._hostLView);if(Uo(t)){const n=aa(t,this._hostLView),r=Bi(t);return new Ho(n[Ge].data[r+8],n)}return new Ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=uv(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-rr}createEmbeddedView(t,n,r){let o,u;"number"==typeof r?o=r:null!=r&&(o=r.index,u=r.injector);const y=t.createEmbeddedViewImpl(n||{},u,null);return this.insertImpl(y,o,false),y}createComponent(t,n,r,o,u){const f=t&&!function Do(e){return"function"==typeof e}(t);let y;if(f)y=n;else{const pt=n||{};y=pt.index,r=pt.injector,o=pt.projectableNodes,u=pt.environmentInjector||pt.ngModuleRef}const D=f?t:new Ed(dn(t)),k=r||this.parentInjector;if(!u&&null==D.ngModule){const xt=(f?k:this.parentInjector).get(qu,null);xt&&(u=xt)}dn(D.componentType??{});const Se=D.create(k,o,null,u);return this.insertImpl(Se.hostView,y,false),Se}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const o=t._lView,u=o[Ge];if(function wn(e){return Dr(e[gt])}(o)){const D=this.indexOf(t);if(-1!==D)this.detach(D);else{const k=o[gt],B=new lv(k,k[Fn],k[gt]);B.detach(B.indexOf(t))}}const f=this._adjustIndex(n),y=this._lContainer;if(function ad(e,t,n,r){const o=rr+r,u=n.length;r>0&&(n[o-1][It]=t),r<u-rr?(t[It]=n[o],to(n,rr+r,t)):(n.push(t),t[It]=null),t[gt]=n;const f=t[ui];null!==f&&n!==f&&function yc(e,t){const n=e[Yr];t[hr]!==t[gt][gt][hr]&&(e[vi]=!0),null===n?e[Yr]=[t]:n.push(t)}(f,t);const y=t[ni];null!==y&&y.insertView(e),t[vt]|=128}(u,o,y,f),!r){const D=Tl(f,y),k=o[Jt],B=kr(k,y[Ur]);null!==B&&function od(e,t,n,r,o,u){r[Qe]=o,r[Fn]=t,au(e,r,n,1,o,u)}(u,y[Fn],k,o,B,D)}return t.attachToViewContainerRef(),to(op(y),f,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=uv(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=p(this._lContainer,n);r&&(fa(op(this._lContainer),n),l(r[Ge],r))}detach(t){const n=this._adjustIndex(t,-1),r=p(this._lContainer,n);return r&&null!=fa(op(this._lContainer),n)?new yd(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function uv(e){return e[8]}function op(e){return e[8]||(e[8]=[])}function cv(e,t){let n;const r=t[e.index];return Dr(r)?n=r:(n=xg(r,t,null,e),t[e.index]=n,oh(t,n)),dv(n,t,e,r),new lv(n,e,t)}let dv=function hv(e,t,n,r){if(e[Ur])return;let o;o=8&n.type?Mn(r):function w0(e,t){const n=e[Jt],r=n.createComment(""),o=P(t,e);return Te(n,kr(n,o),r,function bo(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[Ur]=o};class ap{constructor(t){this.queryList=t,this.matches=null}clone(){return new ap(this.queryList)}setDirty(){this.queryList.setDirty()}}class lp{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let u=0;u<r;u++){const f=n.getByIndex(u);o.push(this.queries[f.indexInDeclarationView].clone())}return new lp(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Ev(t,n).matches&&this.queries[n].setDirty()}}class fv{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class up{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,u=this.getByIndex(r).embeddedTView(t,o);u&&(u.indexInDeclarationView=r,null!==n?n.push(u):n=[u])}return null!==n?new up(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class cp{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new cp(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const u=r[o];this.matchTNodeWithReadOption(t,n,S0(n,u)),this.matchTNodeWithReadOption(t,n,Bo(n,t,u,!1,!1))}else r===Nd?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Bo(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===gd||o===bh||o===Nd&&4&n.type)this.addMatch(n.index,-2);else{const u=Bo(n,t,o,!1,!1);null!==u&&this.addMatch(n.index,u)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function S0(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function M0(e,t,n,r){return-1===n?function A0(e,t){return 11&e.type?Rc(e,t):4&e.type?wh(e,t):null}(t,e):-2===n?function R0(e,t,n){return n===gd?Rc(t,e):n===Nd?wh(t,e):n===bh?cv(t,e):void 0}(e,t,r):Co(e,e[Ge],n,t)}function pv(e,t,n,r){const o=t[ni].queries[r];if(null===o.matches){const u=e.data,f=n.matches,y=[];for(let D=0;D<f.length;D+=2){const k=f[D];y.push(k<0?null:M0(t,u[k],f[D+1],n.metadata.read))}o.matches=y}return o.matches}function dp(e,t,n,r){const o=e.queries.getByIndex(n),u=o.matches;if(null!==u){const f=pv(e,t,o,n);for(let y=0;y<u.length;y+=2){const D=u[y];if(D>0)r.push(f[y/2]);else{const k=u[y+1],B=t[-D];for(let ee=rr;ee<B.length;ee++){const ve=B[ee];ve[ui]===ve[gt]&&dp(ve[Ge],ve,k,r)}if(null!==B[Yr]){const ee=B[Yr];for(let ve=0;ve<ee.length;ve++){const Se=ee[ve];dp(Se[Ge],Se,k,r)}}}}}return r}function gv(e){const t=tt(),n=Bn(),r=Ga();sa(r+1);const o=Ev(n,r);if(e.dirty&&function We(e){return 4==(4&e[vt])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const u=o.crossesNgTemplate?dp(n,t,r,[]):pv(n,t,o,r);e.reset(u,Xy),e.notifyOnChanges()}return!0}return!1}function mv(e,t,n,r){const o=Bn();if(o.firstCreatePass){const u=fi();(function yv(e,t,n){null===e.queries&&(e.queries=new up),e.queries.track(new cp(t,n))})(o,new fv(t,n,r),u.index),function N0(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),2==(2&n)&&(o.staticContentQueries=!0)}!function vv(e,t,n){const r=new ip(4==(4&n));(function IE(e,t,n,r){const o=Lg(t);o.push(n),e.firstCreatePass&&Fg(e).push(r,o.length-1)})(e,t,r,r.destroy),null===t[ni]&&(t[ni]=new lp),t[ni].queries.push(new ap(r))}(o,tt(),n)}function _v(){return function O0(e,t){return e[ni].queries[t].queryList}(tt(),Ga())}function Ev(e,t){return e.queries.getByIndex(t)}function hp(e){return!!Ar(e)}const Fv=new Mr("Application Initializer");let _p=(()=>{var e;class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o}),this.appInits=en(Fv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const u of this.appInits){const f=u();if(Uf(f))r.push(f);else if(mm(f)){const y=new Promise((D,k)=>{f.subscribe({complete:D,error:k})});r.push(y)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(u=>{this.reject(u)}),0===r.length&&o(),this.initialized=!0}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=Gt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Vv=(()=>{var e;class t{log(r){console.log(r)}warn(r){console.warn(r)}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=Gt({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const Sh=new Mr("LocaleId",{providedIn:"root",factory:()=>en(Sh,Pt.Optional|Pt.SkipSelf)||function tw(){return typeof $localize<"u"&&$localize.locale||Kc}()}),nw=new Mr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Uv=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new $.X(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=Gt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class iw{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let sw=(()=>{var e;class t{compileModuleSync(r){return new tp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const o=this.compileModuleSync(r),f=lu(Ar(r).declarations).reduce((y,D)=>{const k=dn(D);return k&&y.push(new Ed(k)),y},[]);return new iw(o,f)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=Gt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function jv(...e){}class Ao{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nl(!1),this.onMicrotaskEmpty=new Nl(!1),this.onStable=new Nl(!1),this.onError=new Nl(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function lw(){const e="function"==typeof Dn.requestAnimationFrame;let t=Dn[e?"requestAnimationFrame":"setTimeout"],n=Dn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function dw(e){const t=()=>{!function cw(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Dn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,yp(e),e.isCheckStableRunning=!0,vp(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),yp(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,u,f,y)=>{try{return $v(e),n.invokeTask(o,u,f,y)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===u.type||e.shouldCoalesceRunChangeDetection)&&t(),Wv(e)}},onInvoke:(n,r,o,u,f,y,D)=>{try{return $v(e),n.invoke(o,u,f,y,D)}finally{e.shouldCoalesceRunChangeDetection&&t(),Wv(e)}},onHasTask:(n,r,o,u)=>{n.hasTask(o,u),r===o&&("microTask"==u.change?(e._hasPendingMicrotasks=u.microTask,yp(e),vp(e)):"macroTask"==u.change&&(e.hasPendingMacrotasks=u.macroTask))},onHandleError:(n,r,o,u)=>(n.handleError(o,u),e.runOutsideAngular(()=>e.onError.emit(u)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ao.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(Ao.isInAngularZone())throw new Ce(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const u=this._inner,f=u.scheduleEventTask("NgZoneEvent: "+o,t,uw,jv,jv);try{return u.runTask(f,n,r)}finally{u.cancelTask(f)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const uw={};function vp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function yp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function $v(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Wv(e){e._nesting--,vp(e)}class hw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nl,this.onMicrotaskEmpty=new Nl,this.onStable=new Nl,this.onError=new Nl}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}const Gv=new Mr("",{providedIn:"root",factory:zv});function zv(){const e=en(Ao);let t=!0;const n=new fe.y(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),r=new fe.y(o=>{let u;e.runOutsideAngular(()=>{u=e.onStable.subscribe(()=>{Ao.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const f=e.onUnstable.subscribe(()=>{Ao.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{u.unsubscribe(),f.unsubscribe()}});return(0,ce.T)(n,r.pipe((0,_e.B)()))}const Kv=new Mr(""),Zv=new Mr("");let Ep,fw=(()=>{var e;class t{constructor(r,o,u){this._ngZone=r,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ep||(function pw(e){Ep=e}(u),u.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ao.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,u){let f=-1;o&&o>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),r(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:r,timeoutId:f,updateCb:u})}whenStable(r,o,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,u){return[]}}return(e=t).\u0275fac=function(r){return new(r||e)(rn(Ao),rn(Yv),rn(Zv))},e.\u0275prov=Gt({token:e,factory:e.\u0275fac}),t})(),Yv=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return Ep?.findTestabilityInTree(this,r,o)??null}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=Gt({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),Au=null;const qv=new Mr("AllowMultipleToken"),Cp=new Mr("PlatformDestroyListeners"),Ip=new Mr("appBootstrapListener");class _w{constructor(t,n){this.name=t,this.token=n}}function Xv(e,t,n=[]){const r=`Platform: ${t}`,o=new Mr(r);return(u=[])=>{let f=Dp();if(!f||f.injector.get(qv,!1)){const y=[...n,...u,{provide:o,useValue:!0}];e?e(y):function vw(e){if(Au&&!Au.get(qv,!1))throw new Ce(400,!1);(function Qv(){!function Ps(e){is=e}(()=>{throw new Ce(600,!1)})})(),Au=e;const t=e.get(ty);(function Jv(e){e.get(qp,null)?.forEach(n=>n())})(e)}(function ey(e=[],t){return Tu.create({name:t,providers:[{provide:Yh,useValue:"platform"},{provide:Cp,useValue:new Set([()=>Au=null])},...e]})}(y,r))}return function Ew(e){const t=Dp();if(!t)throw new Ce(401,!1);return t}()}}function Dp(){return Au?.get(ty)??null}let ty=(()=>{var e;class t{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,o){const u=function Cw(e="zone.js",t){return"noop"===e?new hw:"zone.js"===e?new Ao(t):e}(o?.ngZone,function ny(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return u.run(()=>{const f=function FD(e,t,n){return new ep(e,t,n)}(r.moduleType,this.injector,function ay(e){return[{provide:Ao,useFactory:e},{provide:hd,multi:!0,useFactory:()=>{const t=en(Dw,{optional:!0});return()=>t.initialize()}},{provide:oy,useFactory:Iw},{provide:Gv,useFactory:zv}]}(()=>u)),y=f.injector.get(Pc,null);return u.runOutsideAngular(()=>{const D=u.onError.subscribe({next:k=>{y.handleError(k)}});f.onDestroy(()=>{Ah(this._modules,f),D.unsubscribe()})}),function ry(e,t,n){try{const r=n();return Uf(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(y,u,()=>{const D=f.injector.get(_p);return D.runInitializers(),D.donePromise.then(()=>(function v_(e){st(e,"Expected localeId to be defined"),"string"==typeof e&&(__=e.toLowerCase().replace(/_/g,"-"))}(f.injector.get(Sh,Kc)||Kc),this._moduleDoBootstrap(f),f))})})}bootstrapModule(r,o=[]){const u=iy({},o);return function gw(e,t,n){const r=new tp(n);return Promise.resolve(r)}(0,0,r).then(f=>this.bootstrapModuleFactory(f,u))}_moduleDoBootstrap(r){const o=r.injector.get(Qc);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(u=>o.bootstrap(u));else{if(!r.instance.ngDoBootstrap)throw new Ce(-403,!1);r.instance.ngDoBootstrap(o)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const r=this._injector.get(Cp,null);r&&(r.forEach(o=>o()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(r){return new(r||e)(rn(Tu))},e.\u0275prov=Gt({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();function iy(e,t){return Array.isArray(t)?t.reduce(iy,e):{...e,...t}}let Qc=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=en(oy),this.zoneIsStable=en(Gv),this.componentTypes=[],this.components=[],this.isStable=en(Uv).hasPendingTasks.pipe((0,xe.w)(r=>r?(0,de.of)(!1):this.zoneIsStable),(0,be.x)(),(0,_e.B)()),this._injector=en(qu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,o){const u=r instanceof ng;if(!this._injector.get(_p).done)throw!u&&Ti(r),new Ce(405,!1);let y;y=u?r:this._injector.get(nh).resolveComponentFactory(r),this.componentTypes.push(y.componentType);const D=function mw(e){return e.isBoundToModule}(y)?void 0:this._injector.get(Zc),B=y.create(Tu.NULL,[],o||y.selector,D),ee=B.location.nativeElement,ve=B.injector.get(Kv,null);return ve?.registerApplication(ee),B.onDestroy(()=>{this.detachView(B.hostView),Ah(this.components,B),ve?.unregisterApplication(ee)}),this._loadComponent(B),B}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;Ah(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const o=this._injector.get(Ip,[]);o.push(...this._bootstrapListeners),o.forEach(u=>u(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ah(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Ce(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=Gt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Ah(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const oy=new Mr("",{providedIn:"root",factory:()=>en(Pc).handleError.bind(void 0)});function Iw(){const e=en(Ao),t=en(Pc);return n=>e.runOutsideAngular(()=>t.handleError(n))}let Dw=(()=>{var e;class t{constructor(){this.zone=en(Ao),this.applicationRef=en(Qc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(e=t).\u0275fac=function(r){return new(r||e)},e.\u0275prov=Gt({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function bw(){return!1}let Tw=(()=>{class t{}return t.__NG_ELEMENT_ID__=Sw,t})();function Sw(e){return function Aw(e,t,n){if(xr(e)&&!n){const r=le(e.index,t);return new yd(r,r)}return 47&e.type?new yd(t[hr],t):null}(fi(),tt(),16==(16&e))}class dy{constructor(){}supports(t){return ch(t)}create(t){return new xw(t)}}const Nw=(e,t)=>t;class xw{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Nw}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,u=null;for(;n||r;){const f=!r||n&&n.currentIndex<fy(r,o,u)?n:r,y=fy(f,o,u),D=f.currentIndex;if(f===r)o--,r=r._nextRemoved;else if(n=n._next,null==f.previousIndex)o++;else{u||(u=[]);const k=y-o,B=D-o;if(k!=B){for(let ve=0;ve<k;ve++){const Se=ve<u.length?u[ve]:u[ve]=0,et=Se+ve;B<=et&&et<k&&(u[ve]=Se+1)}u[f.previousIndex]=B-k}}y!==D&&t(f,y,D)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!ch(t))throw new Ce(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,u,f,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let y=0;y<this.length;y++)u=t[y],f=this._trackByFn(y,u),null!==n&&Object.is(n.trackById,f)?(r&&(n=this._verifyReinsertion(n,u,f,y)),Object.is(n.item,u)||this._addIdentityChange(n,u)):(n=this._mismatch(n,u,f,y),r=!0),n=n._next}else o=0,function mC(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,y=>{f=this._trackByFn(o,y),null!==n&&Object.is(n.trackById,f)?(r&&(n=this._verifyReinsertion(n,y,f,o)),Object.is(n.item,y)||this._addIdentityChange(n,y)):(n=this._mismatch(n,y,f,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let u;return null===t?u=this._itTail:(u=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,u,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,u,o)):t=this._addAfter(new kw(n,r),u,o),t}_verifyReinsertion(t,n,r,o){let u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==u?t=this._reinsertAfter(u,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,u=t._nextRemoved;return null===o?this._removalsHead=u:o._nextRemoved=u,null===u?this._removalsTail=o:u._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new hy),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hy),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class kw{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Lw{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class hy{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new Lw,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fy(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}class py{constructor(){}supports(t){return t instanceof Map||Sf(t)}create(){return new Fw}}class Fw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Sf(t)))throw new Ce(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const u=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,u)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,n);const u=o._prev,f=o._next;return u&&(u._next=f),f&&(f._prev=u),o._next=null,o._prev=null,o}const r=new Vw(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class Vw{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gy(){return new Ap([new dy])}let Ap=(()=>{var e;class t{constructor(r){this.factories=r}static create(r,o){if(null!=o){const u=o.factories.slice();r=r.concat(u)}return new t(r)}static extend(r){return{provide:t,useFactory:o=>t.create(r,o||gy()),deps:[[t,new $i,new no]]}}find(r){const o=this.factories.find(u=>u.supports(r));if(null!=o)return o;throw new Ce(901,!1)}}return(e=t).\u0275prov=Gt({token:e,providedIn:"root",factory:gy}),t})();function my(){return new Mp([new py])}let Mp=(()=>{var e;class t{constructor(r){this.factories=r}static create(r,o){if(o){const u=o.factories.slice();r=r.concat(u)}return new t(r)}static extend(r){return{provide:t,useFactory:o=>t.create(r,o||my()),deps:[[t,new $i,new no]]}}find(r){const o=this.factories.find(u=>u.supports(r));if(o)return o;throw new Ce(901,!1)}}return(e=t).\u0275prov=Gt({token:e,providedIn:"root",factory:my}),t})();const Hw=Xv(null,"core",[]);let jw=(()=>{var e;class t{constructor(r){}}return(e=t).\u0275fac=function(r){return new(r||e)(rn(Qc))},e.\u0275mod=Vr({type:e}),e.\u0275inj=In({}),t})();function Qw(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function Xw(e){const t=dn(e);if(!t)return null;const n=new Ed(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},95:(wt,Fe,F)=>{F.d(Fe,{Fj:()=>Ce,qu:()=>Fi,u:()=>Si,sg:()=>mn,JJ:()=>jt,JL:()=>Vt,UX:()=>Xo,kI:()=>Re,_Y:()=>Me});var h=F(879),oe=F(6814),$=F(459),fe=F(5592),ce=F(7453),de=F(4829),_e=F(4564),xe=F(8251),be=F(7400),te=F(2714),ye=F(7398);let Je=(()=>{var O;class A{constructor(R,Y){this._renderer=R,this._elementRef=Y,this.onChange=qe=>{},this.onTouched=()=>{}}setProperty(R,Y){this._renderer.setProperty(this._elementRef.nativeElement,R,Y)}registerOnTouched(R){this.onTouched=R}registerOnChange(R){this.onChange=R}setDisabledState(R){this.setProperty("disabled",R)}}return(O=A).\u0275fac=function(R){return new(R||O)(h.Y36(h.Qsj),h.Y36(h.SBq))},O.\u0275dir=h.lG2({type:O}),A})(),$e=(()=>{var O;class A extends Je{}return(O=A).\u0275fac=function(){let G;return function(Y){return(G||(G=h.n5z(O)))(Y||O)}}(),O.\u0275dir=h.lG2({type:O,features:[h.qOj]}),A})();const dt=new h.OlP("NgValueAccessor"),it={provide:dt,useExisting:(0,h.Gpc)(()=>Ce),multi:!0},Tt=new h.OlP("CompositionEventMode");let Ce=(()=>{var O;class A extends Je{constructor(R,Y,qe){super(R,Y),this._compositionMode=qe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Rt(){const O=(0,oe.q)()?(0,oe.q)().getUserAgent():"";return/android (\d+)/.test(O.toLowerCase())}())}writeValue(R){this.setProperty("value",R??"")}_handleInput(R){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(R)}_compositionStart(){this._composing=!0}_compositionEnd(R){this._composing=!1,this._compositionMode&&this.onChange(R)}}return(O=A).\u0275fac=function(R){return new(R||O)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Tt,8))},O.\u0275dir=h.lG2({type:O,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(R,Y){1&R&&h.NdJ("input",function(Ot){return Y._handleInput(Ot.target.value)})("blur",function(){return Y.onTouched()})("compositionstart",function(){return Y._compositionStart()})("compositionend",function(Ot){return Y._compositionEnd(Ot.target.value)})},features:[h._Bn([it]),h.qOj]}),A})();function Be(O){return null==O||("string"==typeof O||Array.isArray(O))&&0===O.length}function we(O){return null!=O&&"number"==typeof O.length}const Ue=new h.OlP("NgValidators"),Ye=new h.OlP("NgAsyncValidators"),ht=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Re{static min(A){return function Nt(O){return A=>{if(Be(A.value)||Be(O))return null;const G=parseFloat(A.value);return!isNaN(G)&&G<O?{min:{min:O,actual:A.value}}:null}}(A)}static max(A){return function St(O){return A=>{if(Be(A.value)||Be(O))return null;const G=parseFloat(A.value);return!isNaN(G)&&G>O?{max:{max:O,actual:A.value}}:null}}(A)}static required(A){return function jn(O){return Be(O.value)?{required:!0}:null}(A)}static requiredTrue(A){return function Yn(O){return!0===O.value?null:{required:!0}}(A)}static email(A){return function kn(O){return Be(O.value)||ht.test(O.value)?null:{email:!0}}(A)}static minLength(A){return function K(O){return A=>Be(A.value)||!we(A.value)?null:A.value.length<O?{minlength:{requiredLength:O,actualLength:A.value.length}}:null}(A)}static maxLength(A){return function qt(O){return A=>we(A.value)&&A.value.length>O?{maxlength:{requiredLength:O,actualLength:A.value.length}}:null}(A)}static pattern(A){return function un(O){if(!O)return Ie;let A,G;return"string"==typeof O?(G="","^"!==O.charAt(0)&&(G+="^"),G+=O,"$"!==O.charAt(O.length-1)&&(G+="$"),A=new RegExp(G)):(G=O.toString(),A=O),R=>{if(Be(R.value))return null;const Y=R.value;return A.test(Y)?null:{pattern:{requiredPattern:G,actualValue:Y}}}}(A)}static nullValidator(A){return null}static compose(A){return Et(A)}static composeAsync(A){return At(A)}}function Ie(O){return null}function De(O){return null!=O}function Oe(O){return(0,h.QGY)(O)?(0,$.D)(O):O}function Ne(O){let A={};return O.forEach(G=>{A=null!=G?{...A,...G}:A}),0===Object.keys(A).length?null:A}function Le(O,A){return A.map(G=>G(O))}function st(O){return O.map(A=>function Pe(O){return!O.validate}(A)?A:G=>A.validate(G))}function Et(O){if(!O)return null;const A=O.filter(De);return 0==A.length?null:function(G){return Ne(Le(G,A))}}function gn(O){return null!=O?Et(st(O)):null}function At(O){if(!O)return null;const A=O.filter(De);return 0==A.length?null:function(G){return function ie(...O){const A=(0,_e.jO)(O),{args:G,keys:R}=(0,ce.D)(O),Y=new fe.y(qe=>{const{length:Ot}=G;if(!Ot)return void qe.complete();const Xn=new Array(Ot);let ii=Ot,Gr=Ot;for(let Hr=0;Hr<Ot;Hr++){let Ai=!1;(0,de.Xf)(G[Hr]).subscribe((0,xe.x)(qe,fr=>{Ai||(Ai=!0,Gr--),Xn[Hr]=fr},()=>ii--,void 0,()=>{(!ii||!Ai)&&(Gr||qe.next(R?(0,te.n)(R,Xn):Xn),qe.complete())}))}});return A?Y.pipe((0,be.Z)(A)):Y}(Le(G,A).map(Oe)).pipe((0,ye.U)(Ne))}}function an(O){return null!=O?At(st(O)):null}function Gt(O,A){return null===O?[A]:Array.isArray(O)?[...O,A]:[O,A]}function Tn(O){return O._rawValidators}function In(O){return O._rawAsyncValidators}function Ln(O){return O?Array.isArray(O)?O:[O]:[]}function lt(O,A){return Array.isArray(O)?O.includes(A):O===A}function Vn(O,A){const G=Ln(A);return Ln(O).forEach(Y=>{lt(G,Y)||G.push(Y)}),G}function er(O,A){return Ln(A).filter(G=>!lt(O,G))}class cn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(A){this._rawValidators=A||[],this._composedValidatorFn=gn(this._rawValidators)}_setAsyncValidators(A){this._rawAsyncValidators=A||[],this._composedAsyncValidatorFn=an(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(A){this._onDestroyCallbacks.push(A)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(A=>A()),this._onDestroyCallbacks=[]}reset(A=void 0){this.control&&this.control.reset(A)}hasError(A,G){return!!this.control&&this.control.hasError(A,G)}getError(A,G){return this.control?this.control.getError(A,G):null}}class Ht extends cn{get formDirective(){return null}get path(){return null}}class Nn extends cn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ir{constructor(A){this._cd=A}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let jt=(()=>{var O;class A extends ir{constructor(R){super(R)}}return(O=A).\u0275fac=function(R){return new(R||O)(h.Y36(Nn,2))},O.\u0275dir=h.lG2({type:O,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(R,Y){2&R&&h.ekj("ng-untouched",Y.isUntouched)("ng-touched",Y.isTouched)("ng-pristine",Y.isPristine)("ng-dirty",Y.isDirty)("ng-valid",Y.isValid)("ng-invalid",Y.isInvalid)("ng-pending",Y.isPending)},features:[h.qOj]}),A})(),Vt=(()=>{var O;class A extends ir{constructor(R){super(R)}}return(O=A).\u0275fac=function(R){return new(R||O)(h.Y36(Ht,10))},O.\u0275dir=h.lG2({type:O,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(R,Y){2&R&&h.ekj("ng-untouched",Y.isUntouched)("ng-touched",Y.isTouched)("ng-pristine",Y.isPristine)("ng-dirty",Y.isDirty)("ng-valid",Y.isValid)("ng-invalid",Y.isInvalid)("ng-pending",Y.isPending)("ng-submitted",Y.isSubmitted)},features:[h.qOj]}),A})();const vr="VALID",rn="INVALID",dr="PENDING",en="DISABLED";function se(O){return(W(O)?O.validators:O)||null}function V(O,A){return(W(A)?A.asyncValidators:O)||null}function W(O){return null!=O&&!Array.isArray(O)&&"object"==typeof O}function pe(O,A,G){const R=O.controls;if(!(A?Object.keys(R):R).length)throw new h.vHH(1e3,"");if(!R[G])throw new h.vHH(1001,"")}function ke(O,A,G){O._forEachChild((R,Y)=>{if(void 0===G[Y])throw new h.vHH(1002,"")})}class at{constructor(A,G){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(A),this._assignAsyncValidators(G)}get validator(){return this._composedValidatorFn}set validator(A){this._rawValidators=this._composedValidatorFn=A}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(A){this._rawAsyncValidators=this._composedAsyncValidatorFn=A}get parent(){return this._parent}get valid(){return this.status===vr}get invalid(){return this.status===rn}get pending(){return this.status==dr}get disabled(){return this.status===en}get enabled(){return this.status!==en}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(A){this._assignValidators(A)}setAsyncValidators(A){this._assignAsyncValidators(A)}addValidators(A){this.setValidators(Vn(A,this._rawValidators))}addAsyncValidators(A){this.setAsyncValidators(Vn(A,this._rawAsyncValidators))}removeValidators(A){this.setValidators(er(A,this._rawValidators))}removeAsyncValidators(A){this.setAsyncValidators(er(A,this._rawAsyncValidators))}hasValidator(A){return lt(this._rawValidators,A)}hasAsyncValidator(A){return lt(this._rawAsyncValidators,A)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(A={}){this.touched=!0,this._parent&&!A.onlySelf&&this._parent.markAsTouched(A)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(A=>A.markAllAsTouched())}markAsUntouched(A={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(G=>{G.markAsUntouched({onlySelf:!0})}),this._parent&&!A.onlySelf&&this._parent._updateTouched(A)}markAsDirty(A={}){this.pristine=!1,this._parent&&!A.onlySelf&&this._parent.markAsDirty(A)}markAsPristine(A={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(G=>{G.markAsPristine({onlySelf:!0})}),this._parent&&!A.onlySelf&&this._parent._updatePristine(A)}markAsPending(A={}){this.status=dr,!1!==A.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!A.onlySelf&&this._parent.markAsPending(A)}disable(A={}){const G=this._parentMarkedDirty(A.onlySelf);this.status=en,this.errors=null,this._forEachChild(R=>{R.disable({...A,onlySelf:!0})}),this._updateValue(),!1!==A.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...A,skipPristineCheck:G}),this._onDisabledChange.forEach(R=>R(!0))}enable(A={}){const G=this._parentMarkedDirty(A.onlySelf);this.status=vr,this._forEachChild(R=>{R.enable({...A,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:A.emitEvent}),this._updateAncestors({...A,skipPristineCheck:G}),this._onDisabledChange.forEach(R=>R(!1))}_updateAncestors(A){this._parent&&!A.onlySelf&&(this._parent.updateValueAndValidity(A),A.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(A){this._parent=A}getRawValue(){return this.value}updateValueAndValidity(A={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vr||this.status===dr)&&this._runAsyncValidator(A.emitEvent)),!1!==A.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!A.onlySelf&&this._parent.updateValueAndValidity(A)}_updateTreeValidity(A={emitEvent:!0}){this._forEachChild(G=>G._updateTreeValidity(A)),this.updateValueAndValidity({onlySelf:!0,emitEvent:A.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?en:vr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(A){if(this.asyncValidator){this.status=dr,this._hasOwnPendingAsyncValidator=!0;const G=Oe(this.asyncValidator(this));this._asyncValidationSubscription=G.subscribe(R=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(R,{emitEvent:A})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(A,G={}){this.errors=A,this._updateControlsErrors(!1!==G.emitEvent)}get(A){let G=A;return null==G||(Array.isArray(G)||(G=G.split(".")),0===G.length)?null:G.reduce((R,Y)=>R&&R._find(Y),this)}getError(A,G){const R=G?this.get(G):this;return R&&R.errors?R.errors[A]:null}hasError(A,G){return!!this.getError(A,G)}get root(){let A=this;for(;A._parent;)A=A._parent;return A}_updateControlsErrors(A){this.status=this._calculateStatus(),A&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(A)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?en:this.errors?rn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(dr)?dr:this._anyControlsHaveStatus(rn)?rn:vr}_anyControlsHaveStatus(A){return this._anyControls(G=>G.status===A)}_anyControlsDirty(){return this._anyControls(A=>A.dirty)}_anyControlsTouched(){return this._anyControls(A=>A.touched)}_updatePristine(A={}){this.pristine=!this._anyControlsDirty(),this._parent&&!A.onlySelf&&this._parent._updatePristine(A)}_updateTouched(A={}){this.touched=this._anyControlsTouched(),this._parent&&!A.onlySelf&&this._parent._updateTouched(A)}_registerOnCollectionChange(A){this._onCollectionChange=A}_setUpdateStrategy(A){W(A)&&null!=A.updateOn&&(this._updateOn=A.updateOn)}_parentMarkedDirty(A){return!A&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(A){return null}_assignValidators(A){this._rawValidators=Array.isArray(A)?A.slice():A,this._composedValidatorFn=function H(O){return Array.isArray(O)?gn(O):O||null}(this._rawValidators)}_assignAsyncValidators(A){this._rawAsyncValidators=Array.isArray(A)?A.slice():A,this._composedAsyncValidatorFn=function ne(O){return Array.isArray(O)?an(O):O||null}(this._rawAsyncValidators)}}class Dt extends at{constructor(A,G,R){super(se(G),V(R,G)),this.controls=A,this._initObservables(),this._setUpdateStrategy(G),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(A,G){return this.controls[A]?this.controls[A]:(this.controls[A]=G,G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange),G)}addControl(A,G,R={}){this.registerControl(A,G),this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}removeControl(A,G={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),delete this.controls[A],this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}setControl(A,G,R={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),delete this.controls[A],G&&this.registerControl(A,G),this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}contains(A){return this.controls.hasOwnProperty(A)&&this.controls[A].enabled}setValue(A,G={}){ke(this,0,A),Object.keys(A).forEach(R=>{pe(this,!0,R),this.controls[R].setValue(A[R],{onlySelf:!0,emitEvent:G.emitEvent})}),this.updateValueAndValidity(G)}patchValue(A,G={}){null!=A&&(Object.keys(A).forEach(R=>{const Y=this.controls[R];Y&&Y.patchValue(A[R],{onlySelf:!0,emitEvent:G.emitEvent})}),this.updateValueAndValidity(G))}reset(A={},G={}){this._forEachChild((R,Y)=>{R.reset(A[Y],{onlySelf:!0,emitEvent:G.emitEvent})}),this._updatePristine(G),this._updateTouched(G),this.updateValueAndValidity(G)}getRawValue(){return this._reduceChildren({},(A,G,R)=>(A[R]=G.getRawValue(),A))}_syncPendingControls(){let A=this._reduceChildren(!1,(G,R)=>!!R._syncPendingControls()||G);return A&&this.updateValueAndValidity({onlySelf:!0}),A}_forEachChild(A){Object.keys(this.controls).forEach(G=>{const R=this.controls[G];R&&A(R,G)})}_setUpControls(){this._forEachChild(A=>{A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(A){for(const[G,R]of Object.entries(this.controls))if(this.contains(G)&&A(R))return!0;return!1}_reduceValue(){return this._reduceChildren({},(G,R,Y)=>((R.enabled||this.disabled)&&(G[Y]=R.value),G))}_reduceChildren(A,G){let R=A;return this._forEachChild((Y,qe)=>{R=G(R,Y,qe)}),R}_allControlsDisabled(){for(const A of Object.keys(this.controls))if(this.controls[A].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(A){return this.controls.hasOwnProperty(A)?this.controls[A]:null}}class Yt extends Dt{}const lr=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Lr}),Lr="always";function Ve(O,A,G=Lr){Kt(O,A),A.valueAccessor.writeValue(O.value),(O.disabled||"always"===G)&&A.valueAccessor.setDisabledState?.(O.disabled),function yn(O,A){A.valueAccessor.registerOnChange(G=>{O._pendingValue=G,O._pendingChange=!0,O._pendingDirty=!0,"change"===O.updateOn&&qn(O,A)})}(O,A),function Xr(O,A){const G=(R,Y)=>{A.valueAccessor.writeValue(R),Y&&A.viewToModelUpdate(R)};O.registerOnChange(G),A._registerOnDestroy(()=>{O._unregisterOnChange(G)})}(O,A),function sr(O,A){A.valueAccessor.registerOnTouched(()=>{O._pendingTouched=!0,"blur"===O.updateOn&&O._pendingChange&&qn(O,A),"submit"!==O.updateOn&&O.markAsTouched()})}(O,A),function Mt(O,A){if(A.valueAccessor.setDisabledState){const G=R=>{A.valueAccessor.setDisabledState(R)};O.registerOnDisabledChange(G),A._registerOnDestroy(()=>{O._unregisterOnDisabledChange(G)})}}(O,A)}function Ae(O,A,G=!0){const R=()=>{};A.valueAccessor&&(A.valueAccessor.registerOnChange(R),A.valueAccessor.registerOnTouched(R)),sn(O,A),O&&(A._invokeOnDestroyCallbacks(),O._registerOnCollectionChange(()=>{}))}function nt(O,A){O.forEach(G=>{G.registerOnValidatorChange&&G.registerOnValidatorChange(A)})}function Kt(O,A){const G=Tn(O);null!==A.validator?O.setValidators(Gt(G,A.validator)):"function"==typeof G&&O.setValidators([G]);const R=In(O);null!==A.asyncValidator?O.setAsyncValidators(Gt(R,A.asyncValidator)):"function"==typeof R&&O.setAsyncValidators([R]);const Y=()=>O.updateValueAndValidity();nt(A._rawValidators,Y),nt(A._rawAsyncValidators,Y)}function sn(O,A){let G=!1;if(null!==O){if(null!==A.validator){const Y=Tn(O);if(Array.isArray(Y)&&Y.length>0){const qe=Y.filter(Ot=>Ot!==A.validator);qe.length!==Y.length&&(G=!0,O.setValidators(qe))}}if(null!==A.asyncValidator){const Y=In(O);if(Array.isArray(Y)&&Y.length>0){const qe=Y.filter(Ot=>Ot!==A.asyncValidator);qe.length!==Y.length&&(G=!0,O.setAsyncValidators(qe))}}}const R=()=>{};return nt(A._rawValidators,R),nt(A._rawAsyncValidators,R),G}function qn(O,A){O._pendingDirty&&O.markAsDirty(),O.setValue(O._pendingValue,{emitModelToViewChange:!1}),A.viewToModelUpdate(O._pendingValue),O._pendingChange=!1}function gs(O,A){const G=O.indexOf(A);G>-1&&O.splice(G,1)}function xi(O){return"object"==typeof O&&null!==O&&2===Object.keys(O).length&&"value"in O&&"disabled"in O}const Vr=class extends at{constructor(A=null,G,R){super(se(G),V(R,G)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(A),this._setUpdateStrategy(G),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),W(G)&&(G.nonNullable||G.initialValueIsDefault)&&(this.defaultValue=xi(A)?A.value:A)}setValue(A,G={}){this.value=this._pendingValue=A,this._onChange.length&&!1!==G.emitModelToViewChange&&this._onChange.forEach(R=>R(this.value,!1!==G.emitViewToModelChange)),this.updateValueAndValidity(G)}patchValue(A,G={}){this.setValue(A,G)}reset(A=this.defaultValue,G={}){this._applyFormState(A),this.markAsPristine(G),this.markAsUntouched(G),this.setValue(this.value,G),this._pendingChange=!1}_updateValue(){}_anyControls(A){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(A){this._onChange.push(A)}_unregisterOnChange(A){gs(this._onChange,A)}registerOnDisabledChange(A){this._onDisabledChange.push(A)}_unregisterOnDisabledChange(A){gs(this._onDisabledChange,A)}_forEachChild(A){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(A){xi(A)?(this.value=this._pendingValue=A.value,A.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=A}};let Me=(()=>{var O;class A{}return(O=A).\u0275fac=function(R){return new(R||O)},O.\u0275dir=h.lG2({type:O,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),A})(),gt=(()=>{var O;class A{}return(O=A).\u0275fac=function(R){return new(R||O)},O.\u0275mod=h.oAB({type:O}),O.\u0275inj=h.cJS({}),A})();const Qn=new h.OlP("NgModelWithFormControlWarning"),Jt={provide:Ht,useExisting:(0,h.Gpc)(()=>mn)};let mn=(()=>{var O;class A extends Ht{constructor(R,Y,qe){super(),this.callSetDisabledState=qe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(R),this._setAsyncValidators(Y)}ngOnChanges(R){this._checkFormPresent(),R.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(sn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(R){const Y=this.form.get(R.path);return Ve(Y,R,this.callSetDisabledState),Y.updateValueAndValidity({emitEvent:!1}),this.directives.push(R),Y}getControl(R){return this.form.get(R.path)}removeControl(R){Ae(R.control||null,R,!1),function uo(O,A){const G=O.indexOf(A);G>-1&&O.splice(G,1)}(this.directives,R)}addFormGroup(R){this._setUpFormContainer(R)}removeFormGroup(R){this._cleanUpFormContainer(R)}getFormGroup(R){return this.form.get(R.path)}addFormArray(R){this._setUpFormContainer(R)}removeFormArray(R){this._cleanUpFormContainer(R)}getFormArray(R){return this.form.get(R.path)}updateModel(R,Y){this.form.get(R.path).setValue(Y)}onSubmit(R){return this.submitted=!0,function Wn(O,A){O._syncPendingControls(),A.forEach(G=>{const R=G.control;"submit"===R.updateOn&&R._pendingChange&&(G.viewToModelUpdate(R._pendingValue),R._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(R),"dialog"===R?.target?.method}onReset(){this.resetForm()}resetForm(R=void 0){this.form.reset(R),this.submitted=!1}_updateDomValue(){this.directives.forEach(R=>{const Y=R.control,qe=this.form.get(R.path);Y!==qe&&(Ae(Y||null,R),(O=>O instanceof Vr)(qe)&&(Ve(qe,R,this.callSetDisabledState),R.control=qe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(R){const Y=this.form.get(R.path);(function li(O,A){Kt(O,A)})(Y,R),Y.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(R){if(this.form){const Y=this.form.get(R.path);Y&&function es(O,A){return sn(O,A)}(Y,R)&&Y.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Kt(this.form,this),this._oldForm&&sn(this._oldForm,this)}_checkFormPresent(){}}return(O=A).\u0275fac=function(R){return new(R||O)(h.Y36(Ue,10),h.Y36(Ye,10),h.Y36(lr,8))},O.\u0275dir=h.lG2({type:O,selectors:[["","formGroup",""]],hostBindings:function(R,Y){1&R&&h.NdJ("submit",function(Ot){return Y.onSubmit(Ot)})("reset",function(){return Y.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([Jt]),h.qOj,h.TTD]}),A})();const ni={provide:Nn,useExisting:(0,h.Gpc)(()=>Si)};let Si=(()=>{var O;class A extends Nn{set isDisabled(R){}constructor(R,Y,qe,Ot,Xn){super(),this._ngModelWarningConfig=Xn,this._added=!1,this.name=null,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=R,this._setValidators(Y),this._setAsyncValidators(qe),this.valueAccessor=function ei(O,A){if(!A)return null;let G,R,Y;return Array.isArray(A),A.forEach(qe=>{qe.constructor===Ce?G=qe:function Gi(O){return Object.getPrototypeOf(O.constructor)===$e}(qe)?R=qe:Y=qe}),Y||R||G||null}(0,Ot)}ngOnChanges(R){this._added||this._setUpControl(),function ts(O,A){if(!O.hasOwnProperty("model"))return!1;const G=O.model;return!!G.isFirstChange()||!Object.is(A,G.currentValue)}(R,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}get path(){return function gr(O,A){return[...A.path,O]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(O=A)._ngModelWarningSentOnce=!1,O.\u0275fac=function(R){return new(R||O)(h.Y36(Ht,13),h.Y36(Ue,10),h.Y36(Ye,10),h.Y36(dt,10),h.Y36(Qn,8))},O.\u0275dir=h.lG2({type:O,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([ni]),h.qOj,h.TTD]}),A})(),Ro=(()=>{var O;class A{}return(O=A).\u0275fac=function(R){return new(R||O)},O.\u0275mod=h.oAB({type:O}),O.\u0275inj=h.cJS({imports:[gt]}),A})();class Un extends at{constructor(A,G,R){super(se(G),V(R,G)),this.controls=A,this._initObservables(),this._setUpdateStrategy(G),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(A){return this.controls[this._adjustIndex(A)]}push(A,G={}){this.controls.push(A),this._registerControl(A),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}insert(A,G,R={}){this.controls.splice(A,0,G),this._registerControl(G),this.updateValueAndValidity({emitEvent:R.emitEvent})}removeAt(A,G={}){let R=this._adjustIndex(A);R<0&&(R=0),this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),this.controls.splice(R,1),this.updateValueAndValidity({emitEvent:G.emitEvent})}setControl(A,G,R={}){let Y=this._adjustIndex(A);Y<0&&(Y=0),this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),this.controls.splice(Y,1),G&&(this.controls.splice(Y,0,G),this._registerControl(G)),this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(A,G={}){ke(this,0,A),A.forEach((R,Y)=>{pe(this,!1,Y),this.at(Y).setValue(R,{onlySelf:!0,emitEvent:G.emitEvent})}),this.updateValueAndValidity(G)}patchValue(A,G={}){null!=A&&(A.forEach((R,Y)=>{this.at(Y)&&this.at(Y).patchValue(R,{onlySelf:!0,emitEvent:G.emitEvent})}),this.updateValueAndValidity(G))}reset(A=[],G={}){this._forEachChild((R,Y)=>{R.reset(A[Y],{onlySelf:!0,emitEvent:G.emitEvent})}),this._updatePristine(G),this._updateTouched(G),this.updateValueAndValidity(G)}getRawValue(){return this.controls.map(A=>A.getRawValue())}clear(A={}){this.controls.length<1||(this._forEachChild(G=>G._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:A.emitEvent}))}_adjustIndex(A){return A<0?A+this.length:A}_syncPendingControls(){let A=this.controls.reduce((G,R)=>!!R._syncPendingControls()||G,!1);return A&&this.updateValueAndValidity({onlySelf:!0}),A}_forEachChild(A){this.controls.forEach((G,R)=>{A(G,R)})}_updateValue(){this.value=this.controls.filter(A=>A.enabled||this.disabled).map(A=>A.value)}_anyControls(A){return this.controls.some(G=>G.enabled&&A(G))}_setUpControls(){this._forEachChild(A=>this._registerControl(A))}_allControlsDisabled(){for(const A of this.controls)if(A.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(A){A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange)}_find(A){return this.at(A)??null}}function Is(O){return!!O&&(void 0!==O.asyncValidators||void 0!==O.validators||void 0!==O.updateOn)}let Fi=(()=>{var O;class A{constructor(){this.useNonNullable=!1}get nonNullable(){const R=new A;return R.useNonNullable=!0,R}group(R,Y=null){const qe=this._reduceControls(R);let Ot={};return Is(Y)?Ot=Y:null!==Y&&(Ot.validators=Y.validator,Ot.asyncValidators=Y.asyncValidator),new Dt(qe,Ot)}record(R,Y=null){const qe=this._reduceControls(R);return new Yt(qe,Y)}control(R,Y,qe){let Ot={};return this.useNonNullable?(Is(Y)?Ot=Y:(Ot.validators=Y,Ot.asyncValidators=qe),new Vr(R,{...Ot,nonNullable:!0})):new Vr(R,Y,qe)}array(R,Y,qe){const Ot=R.map(Xn=>this._createControl(Xn));return new Un(Ot,Y,qe)}_reduceControls(R){const Y={};return Object.keys(R).forEach(qe=>{Y[qe]=this._createControl(R[qe])}),Y}_createControl(R){return R instanceof Vr||R instanceof at?R:Array.isArray(R)?this.control(R[0],R.length>1?R[1]:null,R.length>2?R[2]:null):this.control(R)}}return(O=A).\u0275fac=function(R){return new(R||O)},O.\u0275prov=h.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),A})(),Xo=(()=>{var O;class A{static withConfig(R){return{ngModule:A,providers:[{provide:Qn,useValue:R.warnOnNgModelWithFormControl??"always"},{provide:lr,useValue:R.callSetDisabledState??Lr}]}}}return(O=A).\u0275fac=function(R){return new(R||O)},O.\u0275mod=h.oAB({type:O}),O.\u0275inj=h.cJS({imports:[Ro]}),A})()},6593:(wt,Fe,F)=>{F.d(Fe,{Dx:()=>Nn,b2:()=>lt,q6:()=>Gt});var h=F(879),oe=F(6814);class $ extends oe.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fe extends ${static makeCurrent(){(0,oe.HT)(new fe)}onAndCancel(V,ne,W){return V.addEventListener(ne,W),()=>{V.removeEventListener(ne,W)}}dispatchEvent(V,ne){V.dispatchEvent(ne)}remove(V){V.parentNode&&V.parentNode.removeChild(V)}createElement(V,ne){return(ne=ne||this.getDefaultDocument()).createElement(V)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(V){return V.nodeType===Node.ELEMENT_NODE}isShadowRoot(V){return V instanceof DocumentFragment}getGlobalEventTarget(V,ne){return"window"===ne?window:"document"===ne?V:"body"===ne?V.body:null}getBaseHref(V){const ne=function de(){return ce=ce||document.querySelector("base"),ce?ce.getAttribute("href"):null}();return null==ne?null:function xe(H){_e=_e||document.createElement("a"),_e.setAttribute("href",H);const V=_e.pathname;return"/"===V.charAt(0)?V:`/${V}`}(ne)}resetBaseElement(){ce=null}getUserAgent(){return window.navigator.userAgent}getCookie(V){return(0,oe.Mx)(document.cookie,V)}}let _e,ce=null,te=(()=>{var H;class V{build(){return new XMLHttpRequest}}return(H=V).\u0275fac=function(W){return new(W||H)},H.\u0275prov=h.Yz7({token:H,factory:H.\u0275fac}),V})();const ie=new h.OlP("EventManagerPlugins");let ye=(()=>{var H;class V{constructor(W,pe){this._zone=pe,this._eventNameToPlugin=new Map,W.forEach(ke=>{ke.manager=this}),this._plugins=W.slice().reverse()}addEventListener(W,pe,ke){return this._findPluginFor(pe).addEventListener(W,pe,ke)}getZone(){return this._zone}_findPluginFor(W){let pe=this._eventNameToPlugin.get(W);if(pe)return pe;if(pe=this._plugins.find(at=>at.supports(W)),!pe)throw new h.vHH(5101,!1);return this._eventNameToPlugin.set(W,pe),pe}}return(H=V).\u0275fac=function(W){return new(W||H)(h.LFG(ie),h.LFG(h.R0b))},H.\u0275prov=h.Yz7({token:H,factory:H.\u0275fac}),V})();class Je{constructor(V){this._doc=V}}const $e="ng-app-id";let dt=(()=>{var H;class V{constructor(W,pe,ke,at={}){this.doc=W,this.appId=pe,this.nonce=ke,this.platformId=at,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,oe.PM)(at),this.resetHostNodes()}addStyles(W){for(const pe of W)1===this.changeUsageCount(pe,1)&&this.onStyleAdded(pe)}removeStyles(W){for(const pe of W)this.changeUsageCount(pe,-1)<=0&&this.onStyleRemoved(pe)}ngOnDestroy(){const W=this.styleNodesInDOM;W&&(W.forEach(pe=>pe.remove()),W.clear());for(const pe of this.getAllStyles())this.onStyleRemoved(pe);this.resetHostNodes()}addHost(W){this.hostNodes.add(W);for(const pe of this.getAllStyles())this.addStyleToHost(W,pe)}removeHost(W){this.hostNodes.delete(W)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(W){for(const pe of this.hostNodes)this.addStyleToHost(pe,W)}onStyleRemoved(W){const pe=this.styleRef;pe.get(W)?.elements?.forEach(ke=>ke.remove()),pe.delete(W)}collectServerRenderedStyles(){const W=this.doc.head?.querySelectorAll(`style[${$e}="${this.appId}"]`);if(W?.length){const pe=new Map;return W.forEach(ke=>{null!=ke.textContent&&pe.set(ke.textContent,ke)}),pe}return null}changeUsageCount(W,pe){const ke=this.styleRef;if(ke.has(W)){const at=ke.get(W);return at.usage+=pe,at.usage}return ke.set(W,{usage:pe,elements:[]}),pe}getStyleElement(W,pe){const ke=this.styleNodesInDOM,at=ke?.get(pe);if(at?.parentNode===W)return ke.delete(pe),at.removeAttribute($e),at;{const Dt=this.doc.createElement("style");return this.nonce&&Dt.setAttribute("nonce",this.nonce),Dt.textContent=pe,this.platformIsServer&&Dt.setAttribute($e,this.appId),Dt}}addStyleToHost(W,pe){const ke=this.getStyleElement(W,pe);W.appendChild(ke);const at=this.styleRef,Dt=at.get(pe)?.elements;Dt?Dt.push(ke):at.set(pe,{elements:[ke],usage:1})}resetHostNodes(){const W=this.hostNodes;W.clear(),W.add(this.doc.head)}}return(H=V).\u0275fac=function(W){return new(W||H)(h.LFG(oe.K0),h.LFG(h.AFp),h.LFG(h.Ojb,8),h.LFG(h.Lbi))},H.\u0275prov=h.Yz7({token:H,factory:H.\u0275fac}),V})();const Xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ft=/%COMP%/g,Be=new h.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ye(H,V){return V.map(ne=>ne.replace(ft,H))}let ht=(()=>{var H;class V{constructor(W,pe,ke,at,Dt,Ut,bt,Yt=null){this.eventManager=W,this.sharedStylesHost=pe,this.appId=ke,this.removeStylesOnCompDestroy=at,this.doc=Dt,this.platformId=Ut,this.ngZone=bt,this.nonce=Yt,this.rendererByCompId=new Map,this.platformIsServer=(0,oe.PM)(Ut),this.defaultRenderer=new Re(W,Dt,bt,this.platformIsServer)}createRenderer(W,pe){if(!W||!pe)return this.defaultRenderer;this.platformIsServer&&pe.encapsulation===h.ifc.ShadowDom&&(pe={...pe,encapsulation:h.ifc.Emulated});const ke=this.getOrCreateRenderer(W,pe);return ke instanceof K?ke.applyToHost(W):ke instanceof kn&&ke.applyStyles(),ke}getOrCreateRenderer(W,pe){const ke=this.rendererByCompId;let at=ke.get(pe.id);if(!at){const Dt=this.doc,Ut=this.ngZone,bt=this.eventManager,Yt=this.sharedStylesHost,tr=this.removeStylesOnCompDestroy,lr=this.platformIsServer;switch(pe.encapsulation){case h.ifc.Emulated:at=new K(bt,Yt,pe,this.appId,tr,Dt,Ut,lr);break;case h.ifc.ShadowDom:return new Yn(bt,Yt,W,pe,Dt,Ut,this.nonce,lr);default:at=new kn(bt,Yt,pe,tr,Dt,Ut,lr)}ke.set(pe.id,at)}return at}ngOnDestroy(){this.rendererByCompId.clear()}}return(H=V).\u0275fac=function(W){return new(W||H)(h.LFG(ye),h.LFG(dt),h.LFG(h.AFp),h.LFG(Be),h.LFG(oe.K0),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(h.Ojb))},H.\u0275prov=h.Yz7({token:H,factory:H.\u0275fac}),V})();class Re{constructor(V,ne,W,pe){this.eventManager=V,this.doc=ne,this.ngZone=W,this.platformIsServer=pe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(V,ne){return ne?this.doc.createElementNS(Xe[ne]||ne,V):this.doc.createElement(V)}createComment(V){return this.doc.createComment(V)}createText(V){return this.doc.createTextNode(V)}appendChild(V,ne){(jn(V)?V.content:V).appendChild(ne)}insertBefore(V,ne,W){V&&(jn(V)?V.content:V).insertBefore(ne,W)}removeChild(V,ne){V&&V.removeChild(ne)}selectRootElement(V,ne){let W="string"==typeof V?this.doc.querySelector(V):V;if(!W)throw new h.vHH(-5104,!1);return ne||(W.textContent=""),W}parentNode(V){return V.parentNode}nextSibling(V){return V.nextSibling}setAttribute(V,ne,W,pe){if(pe){ne=pe+":"+ne;const ke=Xe[pe];ke?V.setAttributeNS(ke,ne,W):V.setAttribute(ne,W)}else V.setAttribute(ne,W)}removeAttribute(V,ne,W){if(W){const pe=Xe[W];pe?V.removeAttributeNS(pe,ne):V.removeAttribute(`${W}:${ne}`)}else V.removeAttribute(ne)}addClass(V,ne){V.classList.add(ne)}removeClass(V,ne){V.classList.remove(ne)}setStyle(V,ne,W,pe){pe&(h.JOm.DashCase|h.JOm.Important)?V.style.setProperty(ne,W,pe&h.JOm.Important?"important":""):V.style[ne]=W}removeStyle(V,ne,W){W&h.JOm.DashCase?V.style.removeProperty(ne):V.style[ne]=""}setProperty(V,ne,W){V[ne]=W}setValue(V,ne){V.nodeValue=ne}listen(V,ne,W){if("string"==typeof V&&!(V=(0,oe.q)().getGlobalEventTarget(this.doc,V)))throw new Error(`Unsupported event target ${V} for event ${ne}`);return this.eventManager.addEventListener(V,ne,this.decoratePreventDefault(W))}decoratePreventDefault(V){return ne=>{if("__ngUnwrap__"===ne)return V;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>V(ne)):V(ne))&&ne.preventDefault()}}}function jn(H){return"TEMPLATE"===H.tagName&&void 0!==H.content}class Yn extends Re{constructor(V,ne,W,pe,ke,at,Dt,Ut){super(V,ke,at,Ut),this.sharedStylesHost=ne,this.hostEl=W,this.shadowRoot=W.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const bt=Ye(pe.id,pe.styles);for(const Yt of bt){const tr=document.createElement("style");Dt&&tr.setAttribute("nonce",Dt),tr.textContent=Yt,this.shadowRoot.appendChild(tr)}}nodeOrShadowRoot(V){return V===this.hostEl?this.shadowRoot:V}appendChild(V,ne){return super.appendChild(this.nodeOrShadowRoot(V),ne)}insertBefore(V,ne,W){return super.insertBefore(this.nodeOrShadowRoot(V),ne,W)}removeChild(V,ne){return super.removeChild(this.nodeOrShadowRoot(V),ne)}parentNode(V){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(V)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kn extends Re{constructor(V,ne,W,pe,ke,at,Dt,Ut){super(V,ke,at,Dt),this.sharedStylesHost=ne,this.removeStylesOnCompDestroy=pe,this.styles=Ut?Ye(Ut,W.styles):W.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class K extends kn{constructor(V,ne,W,pe,ke,at,Dt,Ut){const bt=pe+"-"+W.id;super(V,ne,W,ke,at,Dt,Ut,bt),this.contentAttr=function we(H){return"_ngcontent-%COMP%".replace(ft,H)}(bt),this.hostAttr=function Ue(H){return"_nghost-%COMP%".replace(ft,H)}(bt)}applyToHost(V){this.applyStyles(),this.setAttribute(V,this.hostAttr,"")}createElement(V,ne){const W=super.createElement(V,ne);return super.setAttribute(W,this.contentAttr,""),W}}let qt=(()=>{var H;class V extends Je{constructor(W){super(W)}supports(W){return!0}addEventListener(W,pe,ke){return W.addEventListener(pe,ke,!1),()=>this.removeEventListener(W,pe,ke)}removeEventListener(W,pe,ke){return W.removeEventListener(pe,ke)}}return(H=V).\u0275fac=function(W){return new(W||H)(h.LFG(oe.K0))},H.\u0275prov=h.Yz7({token:H,factory:H.\u0275fac}),V})();const un=["alt","control","meta","shift"],Ie={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},De={alt:H=>H.altKey,control:H=>H.ctrlKey,meta:H=>H.metaKey,shift:H=>H.shiftKey};let Oe=(()=>{var H;class V extends Je{constructor(W){super(W)}supports(W){return null!=V.parseEventName(W)}addEventListener(W,pe,ke){const at=V.parseEventName(pe),Dt=V.eventCallback(at.fullKey,ke,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,oe.q)().onAndCancel(W,at.domEventName,Dt))}static parseEventName(W){const pe=W.toLowerCase().split("."),ke=pe.shift();if(0===pe.length||"keydown"!==ke&&"keyup"!==ke)return null;const at=V._normalizeKey(pe.pop());let Dt="",Ut=pe.indexOf("code");if(Ut>-1&&(pe.splice(Ut,1),Dt="code."),un.forEach(Yt=>{const tr=pe.indexOf(Yt);tr>-1&&(pe.splice(tr,1),Dt+=Yt+".")}),Dt+=at,0!=pe.length||0===at.length)return null;const bt={};return bt.domEventName=ke,bt.fullKey=Dt,bt}static matchEventFullKeyCode(W,pe){let ke=Ie[W.key]||W.key,at="";return pe.indexOf("code.")>-1&&(ke=W.code,at="code."),!(null==ke||!ke)&&(ke=ke.toLowerCase()," "===ke?ke="space":"."===ke&&(ke="dot"),un.forEach(Dt=>{Dt!==ke&&(0,De[Dt])(W)&&(at+=Dt+".")}),at+=ke,at===pe)}static eventCallback(W,pe,ke){return at=>{V.matchEventFullKeyCode(at,W)&&ke.runGuarded(()=>pe(at))}}static _normalizeKey(W){return"esc"===W?"escape":W}}return(H=V).\u0275fac=function(W){return new(W||H)(h.LFG(oe.K0))},H.\u0275prov=h.Yz7({token:H,factory:H.\u0275fac}),V})();const Gt=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:oe.bD},{provide:h.g9A,useValue:function Et(){fe.makeCurrent()},multi:!0},{provide:oe.K0,useFactory:function At(){return(0,h.RDi)(document),document},deps:[]}]),Tn=new h.OlP(""),In=[{provide:h.rWj,useClass:class be{addToWindow(V){h.dqk.getAngularTestability=(W,pe=!0)=>{const ke=V.findTestabilityInTree(W,pe);if(null==ke)throw new h.vHH(5103,!1);return ke},h.dqk.getAllAngularTestabilities=()=>V.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>V.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(W=>{const pe=h.dqk.getAllAngularTestabilities();let ke=pe.length,at=!1;const Dt=function(Ut){at=at||Ut,ke--,0==ke&&W(at)};pe.forEach(Ut=>{Ut.whenStable(Dt)})})}findTestabilityInTree(V,ne,W){return null==ne?null:V.getTestability(ne)??(W?(0,oe.q)().isShadowRoot(ne)?this.findTestabilityInTree(V,ne.host,!0):this.findTestabilityInTree(V,ne.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],Ln=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function gn(){return new h.qLn},deps:[]},{provide:ie,useClass:qt,multi:!0,deps:[oe.K0,h.R0b,h.Lbi]},{provide:ie,useClass:Oe,multi:!0,deps:[oe.K0]},ht,dt,ye,{provide:h.FYo,useExisting:ht},{provide:oe.JF,useClass:te,deps:[]},[]];let lt=(()=>{var H;class V{constructor(W){}static withServerTransition(W){return{ngModule:V,providers:[{provide:h.AFp,useValue:W.appId}]}}}return(H=V).\u0275fac=function(W){return new(W||H)(h.LFG(Tn,12))},H.\u0275mod=h.oAB({type:H}),H.\u0275inj=h.cJS({providers:[...Ln,...In],imports:[oe.ez,h.hGG]}),V})(),Nn=(()=>{var H;class V{constructor(W){this._doc=W}getTitle(){return this._doc.title}setTitle(W){this._doc.title=W||""}}return(H=V).\u0275fac=function(W){return new(W||H)(h.LFG(oe.K0))},H.\u0275prov=h.Yz7({token:H,factory:function(W){let pe=null;return pe=W?new W:function Ht(){return new Nn((0,h.LFG)(oe.K0))}(),pe},providedIn:"root"}),V})();typeof window<"u"&&window},75:(wt,Fe,F)=>{F.d(Fe,{F0:()=>Mi,rH:()=>tt,Bz:()=>Ll,lC:()=>js});var h=F(879),oe=F(5592),$=F(4674),ce=F(459),de=F(2096),_e=F(5619),xe=F(7453),be=F(2737),te=F(7400),ie=F(4564),ye=F(2714),Je=F(8251),$e=F(7103);function dt(..._){const I=(0,ie.yG)(_),T=(0,ie.jO)(_),{args:v,keys:S}=(0,xe.D)(_);if(0===v.length)return(0,ce.D)([],I);const z=new oe.y(function Xe(_,I,T=be.y){return v=>{ft(I,()=>{const{length:S}=_,z=new Array(S);let J=S,re=S;for(let Ze=0;Ze<S;Ze++)ft(I,()=>{const mt=(0,ce.D)(_[Ze],I);let Sn=!1;mt.subscribe((0,Je.x)(v,zt=>{z[Ze]=zt,Sn||(Sn=!0,re--),re||v.next(T(z.slice()))},()=>{--J||v.complete()}))},v)},v)}}(v,I,S?J=>(0,ye.n)(S,J):be.y));return T?z.pipe((0,te.Z)(T)):z}function ft(_,I,T){_?(0,$e.f)(T,_,I):I()}var it=F(973),Rt=F(7537);function Ce(..._){return function Tt(){return(0,Rt.J)(1)}()((0,ce.D)(_,(0,ie.yG)(_)))}var Be=F(4829);function we(_){return new oe.y(I=>{(0,Be.Xf)(_()).subscribe(I)})}var Ue=F(8407);function Ye(_,I){const T=(0,$.m)(_)?_:()=>_,v=S=>S.error(T());return new oe.y(I?S=>I.schedule(v,0,S):v)}var ht=F(6232),Re=F(7394),Nt=F(9360);function St(){return(0,Nt.e)((_,I)=>{let T=null;_._refCount++;const v=(0,Je.x)(I,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(T=null);const S=_._connection,z=T;T=null,S&&(!z||S===z)&&S.unsubscribe(),I.unsubscribe()});_.subscribe(v),v.closed||(T=_.connect())})}class jn extends oe.y{constructor(I,T){super(),this.source=I,this.subjectFactory=T,this._subject=null,this._refCount=0,this._connection=null,(0,Nt.A)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,I?.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new Re.w0;const T=this.getSubject();I.add(this.source.subscribe((0,Je.x)(T,void 0,()=>{this._teardown(),T.complete()},v=>{this._teardown(),T.error(v)},()=>this._teardown()))),I.closed&&(this._connection=null,I=Re.w0.EMPTY)}return I}refCount(){return St()(this)}}var Yn=F(8645),kn=F(6814),K=F(7398),qt=F(4664),un=F(180),De=F(181),Oe=F(1631),Ne=F(374);function Le(_,I){return(0,$.m)(I)?(0,Oe.z)(_,I,1):(0,Oe.z)(_,1)}var Pe=F(397);function st(_){return(0,Nt.e)((I,T)=>{let z,v=null,S=!1;v=I.subscribe((0,Je.x)(T,void 0,void 0,J=>{z=(0,Be.Xf)(_(J,st(_)(I))),v?(v.unsubscribe(),v=null,z.subscribe(T)):S=!0})),S&&(v.unsubscribe(),v=null,z.subscribe(T))})}var Et=F(699),gn=F(572);function At(_){return _<=0?()=>ht.E:(0,Nt.e)((I,T)=>{let v=[];I.subscribe((0,Je.x)(T,S=>{v.push(S),_<v.length&&v.shift()},()=>{for(const S of v)T.next(S);T.complete()},void 0,()=>{v=null}))})}var an=F(26);function In(_){return(0,Nt.e)((I,T)=>{try{I.subscribe(T)}finally{T.add(_)}})}var Ln=F(6593);const lt="primary",Vn=Symbol("RouteTitle");class er{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const T=this.params[I];return Array.isArray(T)?T[0]:T}return null}getAll(I){if(this.has(I)){const T=this.params[I];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function cn(_){return new er(_)}function Ht(_,I,T){const v=T.path.split("/");if(v.length>_.length||"full"===T.pathMatch&&(I.hasChildren()||v.length<_.length))return null;const S={};for(let z=0;z<v.length;z++){const J=v[z],re=_[z];if(J.startsWith(":"))S[J.substring(1)]=re;else if(J!==re.path)return null}return{consumed:_.slice(0,v.length),posParams:S}}function ir(_,I){const T=_?Object.keys(_):void 0,v=I?Object.keys(I):void 0;if(!T||!v||T.length!=v.length)return!1;let S;for(let z=0;z<T.length;z++)if(S=T[z],!jr(_[S],I[S]))return!1;return!0}function jr(_,I){if(Array.isArray(_)&&Array.isArray(I)){if(_.length!==I.length)return!1;const T=[..._].sort(),v=[...I].sort();return T.every((S,z)=>v[z]===S)}return _===I}function Pt(_){return _.length>0?_[_.length-1]:null}function jt(_){return function fe(_){return!!_&&(_ instanceof oe.y||(0,$.m)(_.lift)&&(0,$.m)(_.subscribe))}(_)?_:(0,h.QGY)(_)?(0,ce.D)(Promise.resolve(_)):(0,de.of)(_)}const Vt={exact:function Dn(_,I,T){if(!or(_.segments,I.segments)||!pr(_.segments,I.segments,T)||_.numberOfChildren!==I.numberOfChildren)return!1;for(const v in I.children)if(!_.children[v]||!Dn(_.children[v],I.children[v],T))return!1;return!0},subset:wi},An={exact:function Cr(_,I){return ir(_,I)},subset:function pn(_,I){return Object.keys(I).length<=Object.keys(_).length&&Object.keys(I).every(T=>jr(_[T],I[T]))},ignored:()=>!0};function Rn(_,I,T){return Vt[T.paths](_.root,I.root,T.matrixParams)&&An[T.queryParams](_.queryParams,I.queryParams)&&!("exact"===T.fragment&&_.fragment!==I.fragment)}function wi(_,I,T){return Pn(_,I,I.segments,T)}function Pn(_,I,T,v){if(_.segments.length>T.length){const S=_.segments.slice(0,T.length);return!(!or(S,T)||I.hasChildren()||!pr(S,T,v))}if(_.segments.length===T.length){if(!or(_.segments,T)||!pr(_.segments,T,v))return!1;for(const S in I.children)if(!_.children[S]||!wi(_.children[S],I.children[S],v))return!1;return!0}{const S=T.slice(0,_.segments.length),z=T.slice(_.segments.length);return!!(or(_.segments,S)&&pr(_.segments,S,v)&&_.children[lt])&&Pn(_.children[lt],I,z,v)}}function pr(_,I,T){return I.every((v,S)=>An[T](_[S].parameters,v.parameters))}class nn{constructor(I=new fn([],{}),T={},v=null){this.root=I,this.queryParams=T,this.fragment=v}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cn(this.queryParams)),this._queryParamMap}toString(){return $n.serialize(this)}}class fn{constructor(I,T){this.segments=I,this.children=T,this.parent=null,Object.values(T).forEach(v=>v.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vr(this)}}class $r{constructor(I,T){this.path=I,this.parameters=T}get parameterMap(){return this._parameterMap||(this._parameterMap=cn(this.parameters)),this._parameterMap}toString(){return W(this)}}function or(_,I){return _.length===I.length&&_.every((T,v)=>T.path===I[v].path)}let ar=(()=>{var _;class I{}return(_=I).\u0275fac=function(v){return new(v||_)},_.\u0275prov=h.Yz7({token:_,factory:function(){return new nr},providedIn:"root"}),I})();class nr{parse(I){const T=new gr(I);return new nn(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(I){const T=`/${rn(I.root,!0)}`,v=function ke(_){const I=Object.keys(_).map(T=>{const v=_[T];return Array.isArray(v)?v.map(S=>`${en(T)}=${en(S)}`).join("&"):`${en(T)}=${en(v)}`}).filter(T=>!!T);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${T}${v}${"string"==typeof I.fragment?`#${function se(_){return encodeURI(_)}(I.fragment)}`:""}`}}const $n=new nr;function vr(_){return _.segments.map(I=>W(I)).join("/")}function rn(_,I){if(!_.hasChildren())return vr(_);if(I){const T=_.children[lt]?rn(_.children[lt],!1):"",v=[];return Object.entries(_.children).forEach(([S,z])=>{S!==lt&&v.push(`${S}:${rn(z,!1)}`)}),v.length>0?`${T}(${v.join("//")})`:T}{const T=function wr(_,I){let T=[];return Object.entries(_.children).forEach(([v,S])=>{v===lt&&(T=T.concat(I(S,v)))}),Object.entries(_.children).forEach(([v,S])=>{v!==lt&&(T=T.concat(I(S,v)))}),T}(_,(v,S)=>S===lt?[rn(_.children[lt],!1)]:[`${S}:${rn(v,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[lt]?`${vr(_)}/${T[0]}`:`${vr(_)}/(${T.join("//")})`}}function dr(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function en(_){return dr(_).replace(/%3B/gi,";")}function H(_){return dr(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function V(_){return decodeURIComponent(_)}function ne(_){return V(_.replace(/\+/g,"%20"))}function W(_){return`${H(_.path)}${function pe(_){return Object.keys(_).map(I=>`;${H(I)}=${H(_[I])}`).join("")}(_.parameters)}`}const at=/^[^\/()?;#]+/;function Dt(_){const I=_.match(at);return I?I[0]:""}const Ut=/^[^\/()?;=#]+/,Yt=/^[^=?&#]+/,lr=/^[^&#]+/;class gr{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let v={};return this.peekStartsWith("(")&&(v=this.parseParens(!1)),(I.length>0||Object.keys(T).length>0)&&(v[lt]=new fn(I,T)),v}parseSegment(){const I=Dt(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(I),new $r(V(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const T=function bt(_){const I=_.match(Ut);return I?I[0]:""}(this.remaining);if(!T)return;this.capture(T);let v="";if(this.consumeOptional("=")){const S=Dt(this.remaining);S&&(v=S,this.capture(v))}I[V(T)]=V(v)}parseQueryParam(I){const T=function tr(_){const I=_.match(Yt);return I?I[0]:""}(this.remaining);if(!T)return;this.capture(T);let v="";if(this.consumeOptional("=")){const J=function Lr(_){const I=_.match(lr);return I?I[0]:""}(this.remaining);J&&(v=J,this.capture(v))}const S=ne(T),z=ne(v);if(I.hasOwnProperty(S)){let J=I[S];Array.isArray(J)||(J=[J],I[S]=J),J.push(z)}else I[S]=z}parseParens(I){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const v=Dt(this.remaining),S=this.remaining[v.length];if("/"!==S&&")"!==S&&";"!==S)throw new h.vHH(4010,!1);let z;v.indexOf(":")>-1?(z=v.slice(0,v.indexOf(":")),this.capture(z),this.capture(":")):I&&(z=lt);const J=this.parseChildren();T[z]=1===Object.keys(J).length?J[lt]:new fn([],J),this.consumeOptional("//")}return T}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new h.vHH(4011,!1)}}function Ve(_){return _.segments.length>0?new fn([],{[lt]:_}):_}function Ae(_){const I={};for(const v of Object.keys(_.children)){const z=Ae(_.children[v]);if(v===lt&&0===z.segments.length&&z.hasChildren())for(const[J,re]of Object.entries(z.children))I[J]=re;else(z.segments.length>0||z.hasChildren())&&(I[v]=z)}return function nt(_){if(1===_.numberOfChildren&&_.children[lt]){const I=_.children[lt];return new fn(_.segments.concat(I.segments),I.children)}return _}(new fn(_.segments,I))}function Mt(_){return _ instanceof nn}function sn(_){let I;const S=Ve(function T(z){const J={};for(const Ze of z.children){const mt=T(Ze);J[Ze.outlet]=mt}const re=new fn(z.url,J);return z===_&&(I=re),re}(_.root));return I??S}function yn(_,I,T,v){let S=_;for(;S.parent;)S=S.parent;if(0===I.length)return Xr(S,S,S,T,v);const z=function ao(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new es(!0,0,_);let I=0,T=!1;const v=_.reduce((S,z,J)=>{if("object"==typeof z&&null!=z){if(z.outlets){const re={};return Object.entries(z.outlets).forEach(([Ze,mt])=>{re[Ze]="string"==typeof mt?mt.split("/"):mt}),[...S,{outlets:re}]}if(z.segmentPath)return[...S,z.segmentPath]}return"string"!=typeof z?[...S,z]:0===J?(z.split("/").forEach((re,Ze)=>{0==Ze&&"."===re||(0==Ze&&""===re?T=!0:".."===re?I++:""!=re&&S.push(re))}),S):[...S,z]},[]);return new es(T,I,v)}(I);if(z.toRoot())return Xr(S,S,new fn([],{}),T,v);const J=function ps(_,I,T){if(_.isAbsolute)return new Fr(I,!0,0);if(!T)return new Fr(I,!1,NaN);if(null===T.parent)return new Fr(T,!0,0);const v=sr(_.commands[0])?0:1;return function Wr(_,I,T){let v=_,S=I,z=T;for(;z>S;){if(z-=S,v=v.parent,!v)throw new h.vHH(4005,!1);S=v.segments.length}return new Fr(v,!1,S-z)}(T,T.segments.length-1+v,_.numberOfDoubleDots)}(z,S,_),re=J.processChildren?Gi(J.segmentGroup,J.index,z.commands):ts(J.segmentGroup,J.index,z.commands);return Xr(S,J.segmentGroup,re,T,v)}function sr(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function qn(_){return"object"==typeof _&&null!=_&&_.outlets}function Xr(_,I,T,v,S){let J,z={};v&&Object.entries(v).forEach(([Ze,mt])=>{z[Ze]=Array.isArray(mt)?mt.map(Sn=>`${Sn}`):`${mt}`}),J=_===I?T:li(_,I,T);const re=Ve(Ae(J));return new nn(re,z,S)}function li(_,I,T){const v={};return Object.entries(_.children).forEach(([S,z])=>{v[S]=z===I?T:li(z,I,T)}),new fn(_.segments,v)}class es{constructor(I,T,v){if(this.isAbsolute=I,this.numberOfDoubleDots=T,this.commands=v,I&&v.length>0&&sr(v[0]))throw new h.vHH(4003,!1);const S=v.find(qn);if(S&&S!==Pt(v))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fr{constructor(I,T,v){this.segmentGroup=I,this.processChildren=T,this.index=v}}function ts(_,I,T){if(_||(_=new fn([],{})),0===_.segments.length&&_.hasChildren())return Gi(_,I,T);const v=function Wn(_,I,T){let v=0,S=I;const z={match:!1,pathIndex:0,commandIndex:0};for(;S<_.segments.length;){if(v>=T.length)return z;const J=_.segments[S],re=T[v];if(qn(re))break;const Ze=`${re}`,mt=v<T.length-1?T[v+1]:null;if(S>0&&void 0===Ze)break;if(Ze&&mt&&"object"==typeof mt&&void 0===mt.outlets){if(!mi(Ze,mt,J))return z;v+=2}else{if(!mi(Ze,{},J))return z;v++}S++}return{match:!0,pathIndex:S,commandIndex:v}}(_,I,T),S=T.slice(v.commandIndex);if(v.match&&v.pathIndex<_.segments.length){const z=new fn(_.segments.slice(0,v.pathIndex),{});return z.children[lt]=new fn(_.segments.slice(v.pathIndex),_.children),Gi(z,0,S)}return v.match&&0===S.length?new fn(_.segments,{}):v.match&&!_.hasChildren()?ei(_,I,T):v.match?Gi(_,0,S):ei(_,I,T)}function Gi(_,I,T){if(0===T.length)return new fn(_.segments,{});{const v=function lo(_){return qn(_[0])?_[0].outlets:{[lt]:_}}(T),S={};if(!v[lt]&&_.children[lt]&&1===_.numberOfChildren&&0===_.children[lt].segments.length){const z=Gi(_.children[lt],I,T);return new fn(_.segments,z.children)}return Object.entries(v).forEach(([z,J])=>{"string"==typeof J&&(J=[J]),null!==J&&(S[z]=ts(_.children[z],I,J))}),Object.entries(_.children).forEach(([z,J])=>{void 0===v[z]&&(S[z]=J)}),new fn(_.segments,S)}}function ei(_,I,T){const v=_.segments.slice(0,I);let S=0;for(;S<T.length;){const z=T[S];if(qn(z)){const Ze=uo(z.outlets);return new fn(v,Ze)}if(0===S&&sr(T[0])){v.push(new $r(_.segments[I].path,bs(T[0]))),S++;continue}const J=qn(z)?z.outlets[lt]:`${z}`,re=S<T.length-1?T[S+1]:null;J&&re&&sr(re)?(v.push(new $r(J,bs(re))),S+=2):(v.push(new $r(J,{})),S++)}return new fn(v,{})}function uo(_){const I={};return Object.entries(_).forEach(([T,v])=>{"string"==typeof v&&(v=[v]),null!==v&&(I[T]=ei(new fn([],{}),0,v))}),I}function bs(_){const I={};return Object.entries(_).forEach(([T,v])=>I[T]=`${v}`),I}function mi(_,I,T){return _==T.path&&ir(I,T.parameters)}const Ir="imperative";class Rr{constructor(I,T){this.id=I,this.url=T}}class gs extends Rr{constructor(I,T,v="imperative",S=null){super(I,T),this.type=0,this.navigationTrigger=v,this.restoredState=S}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xi extends Rr{constructor(I,T,v){super(I,T),this.urlAfterRedirects=v,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vr extends Rr{constructor(I,T,v,S){super(I,T),this.reason=v,this.code=S,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ms extends Rr{constructor(I,T,v,S){super(I,T),this.reason=v,this.code=S,this.type=16}}class _i extends Rr{constructor(I,T,v,S){super(I,T),this.error=v,this.target=S,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _s extends Rr{constructor(I,T,v,S){super(I,T),this.urlAfterRedirects=v,this.state=S,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class co extends Rr{constructor(I,T,v,S){super(I,T),this.urlAfterRedirects=v,this.state=S,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dn extends Rr{constructor(I,T,v,S,z){super(I,T),this.urlAfterRedirects=v,this.state=S,this.shouldActivate=z,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Pr extends Rr{constructor(I,T,v,S){super(I,T),this.urlAfterRedirects=v,this.state=S,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kn extends Rr{constructor(I,T,v,S){super(I,T),this.urlAfterRedirects=v,this.state=S,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ti{constructor(I){this.route=I,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ar{constructor(I){this.route=I,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vs{constructor(I){this.snapshot=I,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class me{constructor(I){this.snapshot=I,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class he{constructor(I){this.snapshot=I,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Me{constructor(I){this.snapshot=I,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ke{constructor(I,T,v){this.routerEvent=I,this.position=T,this.anchor=v,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ge{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new vt,this.attachRef=null}}let vt=(()=>{var _;class I{constructor(){this.contexts=new Map}onChildOutletCreated(v,S){const z=this.getOrCreateContext(v);z.outlet=S,this.contexts.set(v,z)}onChildOutletDestroyed(v){const S=this.getContext(v);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let S=this.getContext(v);return S||(S=new Ge,this.contexts.set(v,S)),S}getContext(v){return this.contexts.get(v)||null}}return(_=I).\u0275fac=function(v){return new(v||_)},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),I})();class gt{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const T=this.pathFromRoot(I);return T.length>1?T[T.length-2]:null}children(I){const T=It(I,this._root);return T?T.children.map(v=>v.value):[]}firstChild(I){const T=It(I,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(I){const T=Zt(I,this._root);return T.length<2?[]:T[T.length-2].children.map(S=>S.value).filter(S=>S!==I)}pathFromRoot(I){return Zt(I,this._root).map(T=>T.value)}}function It(_,I){if(_===I.value)return I;for(const T of I.children){const v=It(_,T);if(v)return v}return null}function Zt(_,I){if(_===I.value)return[I];for(const T of I.children){const v=Zt(_,T);if(v.length)return v.unshift(I),v}return[]}class Fn{constructor(I,T){this.value=I,this.children=T}toString(){return`TreeNode(${this.value})`}}function Qt(_){const I={};return _&&_.children.forEach(T=>I[T.value.outlet]=T),I}class Qn extends gt{constructor(I,T){super(I),this.snapshot=T,ui(this,I)}toString(){return this.snapshot.toString()}}function Or(_,I){const T=function ti(_,I){const J=new Jn([],{},{},"",{},lt,I,null,{});return new hr("",new Fn(J,[]))}(0,I),v=new _e.X([new $r("",{})]),S=new _e.X({}),z=new _e.X({}),J=new _e.X({}),re=new _e.X(""),Ze=new Jt(v,S,J,re,z,lt,I,T.root);return Ze.snapshot=T.root,new Qn(new Fn(Ze,[]),T)}class Jt{constructor(I,T,v,S,z,J,re,Ze){this.urlSubject=I,this.paramsSubject=T,this.queryParamsSubject=v,this.fragmentSubject=S,this.dataSubject=z,this.outlet=J,this.component=re,this._futureSnapshot=Ze,this.title=this.dataSubject?.pipe((0,K.U)(mt=>mt[Vn]))??(0,de.of)(void 0),this.url=I,this.params=T,this.queryParams=v,this.fragment=S,this.data=z}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,K.U)(I=>cn(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,K.U)(I=>cn(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mn(_,I="emptyOnly"){const T=_.pathFromRoot;let v=0;if("always"!==I)for(v=T.length-1;v>=1;){const S=T[v],z=T[v-1];if(S.routeConfig&&""===S.routeConfig.path)v--;else{if(z.component)break;v--}}return function En(_){return _.reduce((I,T)=>({params:{...I.params,...T.params},data:{...I.data,...T.data},resolve:{...T.data,...I.resolve,...T.routeConfig?.data,...T._resolvedData}}),{params:{},data:{},resolve:{}})}(T.slice(v))}class Jn{get title(){return this.data?.[Vn]}constructor(I,T,v,S,z,J,re,Ze,mt){this.url=I,this.params=T,this.queryParams=v,this.fragment=S,this.data=z,this.outlet=J,this.component=re,this.routeConfig=Ze,this._resolve=mt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=cn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(v=>v.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hr extends gt{constructor(I,T){super(T),this.url=I,ui(this,T)}toString(){return Nr(this._root)}}function ui(_,I){I.value._routerState=_,I.children.forEach(T=>ui(_,T))}function Nr(_){const I=_.children.length>0?` { ${_.children.map(Nr).join(", ")} } `:"";return`${_.value}${I}`}function ni(_){if(_.snapshot){const I=_.snapshot,T=_._futureSnapshot;_.snapshot=T,ir(I.queryParams,T.queryParams)||_.queryParamsSubject.next(T.queryParams),I.fragment!==T.fragment&&_.fragmentSubject.next(T.fragment),ir(I.params,T.params)||_.paramsSubject.next(T.params),function Nn(_,I){if(_.length!==I.length)return!1;for(let T=0;T<_.length;++T)if(!ir(_[T],I[T]))return!1;return!0}(I.url,T.url)||_.urlSubject.next(T.url),ir(I.data,T.data)||_.dataSubject.next(T.data)}else _.snapshot=_._futureSnapshot,_.dataSubject.next(_._futureSnapshot.data)}function Si(_,I){const T=ir(_.params,I.params)&&function bi(_,I){return or(_,I)&&_.every((T,v)=>ir(T.parameters,I[v].parameters))}(_.url,I.url);return T&&!(!_.parent!=!I.parent)&&(!_.parent||Si(_.parent,I.parent))}let js=(()=>{var _;class I{constructor(){this.activated=null,this._activatedRoute=null,this.name=lt,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(vt),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb),this.inputBinder=(0,h.f3M)(Zn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(v){if(v.name){const{firstChange:S,previousValue:z}=v.name;if(S)return;this.isTrackedInParentContexts(z)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(z)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(v){return this.parentContexts.getContext(v)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const v=this.parentContexts.getContext(this.name);v?.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,!1);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,S){this.activated=v,this._activatedRoute=S,this.location.insert(v.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,S){if(this.isActivated)throw new h.vHH(4013,!1);this._activatedRoute=v;const z=this.location,re=v.snapshot.component,Ze=this.parentContexts.getOrCreateContext(this.name).children,mt=new Zr(v,Ze,z.injector);this.activated=z.createComponent(re,{index:z.length,injector:mt,environmentInjector:S??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(_=I).\u0275fac=function(v){return new(v||_)},_.\u0275dir=h.lG2({type:_,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]}),I})();class Zr{constructor(I,T,v){this.route=I,this.childContexts=T,this.parent=v}get(I,T){return I===Jt?this.route:I===vt?this.childContexts:this.parent.get(I,T)}}const Zn=new h.OlP("");let zi=(()=>{var _;class I{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(v){this.unsubscribeFromRouteData(v),this.subscribeToRouteData(v)}unsubscribeFromRouteData(v){this.outletDataSubscriptions.get(v)?.unsubscribe(),this.outletDataSubscriptions.delete(v)}subscribeToRouteData(v){const{activatedRoute:S}=v,z=dt([S.queryParams,S.params,S.data]).pipe((0,qt.w)(([J,re,Ze],mt)=>(Ze={...J,...re,...Ze},0===mt?(0,de.of)(Ze):Promise.resolve(Ze)))).subscribe(J=>{if(!v.isActivated||!v.activatedComponentRef||v.activatedRoute!==S||null===S.component)return void this.unsubscribeFromRouteData(v);const re=(0,h.qFp)(S.component);if(re)for(const{templateName:Ze}of re.inputs)v.activatedComponentRef.setInput(Ze,J[Ze]);else this.unsubscribeFromRouteData(v)});this.outletDataSubscriptions.set(v,z)}}return(_=I).\u0275fac=function(v){return new(v||_)},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac}),I})();function hn(_,I,T){if(T&&_.shouldReuseRoute(I.value,T.value.snapshot)){const v=T.value;v._futureSnapshot=I.value;const S=function _a(_,I,T){return I.children.map(v=>{for(const S of T.children)if(_.shouldReuseRoute(v.value,S.value.snapshot))return hn(_,v,S);return hn(_,v)})}(_,I,T);return new Fn(v,S)}{if(_.shouldAttach(I.value)){const z=_.retrieve(I.value);if(null!==z){const J=z.route;return J.value._futureSnapshot=I.value,J.children=I.children.map(re=>hn(_,re)),J}}const v=function $s(_){return new Jt(new _e.X(_.url),new _e.X(_.params),new _e.X(_.queryParams),new _e.X(_.fragment),new _e.X(_.data),_.outlet,_.component,_)}(I.value),S=I.children.map(z=>hn(_,z));return new Fn(v,S)}}const vi="ngNavigationCancelingError";function Ur(_,I){const{redirectTo:T,navigationBehaviorOptions:v}=Mt(I)?{redirectTo:I,navigationBehaviorOptions:void 0}:I,S=ri(!1,0,I);return S.url=T,S.navigationBehaviorOptions=v,S}function ri(_,I,T){const v=new Error("NavigationCancelingError: "+(_||""));return v[vi]=!0,v.cancellationCode=I,T&&(v.url=T),v}function Yr(_){return ln(_)&&Mt(_.url)}function ln(_){return _&&_[vi]}let rr=(()=>{var _;class I{}return(_=I).\u0275fac=function(v){return new(v||_)},_.\u0275cmp=h.Xpm({type:_,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(v,S){1&v&&h._UZ(0,"router-outlet")},dependencies:[js],encapsulation:2}),I})();function ys(_){const I=_.children&&_.children.map(ys),T=I?{..._,children:I}:{..._};return!T.component&&!T.loadComponent&&(I||T.loadChildren)&&T.outlet&&T.outlet!==lt&&(T.component=rr),T}function ci(_){return _.outlet||lt}function Es(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let I=_.parent;I;I=I.parent){const T=I.routeConfig;if(T?._loadedInjector)return T._loadedInjector;if(T?._injector)return T._injector}return null}class di{constructor(I,T,v,S,z){this.routeReuseStrategy=I,this.futureState=T,this.currState=v,this.forwardEvent=S,this.inputBindingEnabled=z}activate(I){const T=this.futureState._root,v=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,v,I),ni(this.futureState.root),this.activateChildRoutes(T,v,I)}deactivateChildRoutes(I,T,v){const S=Qt(T);I.children.forEach(z=>{const J=z.value.outlet;this.deactivateRoutes(z,S[J],v),delete S[J]}),Object.values(S).forEach(z=>{this.deactivateRouteAndItsChildren(z,v)})}deactivateRoutes(I,T,v){const S=I.value,z=T?T.value:null;if(S===z)if(S.component){const J=v.getContext(S.outlet);J&&this.deactivateChildRoutes(I,T,J.children)}else this.deactivateChildRoutes(I,T,v);else z&&this.deactivateRouteAndItsChildren(T,v)}deactivateRouteAndItsChildren(I,T){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,T):this.deactivateRouteAndOutlet(I,T)}detachAndStoreRouteSubtree(I,T){const v=T.getContext(I.value.outlet),S=v&&I.value.component?v.children:T,z=Qt(I);for(const J of Object.keys(z))this.deactivateRouteAndItsChildren(z[J],S);if(v&&v.outlet){const J=v.outlet.detach(),re=v.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:J,route:I,contexts:re})}}deactivateRouteAndOutlet(I,T){const v=T.getContext(I.value.outlet),S=v&&I.value.component?v.children:T,z=Qt(I);for(const J of Object.keys(z))this.deactivateRouteAndItsChildren(z[J],S);v&&(v.outlet&&(v.outlet.deactivate(),v.children.onOutletDeactivated()),v.attachRef=null,v.route=null)}activateChildRoutes(I,T,v){const S=Qt(T);I.children.forEach(z=>{this.activateRoutes(z,S[z.value.outlet],v),this.forwardEvent(new Me(z.value.snapshot))}),I.children.length&&this.forwardEvent(new me(I.value.snapshot))}activateRoutes(I,T,v){const S=I.value,z=T?T.value:null;if(ni(S),S===z)if(S.component){const J=v.getOrCreateContext(S.outlet);this.activateChildRoutes(I,T,J.children)}else this.activateChildRoutes(I,T,v);else if(S.component){const J=v.getOrCreateContext(S.outlet);if(this.routeReuseStrategy.shouldAttach(S.snapshot)){const re=this.routeReuseStrategy.retrieve(S.snapshot);this.routeReuseStrategy.store(S.snapshot,null),J.children.onOutletReAttached(re.contexts),J.attachRef=re.componentRef,J.route=re.route.value,J.outlet&&J.outlet.attach(re.componentRef,re.route.value),ni(re.route.value),this.activateChildRoutes(I,null,J.children)}else{const re=Es(S.snapshot);J.attachRef=null,J.route=S,J.injector=re,J.outlet&&J.outlet.activateWith(S,J.injector),this.activateChildRoutes(I,null,J.children)}}else this.activateChildRoutes(I,null,v)}}class Ws{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class Gs{constructor(I,T){this.component=I,this.route=T}}function zs(_,I,T){const v=_._root;return Cs(v,I?I._root:null,T,[v.value])}function Un(_,I){const T=Symbol(),v=I.get(_,T);return v===T?"function"!=typeof _||(0,h.Z0I)(_)?I.get(_):_:v}function Cs(_,I,T,v,S={canDeactivateChecks:[],canActivateChecks:[]}){const z=Qt(I);return _.children.forEach(J=>{(function va(_,I,T,v,S={canDeactivateChecks:[],canActivateChecks:[]}){const z=_.value,J=I?I.value:null,re=T?T.getContext(_.value.outlet):null;if(J&&z.routeConfig===J.routeConfig){const Ze=function Is(_,I,T){if("function"==typeof T)return T(_,I);switch(T){case"pathParamsChange":return!or(_.url,I.url);case"pathParamsOrQueryParamsChange":return!or(_.url,I.url)||!ir(_.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Si(_,I)||!ir(_.queryParams,I.queryParams);default:return!Si(_,I)}}(J,z,z.routeConfig.runGuardsAndResolvers);Ze?S.canActivateChecks.push(new Ws(v)):(z.data=J.data,z._resolvedData=J._resolvedData),Cs(_,I,z.component?re?re.children:null:T,v,S),Ze&&re&&re.outlet&&re.outlet.isActivated&&S.canDeactivateChecks.push(new Gs(re.outlet.component,J))}else J&&Fi(I,re,S),S.canActivateChecks.push(new Ws(v)),Cs(_,null,z.component?re?re.children:null:T,v,S)})(J,z[J.value.outlet],T,v.concat([J.value]),S),delete z[J.value.outlet]}),Object.entries(z).forEach(([J,re])=>Fi(re,T.getContext(J),S)),S}function Fi(_,I,T){const v=Qt(_),S=_.value;Object.entries(v).forEach(([z,J])=>{Fi(J,S.component?I?I.children.getContext(z):null:I,T)}),T.canDeactivateChecks.push(new Gs(S.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,S))}function ai(_){return"function"==typeof _}function Y(_){return _ instanceof it.K||"EmptyError"===_?.name}const qe=Symbol("INITIAL_VALUE");function Ot(){return(0,qt.w)(_=>dt(_.map(I=>I.pipe((0,un.q)(1),function Ie(..._){const I=(0,ie.yG)(_);return(0,Nt.e)((T,v)=>{(I?Ce(_,T,I):Ce(_,T)).subscribe(v)})}(qe)))).pipe((0,K.U)(I=>{for(const T of I)if(!0!==T){if(T===qe)return qe;if(!1===T||T instanceof nn)return T}return!0}),(0,De.h)(I=>I!==qe),(0,un.q)(1)))}function Zs(_){return(0,Ue.z)((0,Pe.b)(I=>{if(Mt(I))throw Ur(0,I)}),(0,K.U)(I=>!0===I))}class Ms{constructor(I){this.segmentGroup=I||null}}class Po{constructor(I){this.urlTree=I}}function is(_){return Ye(new Ms(_))}function Rs(_){return Ye(new Po(_))}class qr{constructor(I,T){this.urlSerializer=I,this.urlTree=T}noMatchError(I){return new h.vHH(4002,!1)}lineralizeSegments(I,T){let v=[],S=T.root;for(;;){if(v=v.concat(S.segments),0===S.numberOfChildren)return(0,de.of)(v);if(S.numberOfChildren>1||!S.children[lt])return Ye(new h.vHH(4e3,!1));S=S.children[lt]}}applyRedirectCommands(I,T,v){return this.applyRedirectCreateUrlTree(T,this.urlSerializer.parse(T),I,v)}applyRedirectCreateUrlTree(I,T,v,S){const z=this.createSegmentGroup(I,T.root,v,S);return new nn(z,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(I,T){const v={};return Object.entries(I).forEach(([S,z])=>{if("string"==typeof z&&z.startsWith(":")){const re=z.substring(1);v[S]=T[re]}else v[S]=z}),v}createSegmentGroup(I,T,v,S){const z=this.createSegments(I,T.segments,v,S);let J={};return Object.entries(T.children).forEach(([re,Ze])=>{J[re]=this.createSegmentGroup(I,Ze,v,S)}),new fn(z,J)}createSegments(I,T,v,S){return T.map(z=>z.path.startsWith(":")?this.findPosParam(I,z,S):this.findOrReturn(z,v))}findPosParam(I,T,v){const S=v[T.path.substring(1)];if(!S)throw new h.vHH(4001,!1);return S}findOrReturn(I,T){let v=0;for(const S of T){if(S.path===I.path)return T.splice(v),S;v++}return I}}const Ys={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ha(_,I,T,v,S){const z=Os(_,I,T);return z.matched?(v=function ho(_,I){return _.providers&&!_._injector&&(_._injector=(0,h.MMx)(_.providers,I,`Route: ${_.path}`)),_._injector??I}(I,v),function rs(_,I,T,v){const S=I.canMatch;if(!S||0===S.length)return(0,de.of)(!0);const z=S.map(J=>{const re=Un(J,_);return jt(function A(_){return _&&ai(_.canMatch)}(re)?re.canMatch(I,T):_.runInContext(()=>re(I,T)))});return(0,de.of)(z).pipe(Ot(),Zs())}(v,I,T).pipe((0,K.U)(J=>!0===J?z:{...Ys}))):(0,de.of)(z)}function Os(_,I,T){if(""===I.path)return"full"===I.pathMatch&&(_.hasChildren()||T.length>0)?{...Ys}:{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};const S=(I.matcher||Ht)(T,_,I);if(!S)return{...Ys};const z={};Object.entries(S.posParams??{}).forEach(([re,Ze])=>{z[re]=Ze.path});const J=S.consumed.length>0?{...z,...S.consumed[S.consumed.length-1].parameters}:z;return{matched:!0,consumedSegments:S.consumed,remainingSegments:T.slice(S.consumed.length),parameters:J,positionalParamSegments:S.posParams??{}}}function ss(_,I,T,v){return T.length>0&&function qs(_,I,T){return T.some(v=>os(_,I,v)&&ci(v)!==lt)}(_,T,v)?{segmentGroup:new fn(I,go(v,new fn(T,_.children))),slicedSegments:[]}:0===T.length&&function No(_,I,T){return T.some(v=>os(_,I,v))}(_,T,v)?{segmentGroup:new fn(_.segments,po(_,0,T,v,_.children)),slicedSegments:T}:{segmentGroup:new fn(_.segments,_.children),slicedSegments:T}}function po(_,I,T,v,S){const z={};for(const J of v)if(os(_,T,J)&&!S[ci(J)]){const re=new fn([],{});z[ci(J)]=re}return{...S,...z}}function go(_,I){const T={};T[lt]=I;for(const v of _)if(""===v.path&&ci(v)!==lt){const S=new fn([],{});T[ci(v)]=S}return T}function os(_,I,T){return(!(_.hasChildren()||I.length>0)||"full"!==T.pathMatch)&&""===T.path}class yi{constructor(I,T,v,S,z,J,re){this.injector=I,this.configLoader=T,this.rootComponentType=v,this.config=S,this.urlTree=z,this.paramsInheritanceStrategy=J,this.urlSerializer=re,this.allowRedirects=!0,this.applyRedirects=new qr(this.urlSerializer,this.urlTree)}noMatchError(I){return new h.vHH(4002,!1)}recognize(){const I=ss(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,I,lt).pipe(st(T=>{if(T instanceof Po)return this.allowRedirects=!1,this.urlTree=T.urlTree,this.match(T.urlTree);throw T instanceof Ms?this.noMatchError(T):T}),(0,K.U)(T=>{const v=new Jn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},lt,this.rootComponentType,null,{}),S=new Fn(v,T),z=new hr("",S),J=function Kt(_,I,T=null,v=null){return yn(sn(_),I,T,v)}(v,[],this.urlTree.queryParams,this.urlTree.fragment);return J.queryParams=this.urlTree.queryParams,z.url=this.urlSerializer.serialize(J),this.inheritParamsAndData(z._root),{state:z,tree:J}}))}match(I){return this.processSegmentGroup(this.injector,this.config,I.root,lt).pipe(st(v=>{throw v instanceof Ms?this.noMatchError(v):v}))}inheritParamsAndData(I){const T=I.value,v=mn(T,this.paramsInheritanceStrategy);T.params=Object.freeze(v.params),T.data=Object.freeze(v.data),I.children.forEach(S=>this.inheritParamsAndData(S))}processSegmentGroup(I,T,v,S){return 0===v.segments.length&&v.hasChildren()?this.processChildren(I,T,v):this.processSegment(I,T,v,v.segments,S,!0)}processChildren(I,T,v){const S=[];for(const z of Object.keys(v.children))"primary"===z?S.unshift(z):S.push(z);return(0,ce.D)(S).pipe(Le(z=>{const J=v.children[z],re=function ns(_,I){const T=_.filter(v=>ci(v)===I);return T.push(..._.filter(v=>ci(v)!==I)),T}(T,z);return this.processSegmentGroup(I,re,J,z)}),(0,Et.R)((z,J)=>(z.push(...J),z)),(0,gn.d)(null),function Gt(_,I){const T=arguments.length>=2;return v=>v.pipe(_?(0,De.h)((S,z)=>_(S,z,v)):be.y,At(1),T?(0,gn.d)(I):(0,an.T)(()=>new it.K))}(),(0,Oe.z)(z=>{if(null===z)return is(v);const J=Ei(z);return function mo(_){_.sort((I,T)=>I.value.outlet===lt?-1:T.value.outlet===lt?1:I.value.outlet.localeCompare(T.value.outlet))}(J),(0,de.of)(J)}))}processSegment(I,T,v,S,z,J){return(0,ce.D)(T).pipe(Le(re=>this.processSegmentAgainstRoute(re._injector??I,T,re,v,S,z,J).pipe(st(Ze=>{if(Ze instanceof Ms)return(0,de.of)(null);throw Ze}))),(0,Ne.P)(re=>!!re),st(re=>{if(Y(re))return function ea(_,I,T){return 0===I.length&&!_.children[T]}(v,S,z)?(0,de.of)([]):is(v);throw re}))}processSegmentAgainstRoute(I,T,v,S,z,J,re){return function ja(_,I,T,v){return!!(ci(_)===v||v!==lt&&os(I,T,_))&&("**"===_.path||Os(I,_,T).matched)}(v,S,z,J)?void 0===v.redirectTo?this.matchSegmentAgainstRoute(I,S,v,z,J,re):re&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,S,T,v,z,J):is(S):is(S)}expandSegmentAgainstRouteUsingRedirect(I,T,v,S,z,J){return"**"===S.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,v,S,J):this.expandRegularSegmentAgainstRouteUsingRedirect(I,T,v,S,z,J)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,T,v,S){const z=this.applyRedirects.applyRedirectCommands([],v.redirectTo,{});return v.redirectTo.startsWith("/")?Rs(z):this.applyRedirects.lineralizeSegments(v,z).pipe((0,Oe.z)(J=>{const re=new fn(J,{});return this.processSegment(I,T,re,J,S,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,T,v,S,z,J){const{matched:re,consumedSegments:Ze,remainingSegments:mt,positionalParamSegments:Sn}=Os(T,S,z);if(!re)return is(T);const zt=this.applyRedirects.applyRedirectCommands(Ze,S.redirectTo,Sn);return S.redirectTo.startsWith("/")?Rs(zt):this.applyRedirects.lineralizeSegments(S,zt).pipe((0,Oe.z)(ur=>this.processSegment(I,v,T,ur.concat(mt),J,!1)))}matchSegmentAgainstRoute(I,T,v,S,z,J){let re;if("**"===v.path){const Ze=S.length>0?Pt(S).parameters:{},mt=new Jn(S,Ze,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xs(v),ci(v),v.component??v._loadedComponent??null,v,Mn(v));re=(0,de.of)({snapshot:mt,consumedSegments:[],remainingSegments:[]}),T.children={}}else re=Ha(T,v,S,I).pipe((0,K.U)(({matched:Ze,consumedSegments:mt,remainingSegments:Sn,parameters:zt})=>Ze?{snapshot:new Jn(mt,zt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xs(v),ci(v),v.component??v._loadedComponent??null,v,Mn(v)),consumedSegments:mt,remainingSegments:Sn}:null));return re.pipe((0,qt.w)(Ze=>null===Ze?is(T):this.getChildConfig(I=v._injector??I,v,S).pipe((0,qt.w)(({routes:mt})=>{const Sn=v._loadedInjector??I,{snapshot:zt,consumedSegments:ur,remainingSegments:gi}=Ze,{segmentGroup:Fs,slicedSegments:Pi}=ss(T,ur,gi,mt);if(0===Pi.length&&Fs.hasChildren())return this.processChildren(Sn,mt,Fs).pipe((0,K.U)(Ds=>null===Ds?null:[new Fn(zt,Ds)]));if(0===mt.length&&0===Pi.length)return(0,de.of)([new Fn(zt,[])]);const eo=ci(v)===z;return this.processSegment(Sn,mt,Fs,Pi,eo?lt:z,!0).pipe((0,K.U)(Ds=>[new Fn(zt,Ds)]))}))))}getChildConfig(I,T,v){return T.children?(0,de.of)({routes:T.children,injector:I}):T.loadChildren?void 0!==T._loadedRoutes?(0,de.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):function Ks(_,I,T,v){const S=I.canLoad;if(void 0===S||0===S.length)return(0,de.of)(!0);const z=S.map(J=>{const re=Un(J,_);return jt(function As(_){return _&&ai(_.canLoad)}(re)?re.canLoad(I,T):_.runInContext(()=>re(I,T)))});return(0,de.of)(z).pipe(Ot(),Zs())}(I,T,v).pipe((0,Oe.z)(S=>S?this.configLoader.loadChildren(I,T).pipe((0,Pe.b)(z=>{T._loadedRoutes=z.routes,T._loadedInjector=z.injector})):function Oo(_){return Ye(ri(!1,3))}())):(0,de.of)({routes:[],injector:I})}}function xo(_){const I=_.value.routeConfig;return I&&""===I.path}function Ei(_){const I=[],T=new Set;for(const v of _){if(!xo(v)){I.push(v);continue}const S=I.find(z=>v.value.routeConfig===z.value.routeConfig);void 0!==S?(S.children.push(...v.children),T.add(S)):I.push(v)}for(const v of T){const S=Ei(v.children);I.push(new Fn(v.value,S))}return I.filter(v=>!T.has(v))}function xs(_){return _.data||{}}function Mn(_){return _.resolve||{}}function le(_){return"string"==typeof _.title||null===_.title}function We(_){return(0,qt.w)(I=>{const T=_(I);return T?(0,ce.D)(T).pipe((0,K.U)(()=>I)):(0,de.of)(I)})}const ut=new h.OlP("ROUTES");let wn=(()=>{var _;class I{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return(0,de.of)(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const S=jt(v.loadComponent()).pipe((0,K.U)(On),(0,Pe.b)(J=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=J}),In(()=>{this.componentLoaders.delete(v)})),z=new jn(S,()=>new Yn.x).pipe(St());return this.componentLoaders.set(v,z),z}loadChildren(v,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,de.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const J=this.loadModuleFactoryOrRoutes(S.loadChildren).pipe((0,K.U)(Ze=>{this.onLoadEndListener&&this.onLoadEndListener(S);let mt,Sn;return Array.isArray(Ze)?Sn=Ze:(mt=Ze.create(v).injector,Sn=mt.get(ut,[],h.XFs.Self|h.XFs.Optional).flat()),{routes:Sn.map(ys),injector:mt}}),In(()=>{this.childrenLoaders.delete(S)})),re=new jn(J,()=>new Yn.x).pipe(St());return this.childrenLoaders.set(S,re),re}loadModuleFactoryOrRoutes(v){return jt(v()).pipe((0,K.U)(On),(0,Oe.z)(S=>S instanceof h.YKP||Array.isArray(S)?(0,de.of)(S):(0,ce.D)(this.compiler.compileModuleAsync(S))))}}return(_=I).\u0275fac=function(v){return new(v||_)},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),I})();function On(_){return function Cn(_){return _&&"object"==typeof _&&"default"in _}(_)?_.default:_}let _n=(()=>{var _;class I{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Yn.x,this.configLoader=(0,h.f3M)(wn),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(ar),this.rootContexts=(0,h.f3M)(vt),this.inputBindingEnabled=null!==(0,h.f3M)(Zn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,de.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=z=>this.events.next(new Ar(z)),this.configLoader.onLoadStartListener=z=>this.events.next(new Ti(z))}complete(){this.transitions?.complete()}handleNavigationRequest(v){const S=++this.navigationId;this.transitions?.next({...this.transitions.value,...v,id:S})}setupNavigations(v){return this.transitions=new _e.X({id:0,currentUrlTree:v.currentUrlTree,currentRawUrl:v.currentUrlTree,extractedUrl:v.urlHandlingStrategy.extract(v.currentUrlTree),urlAfterRedirects:v.urlHandlingStrategy.extract(v.currentUrlTree),rawUrl:v.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ir,restoredState:null,currentSnapshot:v.routerState.snapshot,targetSnapshot:null,currentRouterState:v.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,De.h)(S=>0!==S.id),(0,K.U)(S=>({...S,extractedUrl:v.urlHandlingStrategy.extract(S.rawUrl)})),(0,qt.w)(S=>{let z=!1,J=!1;return(0,de.of)(S).pipe((0,Pe.b)(re=>{this.currentNavigation={id:re.id,initialUrl:re.rawUrl,extractedUrl:re.extractedUrl,trigger:re.source,extras:re.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,qt.w)(re=>{const Ze=v.browserUrlTree.toString(),mt=!v.navigated||re.extractedUrl.toString()!==Ze||Ze!==v.currentUrlTree.toString();if(!mt&&"reload"!==(re.extras.onSameUrlNavigation??v.onSameUrlNavigation)){const zt="";return this.events.next(new ms(re.id,v.serializeUrl(S.rawUrl),zt,0)),v.rawUrlTree=re.rawUrl,re.resolve(null),ht.E}if(v.urlHandlingStrategy.shouldProcessUrl(re.rawUrl))return Er(re.source)&&(v.browserUrlTree=re.extractedUrl),(0,de.of)(re).pipe((0,qt.w)(zt=>{const ur=this.transitions?.getValue();return this.events.next(new gs(zt.id,this.urlSerializer.serialize(zt.extractedUrl),zt.source,zt.restoredState)),ur!==this.transitions?.getValue()?ht.E:Promise.resolve(zt)}),function Zi(_,I,T,v,S,z){return(0,Oe.z)(J=>function $a(_,I,T,v,S,z,J="emptyOnly"){return new yi(_,I,T,v,S,J,z).recognize()}(_,I,T,v,J.extractedUrl,S,z).pipe((0,K.U)(({state:re,tree:Ze})=>({...J,targetSnapshot:re,urlAfterRedirects:Ze}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,v.config,this.urlSerializer,v.paramsInheritanceStrategy),(0,Pe.b)(zt=>{if(S.targetSnapshot=zt.targetSnapshot,S.urlAfterRedirects=zt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:zt.urlAfterRedirects},"eager"===v.urlUpdateStrategy){if(!zt.extras.skipLocationChange){const gi=v.urlHandlingStrategy.merge(zt.urlAfterRedirects,zt.rawUrl);v.setBrowserUrl(gi,zt)}v.browserUrlTree=zt.urlAfterRedirects}const ur=new _s(zt.id,this.urlSerializer.serialize(zt.extractedUrl),this.urlSerializer.serialize(zt.urlAfterRedirects),zt.targetSnapshot);this.events.next(ur)}));if(mt&&v.urlHandlingStrategy.shouldProcessUrl(v.rawUrlTree)){const{id:zt,extractedUrl:ur,source:gi,restoredState:Fs,extras:Pi}=re,eo=new gs(zt,this.urlSerializer.serialize(ur),gi,Fs);this.events.next(eo);const Ds=Or(0,this.rootComponentType).snapshot;return S={...re,targetSnapshot:Ds,urlAfterRedirects:ur,extras:{...Pi,skipLocationChange:!1,replaceUrl:!1}},(0,de.of)(S)}{const zt="";return this.events.next(new ms(re.id,v.serializeUrl(S.extractedUrl),zt,1)),v.rawUrlTree=re.rawUrl,re.resolve(null),ht.E}}),(0,Pe.b)(re=>{const Ze=new co(re.id,this.urlSerializer.serialize(re.extractedUrl),this.urlSerializer.serialize(re.urlAfterRedirects),re.targetSnapshot);this.events.next(Ze)}),(0,K.U)(re=>S={...re,guards:zs(re.targetSnapshot,re.currentSnapshot,this.rootContexts)}),function Xn(_,I){return(0,Oe.z)(T=>{const{targetSnapshot:v,currentSnapshot:S,guards:{canActivateChecks:z,canDeactivateChecks:J}}=T;return 0===J.length&&0===z.length?(0,de.of)({...T,guardsResult:!0}):function ii(_,I,T,v){return(0,ce.D)(_).pipe((0,Oe.z)(S=>function fo(_,I,T,v,S){const z=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!z||0===z.length)return(0,de.of)(!0);const J=z.map(re=>{const Ze=Es(I)??S,mt=Un(re,Ze);return jt(function O(_){return _&&ai(_.canDeactivate)}(mt)?mt.canDeactivate(_,I,T,v):Ze.runInContext(()=>mt(_,I,T,v))).pipe((0,Ne.P)())});return(0,de.of)(J).pipe(Ot())}(S.component,S.route,T,I,v)),(0,Ne.P)(S=>!0!==S,!0))}(J,v,S,_).pipe((0,Oe.z)(re=>re&&function Vi(_){return"boolean"==typeof _}(re)?function Gr(_,I,T,v){return(0,ce.D)(I).pipe(Le(S=>Ce(function Ai(_,I){return null!==_&&I&&I(new vs(_)),(0,de.of)(!0)}(S.route.parent,v),function Hr(_,I){return null!==_&&I&&I(new he(_)),(0,de.of)(!0)}(S.route,v),function hi(_,I,T){const v=I[I.length-1],z=I.slice(0,I.length-1).reverse().map(J=>function Ro(_){const I=_.routeConfig?_.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:_,guards:I}:null}(J)).filter(J=>null!==J).map(J=>we(()=>{const re=J.guards.map(Ze=>{const mt=Es(J.node)??T,Sn=Un(Ze,mt);return jt(function Xo(_){return _&&ai(_.canActivateChild)}(Sn)?Sn.canActivateChild(v,_):mt.runInContext(()=>Sn(v,_))).pipe((0,Ne.P)())});return(0,de.of)(re).pipe(Ot())}));return(0,de.of)(z).pipe(Ot())}(_,S.path,T),function fr(_,I,T){const v=I.routeConfig?I.routeConfig.canActivate:null;if(!v||0===v.length)return(0,de.of)(!0);const S=v.map(z=>we(()=>{const J=Es(I)??T,re=Un(z,J);return jt(function Lt(_){return _&&ai(_.canActivate)}(re)?re.canActivate(I,_):J.runInContext(()=>re(I,_))).pipe((0,Ne.P)())}));return(0,de.of)(S).pipe(Ot())}(_,S.route,T))),(0,Ne.P)(S=>!0!==S,!0))}(v,z,_,I):(0,de.of)(re)),(0,K.U)(re=>({...T,guardsResult:re})))})}(this.environmentInjector,re=>this.events.next(re)),(0,Pe.b)(re=>{if(S.guardsResult=re.guardsResult,Mt(re.guardsResult))throw Ur(0,re.guardsResult);const Ze=new dn(re.id,this.urlSerializer.serialize(re.extractedUrl),this.urlSerializer.serialize(re.urlAfterRedirects),re.targetSnapshot,!!re.guardsResult);this.events.next(Ze)}),(0,De.h)(re=>!!re.guardsResult||(v.restoreHistory(re),this.cancelNavigationTransition(re,"",3),!1)),We(re=>{if(re.guards.canActivateChecks.length)return(0,de.of)(re).pipe((0,Pe.b)(Ze=>{const mt=new Pr(Ze.id,this.urlSerializer.serialize(Ze.extractedUrl),this.urlSerializer.serialize(Ze.urlAfterRedirects),Ze.targetSnapshot);this.events.next(mt)}),(0,qt.w)(Ze=>{let mt=!1;return(0,de.of)(Ze).pipe(function E(_,I){return(0,Oe.z)(T=>{const{targetSnapshot:v,guards:{canActivateChecks:S}}=T;if(!S.length)return(0,de.of)(T);let z=0;return(0,ce.D)(S).pipe(Le(J=>function P(_,I,T,v){const S=_.routeConfig,z=_._resolve;return void 0!==S?.title&&!le(S)&&(z[Vn]=S.title),function Q(_,I,T,v){const S=function M(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}(_);if(0===S.length)return(0,de.of)({});const z={};return(0,ce.D)(S).pipe((0,Oe.z)(J=>function Z(_,I,T,v){const S=Es(I)??v,z=Un(_,S);return jt(z.resolve?z.resolve(I,T):S.runInContext(()=>z(I,T)))}(_[J],I,T,v).pipe((0,Ne.P)(),(0,Pe.b)(re=>{z[J]=re}))),At(1),function Tn(_){return(0,K.U)(()=>_)}(z),st(J=>Y(J)?ht.E:Ye(J)))}(z,_,I,v).pipe((0,K.U)(J=>(_._resolvedData=J,_.data=mn(_,T).resolve,S&&le(S)&&(_.data[Vn]=S.title),null)))}(J.route,v,_,I)),(0,Pe.b)(()=>z++),At(1),(0,Oe.z)(J=>z===S.length?(0,de.of)(T):ht.E))})}(v.paramsInheritanceStrategy,this.environmentInjector),(0,Pe.b)({next:()=>mt=!0,complete:()=>{mt||(v.restoreHistory(Ze),this.cancelNavigationTransition(Ze,"",2))}}))}),(0,Pe.b)(Ze=>{const mt=new Kn(Ze.id,this.urlSerializer.serialize(Ze.extractedUrl),this.urlSerializer.serialize(Ze.urlAfterRedirects),Ze.targetSnapshot);this.events.next(mt)}))}),We(re=>{const Ze=mt=>{const Sn=[];mt.routeConfig?.loadComponent&&!mt.routeConfig._loadedComponent&&Sn.push(this.configLoader.loadComponent(mt.routeConfig).pipe((0,Pe.b)(zt=>{mt.component=zt}),(0,K.U)(()=>{})));for(const zt of mt.children)Sn.push(...Ze(zt));return Sn};return dt(Ze(re.targetSnapshot.root)).pipe((0,gn.d)(),(0,un.q)(1))}),We(()=>this.afterPreactivation()),(0,K.U)(re=>{const Ze=function Ki(_,I,T){const v=hn(_,I._root,T?T._root:void 0);return new Qn(v,I)}(v.routeReuseStrategy,re.targetSnapshot,re.currentRouterState);return S={...re,targetRouterState:Ze}}),(0,Pe.b)(re=>{v.currentUrlTree=re.urlAfterRedirects,v.rawUrlTree=v.urlHandlingStrategy.merge(re.urlAfterRedirects,re.rawUrl),v.routerState=re.targetRouterState,"deferred"===v.urlUpdateStrategy&&(re.extras.skipLocationChange||v.setBrowserUrl(v.rawUrlTree,re),v.browserUrlTree=re.urlAfterRedirects)}),((_,I,T,v)=>(0,K.U)(S=>(new di(I,S.targetRouterState,S.currentRouterState,T,v).activate(_),S)))(this.rootContexts,v.routeReuseStrategy,re=>this.events.next(re),this.inputBindingEnabled),(0,un.q)(1),(0,Pe.b)({next:re=>{z=!0,this.lastSuccessfulNavigation=this.currentNavigation,v.navigated=!0,this.events.next(new xi(re.id,this.urlSerializer.serialize(re.extractedUrl),this.urlSerializer.serialize(v.currentUrlTree))),v.titleStrategy?.updateTitle(re.targetRouterState.snapshot),re.resolve(!0)},complete:()=>{z=!0}}),In(()=>{z||J||this.cancelNavigationTransition(S,"",1),this.currentNavigation?.id===S.id&&(this.currentNavigation=null)}),st(re=>{if(J=!0,ln(re)){Yr(re)||(v.navigated=!0,v.restoreHistory(S,!0));const Ze=new Vr(S.id,this.urlSerializer.serialize(S.extractedUrl),re.message,re.cancellationCode);if(this.events.next(Ze),Yr(re)){const mt=v.urlHandlingStrategy.merge(re.url,v.rawUrlTree),Sn={skipLocationChange:S.extras.skipLocationChange,replaceUrl:"eager"===v.urlUpdateStrategy||Er(S.source)};v.scheduleNavigation(mt,Ir,null,Sn,{resolve:S.resolve,reject:S.reject,promise:S.promise})}else S.resolve(!1)}else{v.restoreHistory(S,!0);const Ze=new _i(S.id,this.urlSerializer.serialize(S.extractedUrl),re,S.targetSnapshot??void 0);this.events.next(Ze);try{S.resolve(v.errorHandler(re))}catch(mt){S.reject(mt)}}return ht.E}))}))}cancelNavigationTransition(v,S,z){const J=new Vr(v.id,this.urlSerializer.serialize(v.extractedUrl),S,z);this.events.next(J),v.resolve(!1)}}return(_=I).\u0275fac=function(v){return new(v||_)},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),I})();function Er(_){return _!==Ir}let Xt=(()=>{var _;class I{buildTitle(v){let S,z=v.root;for(;void 0!==z;)S=this.getResolvedTitleForRoute(z)??S,z=z.children.find(J=>J.outlet===lt);return S}getResolvedTitleForRoute(v){return v.data[Vn]}}return(_=I).\u0275fac=function(v){return new(v||_)},_.\u0275prov=h.Yz7({token:_,factory:function(){return(0,h.f3M)(zn)},providedIn:"root"}),I})(),zn=(()=>{var _;class I extends Xt{constructor(v){super(),this.title=v}updateTitle(v){const S=this.buildTitle(v);void 0!==S&&this.title.setTitle(S)}}return(_=I).\u0275fac=function(v){return new(v||_)(h.LFG(Ln.Dx))},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),I})(),zr=(()=>{var _;class I{}return(_=I).\u0275fac=function(v){return new(v||_)},_.\u0275prov=h.Yz7({token:_,factory:function(){return(0,h.f3M)(as)},providedIn:"root"}),I})();class Bt{shouldDetach(I){return!1}store(I,T){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,T){return I.routeConfig===T.routeConfig}}let as=(()=>{var _;class I extends Bt{}return(_=I).\u0275fac=function(){let T;return function(S){return(T||(T=h.n5z(_)))(S||_)}}(),_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),I})();const Qr=new h.OlP("",{providedIn:"root",factory:()=>({})});let Ci=(()=>{var _;class I{}return(_=I).\u0275fac=function(v){return new(v||_)},_.\u0275prov=h.Yz7({token:_,factory:function(){return(0,h.f3M)(ls)},providedIn:"root"}),I})(),ls=(()=>{var _;class I{shouldProcessUrl(v){return!0}extract(v){return v}merge(v,S){return v}}return(_=I).\u0275fac=function(v){return new(v||_)},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),I})();var Jr=function(_){return _[_.COMPLETE=0]="COMPLETE",_[_.FAILED=1]="FAILED",_[_.REDIRECTING=2]="REDIRECTING",_}(Jr||{});function ta(_,I){_.events.pipe((0,De.h)(T=>T instanceof xi||T instanceof Vr||T instanceof _i||T instanceof ms),(0,K.U)(T=>T instanceof xi||T instanceof ms?Jr.COMPLETE:T instanceof Vr&&(0===T.code||1===T.code)?Jr.REDIRECTING:Jr.FAILED),(0,De.h)(T=>T!==Jr.REDIRECTING),(0,un.q)(1)).subscribe(()=>{I()})}function Ii(_){throw _}function na(_,I,T){return I.parse("/")}const ra={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ya={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mi=(()=>{var _;class I{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this.options=(0,h.f3M)(Qr,{optional:!0})||{},this.pendingTasks=(0,h.f3M)(h.HDt),this.errorHandler=this.options.errorHandler||Ii,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||na,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(Ci),this.routeReuseStrategy=(0,h.f3M)(zr),this.titleStrategy=(0,h.f3M)(Xt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,h.f3M)(ut,{optional:!0})?.flat()??[],this.navigationTransitions=(0,h.f3M)(_n),this.urlSerializer=(0,h.f3M)(ar),this.location=(0,h.f3M)(kn.Ye),this.componentInputBindingEnabled=!!(0,h.f3M)(Zn,{optional:!0}),this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new nn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Or(0,null),this.navigationTransitions.setupNavigations(this).subscribe(v=>{this.lastSuccessfulId=v.id,this.currentPageId=this.browserPageId??0},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)})}resetRootComponentType(v){this.routerState.root.component=v,this.navigationTransitions.rootComponentType=v}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const v=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ir,v)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const S="popstate"===v.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{this.navigateToSyncWithBrowser(v.url,S,v.state)},0)}))}navigateToSyncWithBrowser(v,S,z){const J={replaceUrl:!0},re=z?.navigationId?z:null;if(z){const mt={...z};delete mt.navigationId,delete mt.\u0275routerPageId,0!==Object.keys(mt).length&&(J.state=mt)}const Ze=this.parseUrl(v);this.scheduleNavigation(Ze,S,re,J)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(v){this.config=v.map(ys),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(v,S={}){const{relativeTo:z,queryParams:J,fragment:re,queryParamsHandling:Ze,preserveFragment:mt}=S,Sn=mt?this.currentUrlTree.fragment:re;let ur,zt=null;switch(Ze){case"merge":zt={...this.currentUrlTree.queryParams,...J};break;case"preserve":zt=this.currentUrlTree.queryParams;break;default:zt=J||null}null!==zt&&(zt=this.removeEmptyProps(zt));try{ur=sn(z?z.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof v[0]||!v[0].startsWith("/"))&&(v=[]),ur=this.currentUrlTree.root}return yn(ur,v,zt,Sn??null)}navigateByUrl(v,S={skipLocationChange:!1}){const z=Mt(v)?v:this.parseUrl(v),J=this.urlHandlingStrategy.merge(z,this.rawUrlTree);return this.scheduleNavigation(J,Ir,null,S)}navigate(v,S={skipLocationChange:!1}){return function xl(_){for(let I=0;I<_.length;I++)if(null==_[I])throw new h.vHH(4008,!1)}(v),this.navigateByUrl(this.createUrlTree(v,S),S)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let S;try{S=this.urlSerializer.parse(v)}catch(z){S=this.malformedUriErrorHandler(z,this.urlSerializer,v)}return S}isActive(v,S){let z;if(z=!0===S?{...ra}:!1===S?{...ya}:S,Mt(v))return Rn(this.currentUrlTree,v,z);const J=this.parseUrl(v);return Rn(this.currentUrlTree,J,z)}removeEmptyProps(v){return Object.keys(v).reduce((S,z)=>{const J=v[z];return null!=J&&(S[z]=J),S},{})}scheduleNavigation(v,S,z,J,re){if(this.disposed)return Promise.resolve(!1);let Ze,mt,Sn;re?(Ze=re.resolve,mt=re.reject,Sn=re.promise):Sn=new Promise((ur,gi)=>{Ze=ur,mt=gi});const zt=this.pendingTasks.add();return ta(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(zt))}),this.navigationTransitions.handleNavigationRequest({source:S,restoredState:z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:v,extras:J,resolve:Ze,reject:mt,promise:Sn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Sn.catch(ur=>Promise.reject(ur))}setBrowserUrl(v,S){const z=this.urlSerializer.serialize(v);if(this.location.isCurrentPathEqualTo(z)||S.extras.replaceUrl){const re={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId)};this.location.replaceState(z,"",re)}else{const J={...S.extras.state,...this.generateNgRouterState(S.id,(this.browserPageId??0)+1)};this.location.go(z,"",J)}}restoreHistory(v,S=!1){if("computed"===this.canceledNavigationResolution){const J=this.currentPageId-(this.browserPageId??this.currentPageId);0!==J?this.location.historyGo(J):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===J&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(v,S){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:S}:{navigationId:v}}}return(_=I).\u0275fac=function(v){return new(v||_)},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),I})(),tt=(()=>{var _;class I{constructor(v,S,z,J,re,Ze){this.router=v,this.route=S,this.tabIndexAttribute=z,this.renderer=J,this.el=re,this.locationStrategy=Ze,this.href=null,this.commands=null,this.onChanges=new Yn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const mt=re.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===mt||"area"===mt,this.isAnchorElement?this.subscription=v.events.subscribe(Sn=>{Sn instanceof xi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(v){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",v)}ngOnChanges(v){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(v){null!=v?(this.commands=Array.isArray(v)?v:[v],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(v,S,z,J,re){return!!(null===this.urlTree||this.isAnchorElement&&(0!==v||S||z||J||re||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const v=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",v)}applyAttributeValue(v,S){const z=this.renderer,J=this.el.nativeElement;null!==S?z.setAttribute(J,v,S):z.removeAttribute(J,v)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(_=I).\u0275fac=function(v){return new(v||_)(h.Y36(Mi),h.Y36(Jt),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(kn.S$))},_.\u0275dir=h.lG2({type:_,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(v,S){1&v&&h.NdJ("click",function(J){return S.onClick(J.button,J.ctrlKey,J.shiftKey,J.altKey,J.metaKey)}),2&v&&h.uIk("target",S.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",h.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",h.VuI],replaceUrl:["replaceUrl","replaceUrl",h.VuI],routerLink:"routerLink"},standalone:!0,features:[h.Xq5,h.TTD]}),I})();class _o{}let Ea=(()=>{var _;class I{constructor(v,S,z,J,re){this.router=v,this.injector=z,this.preloadingStrategy=J,this.loader=re}setUpPreloading(){this.subscription=this.router.events.pipe((0,De.h)(v=>v instanceof xi),Le(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,S){const z=[];for(const J of S){J.providers&&!J._injector&&(J._injector=(0,h.MMx)(J.providers,v,`Route: ${J.path}`));const re=J._injector??v,Ze=J._loadedInjector??re;(J.loadChildren&&!J._loadedRoutes&&void 0===J.canLoad||J.loadComponent&&!J._loadedComponent)&&z.push(this.preloadConfig(re,J)),(J.children||J._loadedRoutes)&&z.push(this.processRoutes(Ze,J.children??J._loadedRoutes))}return(0,ce.D)(z).pipe((0,Rt.J)())}preloadConfig(v,S){return this.preloadingStrategy.preload(S,()=>{let z;z=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(v,S):(0,de.of)(null);const J=z.pipe((0,Oe.z)(re=>null===re?(0,de.of)(void 0):(S._loadedRoutes=re.routes,S._loadedInjector=re.injector,this.processRoutes(re.injector??v,re.routes))));if(S.loadComponent&&!S._loadedComponent){const re=this.loader.loadComponent(S);return(0,ce.D)([J,re]).pipe((0,Rt.J)())}return J})}}return(_=I).\u0275fac=function(v){return new(v||_)(h.LFG(Mi),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(_o),h.LFG(wn))},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),I})();const Ri=new h.OlP("");let vo=(()=>{var _;class I{constructor(v,S,z,J,re={}){this.urlSerializer=v,this.transitions=S,this.viewportScroller=z,this.zone=J,this.options=re,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},re.scrollPositionRestoration=re.scrollPositionRestoration||"disabled",re.anchorScrolling=re.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof gs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof xi?(this.lastId=v.id,this.scheduleScrollEvent(v,this.urlSerializer.parse(v.urlAfterRedirects).fragment)):v instanceof ms&&0===v.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(v,this.urlSerializer.parse(v.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof Ke&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,S){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ke(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(_=I).\u0275fac=function(v){h.$Z()},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac}),I})();function Js(_,I){return{\u0275kind:_,\u0275providers:I}}function Tr(){const _=(0,h.f3M)(h.zs3);return I=>{const T=_.get(h.z2F);if(I!==T.components[0])return;const v=_.get(Mi),S=_.get(Ui);1===_.get(si)&&v.initialNavigation(),_.get(Xs,null,h.XFs.Optional)?.setUpPreloading(),_.get(Ri,null,h.XFs.Optional)?.init(),v.resetRootComponentType(T.componentTypes[0]),S.closed||(S.next(),S.complete(),S.unsubscribe())}}const Ui=new h.OlP("",{factory:()=>new Yn.x}),si=new h.OlP("",{providedIn:"root",factory:()=>1}),Xs=new h.OlP("");function ia(_){return Js(0,[{provide:Xs,useExisting:Ea},{provide:_o,useExisting:_}])}const Eo=new h.OlP("ROUTER_FORROOT_GUARD"),Da=[kn.Ye,{provide:ar,useClass:nr},Mi,vt,{provide:Jt,useFactory:function br(_){return _.routerState.root},deps:[Mi]},wn,[]];function za(){return new h.PXZ("Router",Mi)}let Ll=(()=>{var _;class I{constructor(v){}static forRoot(v,S){return{ngModule:I,providers:[Da,[],{provide:ut,multi:!0,useValue:v},{provide:Eo,useFactory:Di,deps:[[Mi,new h.FiY,new h.tp0]]},{provide:Qr,useValue:S||{}},S?.useHash?{provide:kn.S$,useClass:kn.Do}:{provide:kn.S$,useClass:kn.b0},{provide:Ri,useFactory:()=>{const _=(0,h.f3M)(kn.EM),I=(0,h.f3M)(h.R0b),T=(0,h.f3M)(Qr),v=(0,h.f3M)(_n),S=(0,h.f3M)(ar);return T.scrollOffset&&_.setOffset(T.scrollOffset),new vo(S,v,_,I,T)}},S?.preloadingStrategy?ia(S.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:za},S?.initialNavigation?Ls(S):[],S?.bindToComponentInputs?Js(8,[zi,{provide:Zn,useExisting:zi}]).\u0275providers:[],[{provide:Sr,useFactory:Tr},{provide:h.tb,multi:!0,useExisting:Sr}]]}}static forChild(v){return{ngModule:I,providers:[{provide:ut,multi:!0,useValue:v}]}}}return(_=I).\u0275fac=function(v){return new(v||_)(h.LFG(Eo,8))},_.\u0275mod=h.oAB({type:_}),_.\u0275inj=h.cJS({}),I})();function Di(_){return"guarded"}function Ls(_){return["disabled"===_.initialNavigation?Js(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const I=(0,h.f3M)(Mi);return()=>{I.setUpLocationChangeListener()}}},{provide:si,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?Js(2,[{provide:si,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:I=>{const T=I.get(kn.V_,Promise.resolve());return()=>T.then(()=>new Promise(v=>{const S=I.get(Mi),z=I.get(Ui);ta(S,()=>{v(!0)}),I.get(_n).afterPreactivation=()=>(v(!0),z.closed?(0,de.of)(void 0):z),S.initialNavigation()}))}}]).\u0275providers:[]]}const Sr=new h.OlP("")},106:(wt,Fe,F)=>{F.d(Fe,{Z:()=>dt});var h=F(58),oe=F(537),$=F(534),fe=F(676);class ce{constructor(ft,it){this._delegate=ft,this.firebase=it,(0,$._addComponent)(ft,new oe.wA("app-compat",()=>this,"PUBLIC")),this.container=ft.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ft){this._delegate.automaticDataCollectionEnabled=ft}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ft=>{this._delegate.checkDestroyed(),ft()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,$.deleteApp)(this._delegate)))}_getService(ft,it=$._DEFAULT_ENTRY_NAME){var Rt;this._delegate.checkDestroyed();const Tt=this._delegate.container.getProvider(ft);return!Tt.isInitialized()&&"EXPLICIT"===(null===(Rt=Tt.getComponent())||void 0===Rt?void 0:Rt.instantiationMode)&&Tt.initialize(),Tt.getImmediate({identifier:it})}_removeServiceInstance(ft,it=$._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ft).clearInstance(it)}_addComponent(ft){(0,$._addComponent)(this._delegate,ft)}_addOrOverwriteComponent(ft){(0,$._addOrOverwriteComponent)(this._delegate,ft)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function be(){const Xe=function xe(Xe){const ft={},it={__esModule:!0,initializeApp:function Ce(Ye,ht={}){const Re=$.initializeApp(Ye,ht);if((0,h.r3)(ft,Re.name))return ft[Re.name];const Nt=new Xe(Re,it);return ft[Re.name]=Nt,Nt},app:Tt,registerVersion:$.registerVersion,setLogLevel:$.setLogLevel,onLog:$.onLog,apps:null,SDK_VERSION:$.SDK_VERSION,INTERNAL:{registerComponent:function we(Ye){const ht=Ye.name,Re=ht.replace("-compat","");if($._registerComponent(Ye)&&"PUBLIC"===Ye.type){const Nt=(St=Tt())=>{if("function"!=typeof St[Re])throw _e.create("invalid-app-argument",{appName:ht});return St[Re]()};void 0!==Ye.serviceProps&&(0,h.ZB)(Nt,Ye.serviceProps),it[Re]=Nt,Xe.prototype[Re]=function(...St){return this._getService.bind(this,ht).apply(this,Ye.multipleInstances?St:[])}}return"PUBLIC"===Ye.type?it[Re]:null},removeApp:function Rt(Ye){delete ft[Ye]},useAsService:function Ue(Ye,ht){return"serverAuth"===ht?null:ht},modularAPIs:$}};function Tt(Ye){if(!(0,h.r3)(ft,Ye=Ye||$._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:Ye});return ft[Ye]}return it.default=it,Object.defineProperty(it,"apps",{get:function Be(){return Object.keys(ft).map(Ye=>ft[Ye])}}),Tt.App=Xe,it}(ce);return Xe.INTERNAL=Object.assign(Object.assign({},Xe.INTERNAL),{createFirebaseNamespace:be,extendNamespace:function ft(it){(0,h.ZB)(Xe,it)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Xe}(),ie=new fe.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){ie.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Xe=self.firebase.SDK_VERSION;Xe&&Xe.indexOf("LITE")>=0&&ie.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const dt=te;!function $e(Xe){(0,$.registerVersion)("@firebase/app-compat","0.2.13",Xe)}()},534:(wt,Fe,F)=>{F.r(Fe),F.d(Fe,{FirebaseError:()=>fe.ZR,SDK_VERSION:()=>$r,_DEFAULT_ENTRY_NAME:()=>Pt,_addComponent:()=>Rn,_addOrOverwriteComponent:()=>Cr,_apps:()=>Vt,_clearComponents:()=>Pn,_components:()=>An,_getProvider:()=>pn,_registerComponent:()=>Dn,_removeServiceInstance:()=>wi,deleteApp:()=>ar,getApp:()=>or,getApps:()=>wr,initializeApp:()=>bi,onLog:()=>vr,registerVersion:()=>$n,setLogLevel:()=>rn});var h=F(861),oe=F(537),$=F(676),fe=F(58);const ce=(Ve,Ae)=>Ae.some(nt=>Ve instanceof nt);let de,_e;const te=new WeakMap,ie=new WeakMap,ye=new WeakMap,Je=new WeakMap,$e=new WeakMap;let ft={get(Ve,Ae,nt){if(Ve instanceof IDBTransaction){if("done"===Ae)return ie.get(Ve);if("objectStoreNames"===Ae)return Ve.objectStoreNames||ye.get(Ve);if("store"===Ae)return nt.objectStoreNames[1]?void 0:nt.objectStore(nt.objectStoreNames[0])}return Ce(Ve[Ae])},set:(Ve,Ae,nt)=>(Ve[Ae]=nt,!0),has:(Ve,Ae)=>Ve instanceof IDBTransaction&&("done"===Ae||"store"===Ae)||Ae in Ve};function Tt(Ve){return"function"==typeof Ve?function Rt(Ve){return Ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function be(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ve)?function(...Ae){return Ve.apply(Be(this),Ae),Ce(te.get(this))}:function(...Ae){return Ce(Ve.apply(Be(this),Ae))}:function(Ae,...nt){const Mt=Ve.call(Be(this),Ae,...nt);return ye.set(Mt,Ae.sort?Ae.sort():[Ae]),Ce(Mt)}}(Ve):(Ve instanceof IDBTransaction&&function Xe(Ve){if(ie.has(Ve))return;const Ae=new Promise((nt,Mt)=>{const Kt=()=>{Ve.removeEventListener("complete",sn),Ve.removeEventListener("error",yn),Ve.removeEventListener("abort",yn)},sn=()=>{nt(),Kt()},yn=()=>{Mt(Ve.error||new DOMException("AbortError","AbortError")),Kt()};Ve.addEventListener("complete",sn),Ve.addEventListener("error",yn),Ve.addEventListener("abort",yn)});ie.set(Ve,Ae)}(Ve),ce(Ve,function xe(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ve,ft):Ve)}function Ce(Ve){if(Ve instanceof IDBRequest)return function dt(Ve){const Ae=new Promise((nt,Mt)=>{const Kt=()=>{Ve.removeEventListener("success",sn),Ve.removeEventListener("error",yn)},sn=()=>{nt(Ce(Ve.result)),Kt()},yn=()=>{Mt(Ve.error),Kt()};Ve.addEventListener("success",sn),Ve.addEventListener("error",yn)});return Ae.then(nt=>{nt instanceof IDBCursor&&te.set(nt,Ve)}).catch(()=>{}),$e.set(Ae,Ve),Ae}(Ve);if(Je.has(Ve))return Je.get(Ve);const Ae=Tt(Ve);return Ae!==Ve&&(Je.set(Ve,Ae),$e.set(Ae,Ve)),Ae}const Be=Ve=>$e.get(Ve),Ye=["get","getKey","getAll","getAllKeys","count"],ht=["put","add","delete","clear"],Re=new Map;function Nt(Ve,Ae){if(!(Ve instanceof IDBDatabase)||Ae in Ve||"string"!=typeof Ae)return;if(Re.get(Ae))return Re.get(Ae);const nt=Ae.replace(/FromIndex$/,""),Mt=Ae!==nt,Kt=ht.includes(nt);if(!(nt in(Mt?IDBIndex:IDBObjectStore).prototype)||!Kt&&!Ye.includes(nt))return;const sn=function(){var yn=(0,h.Z)(function*(sr,...qn){const Xr=this.transaction(sr,Kt?"readwrite":"readonly");let li=Xr.store;return Mt&&(li=li.index(qn.shift())),(yield Promise.all([li[nt](...qn),Kt&&Xr.done]))[0]});return function(qn){return yn.apply(this,arguments)}}();return Re.set(Ae,sn),sn}!function it(Ve){ft=Ve(ft)}(Ve=>({...Ve,get:(Ae,nt,Mt)=>Nt(Ae,nt)||Ve.get(Ae,nt,Mt),has:(Ae,nt)=>!!Nt(Ae,nt)||Ve.has(Ae,nt)}));class St{constructor(Ae){this.container=Ae}getPlatformInfoString(){return this.container.getProviders().map(nt=>{if(function jn(Ve){const Ae=Ve.getComponent();return"VERSION"===Ae?.type}(nt)){const Mt=nt.getImmediate();return`${Mt.library}/${Mt.version}`}return null}).filter(nt=>nt).join(" ")}}const Yn="@firebase/app",K=new $.Yd("@firebase/app"),Pt="[DEFAULT]",jt={[Yn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Vt=new Map,An=new Map;function Rn(Ve,Ae){try{Ve.container.addComponent(Ae)}catch(nt){K.debug(`Component ${Ae.name} failed to register with FirebaseApp ${Ve.name}`,nt)}}function Cr(Ve,Ae){Ve.container.addOrOverwriteComponent(Ae)}function Dn(Ve){const Ae=Ve.name;if(An.has(Ae))return K.debug(`There were multiple attempts to register component ${Ae}.`),!1;An.set(Ae,Ve);for(const nt of Vt.values())Rn(nt,Ve);return!0}function pn(Ve,Ae){const nt=Ve.container.getProvider("heartbeat").getImmediate({optional:!0});return nt&&nt.triggerHeartbeat(),Ve.container.getProvider(Ae)}function wi(Ve,Ae,nt=Pt){pn(Ve,Ae).clearInstance(nt)}function Pn(){An.clear()}const nn=new fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class fn{constructor(Ae,nt,Mt){this._isDeleted=!1,this._options=Object.assign({},Ae),this._config=Object.assign({},nt),this._name=nt.name,this._automaticDataCollectionEnabled=nt.automaticDataCollectionEnabled,this._container=Mt,this.container.addComponent(new oe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ae){this._isDeleted=Ae}checkDestroyed(){if(this.isDeleted)throw nn.create("app-deleted",{appName:this._name})}}const $r="9.23.0";function bi(Ve,Ae={}){let nt=Ve;"object"!=typeof Ae&&(Ae={name:Ae});const Mt=Object.assign({name:Pt,automaticDataCollectionEnabled:!1},Ae),Kt=Mt.name;if("string"!=typeof Kt||!Kt)throw nn.create("bad-app-name",{appName:String(Kt)});if(nt||(nt=(0,fe.aH)()),!nt)throw nn.create("no-options");const sn=Vt.get(Kt);if(sn){if((0,fe.vZ)(nt,sn.options)&&(0,fe.vZ)(Mt,sn.config))return sn;throw nn.create("duplicate-app",{appName:Kt})}const yn=new oe.H0(Kt);for(const qn of An.values())yn.addComponent(qn);const sr=new fn(nt,Mt,yn);return Vt.set(Kt,sr),sr}function or(Ve=Pt){const Ae=Vt.get(Ve);if(!Ae&&Ve===Pt&&(0,fe.aH)())return bi();if(!Ae)throw nn.create("no-app",{appName:Ve});return Ae}function wr(){return Array.from(Vt.values())}function ar(Ve){return nr.apply(this,arguments)}function nr(){return(nr=(0,h.Z)(function*(Ve){const Ae=Ve.name;Vt.has(Ae)&&(Vt.delete(Ae),yield Promise.all(Ve.container.getProviders().map(nt=>nt.delete())),Ve.isDeleted=!0)})).apply(this,arguments)}function $n(Ve,Ae,nt){var Mt;let Kt=null!==(Mt=jt[Ve])&&void 0!==Mt?Mt:Ve;nt&&(Kt+=`-${nt}`);const sn=Kt.match(/\s|\//),yn=Ae.match(/\s|\//);if(sn||yn){const sr=[`Unable to register library "${Kt}" with version "${Ae}":`];return sn&&sr.push(`library name "${Kt}" contains illegal characters (whitespace or "/")`),sn&&yn&&sr.push("and"),yn&&sr.push(`version name "${Ae}" contains illegal characters (whitespace or "/")`),void K.warn(sr.join(" "))}Dn(new oe.wA(`${Kt}-version`,()=>({library:Kt,version:Ae}),"VERSION"))}function vr(Ve,Ae){if(null!==Ve&&"function"!=typeof Ve)throw nn.create("invalid-log-argument");(0,$.Am)(Ve,Ae)}function rn(Ve){(0,$.Ub)(Ve)}const dr="firebase-heartbeat-database",en=1,se="firebase-heartbeat-store";let H=null;function V(){return H||(H=function we(Ve,Ae,{blocked:nt,upgrade:Mt,blocking:Kt,terminated:sn}={}){const yn=indexedDB.open(Ve,Ae),sr=Ce(yn);return Mt&&yn.addEventListener("upgradeneeded",qn=>{Mt(Ce(yn.result),qn.oldVersion,qn.newVersion,Ce(yn.transaction),qn)}),nt&&yn.addEventListener("blocked",qn=>nt(qn.oldVersion,qn.newVersion,qn)),sr.then(qn=>{sn&&qn.addEventListener("close",()=>sn()),Kt&&qn.addEventListener("versionchange",Xr=>Kt(Xr.oldVersion,Xr.newVersion,Xr))}).catch(()=>{}),sr}(dr,en,{upgrade:(Ve,Ae)=>{0===Ae&&Ve.createObjectStore(se)}}).catch(Ve=>{throw nn.create("idb-open",{originalErrorMessage:Ve.message})})),H}function W(){return(W=(0,h.Z)(function*(Ve){try{return yield(yield V()).transaction(se).objectStore(se).get(at(Ve))}catch(Ae){if(Ae instanceof fe.ZR)K.warn(Ae.message);else{const nt=nn.create("idb-get",{originalErrorMessage:Ae?.message});K.warn(nt.message)}}})).apply(this,arguments)}function pe(Ve,Ae){return ke.apply(this,arguments)}function ke(){return(ke=(0,h.Z)(function*(Ve,Ae){try{const Mt=(yield V()).transaction(se,"readwrite");yield Mt.objectStore(se).put(Ae,at(Ve)),yield Mt.done}catch(nt){if(nt instanceof fe.ZR)K.warn(nt.message);else{const Mt=nn.create("idb-set",{originalErrorMessage:nt?.message});K.warn(Mt.message)}}})).apply(this,arguments)}function at(Ve){return`${Ve.name}!${Ve.options.appId}`}class bt{constructor(Ae){this.container=Ae,this._heartbeatsCache=null;const nt=this.container.getProvider("app").getImmediate();this._storage=new lr(nt),this._heartbeatsCachePromise=this._storage.read().then(Mt=>(this._heartbeatsCache=Mt,Mt))}triggerHeartbeat(){var Ae=this;return(0,h.Z)(function*(){const Mt=Ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Kt=Yt();if(null===Ae._heartbeatsCache&&(Ae._heartbeatsCache=yield Ae._heartbeatsCachePromise),Ae._heartbeatsCache.lastSentHeartbeatDate!==Kt&&!Ae._heartbeatsCache.heartbeats.some(sn=>sn.date===Kt))return Ae._heartbeatsCache.heartbeats.push({date:Kt,agent:Mt}),Ae._heartbeatsCache.heartbeats=Ae._heartbeatsCache.heartbeats.filter(sn=>{const yn=new Date(sn.date).valueOf();return Date.now()-yn<=2592e6}),Ae._storage.overwrite(Ae._heartbeatsCache)})()}getHeartbeatsHeader(){var Ae=this;return(0,h.Z)(function*(){if(null===Ae._heartbeatsCache&&(yield Ae._heartbeatsCachePromise),null===Ae._heartbeatsCache||0===Ae._heartbeatsCache.heartbeats.length)return"";const nt=Yt(),{heartbeatsToSend:Mt,unsentEntries:Kt}=function tr(Ve,Ae=1024){const nt=[];let Mt=Ve.slice();for(const Kt of Ve){const sn=nt.find(yn=>yn.agent===Kt.agent);if(sn){if(sn.dates.push(Kt.date),Lr(nt)>Ae){sn.dates.pop();break}}else if(nt.push({agent:Kt.agent,dates:[Kt.date]}),Lr(nt)>Ae){nt.pop();break}Mt=Mt.slice(1)}return{heartbeatsToSend:nt,unsentEntries:Mt}}(Ae._heartbeatsCache.heartbeats),sn=(0,fe.L)(JSON.stringify({version:2,heartbeats:Mt}));return Ae._heartbeatsCache.lastSentHeartbeatDate=nt,Kt.length>0?(Ae._heartbeatsCache.heartbeats=Kt,yield Ae._storage.overwrite(Ae._heartbeatsCache)):(Ae._heartbeatsCache.heartbeats=[],Ae._storage.overwrite(Ae._heartbeatsCache)),sn})()}}function Yt(){return(new Date).toISOString().substring(0,10)}class lr{constructor(Ae){this.app=Ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,fe.hl)()&&(0,fe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ae=this;return(0,h.Z)(function*(){return(yield Ae._canUseIndexedDBPromise)&&(yield function ne(Ve){return W.apply(this,arguments)}(Ae.app))||{heartbeats:[]}})()}overwrite(Ae){var nt=this;return(0,h.Z)(function*(){var Mt;if(yield nt._canUseIndexedDBPromise){const sn=yield nt.read();return pe(nt.app,{lastSentHeartbeatDate:null!==(Mt=Ae.lastSentHeartbeatDate)&&void 0!==Mt?Mt:sn.lastSentHeartbeatDate,heartbeats:Ae.heartbeats})}})()}add(Ae){var nt=this;return(0,h.Z)(function*(){var Mt;if(yield nt._canUseIndexedDBPromise){const sn=yield nt.read();return pe(nt.app,{lastSentHeartbeatDate:null!==(Mt=Ae.lastSentHeartbeatDate)&&void 0!==Mt?Mt:sn.lastSentHeartbeatDate,heartbeats:[...sn.heartbeats,...Ae.heartbeats]})}})()}}function Lr(Ve){return(0,fe.L)(JSON.stringify({version:2,heartbeats:Ve})).length}!function gr(Ve){Dn(new oe.wA("platform-logger",Ae=>new St(Ae),"PRIVATE")),Dn(new oe.wA("heartbeat",Ae=>new bt(Ae),"PRIVATE")),$n(Yn,"0.9.13",Ve),$n(Yn,"0.9.13","esm2017"),$n("fire-js","")}("")},537:(wt,Fe,F)=>{F.d(Fe,{H0:()=>xe,wA:()=>$,zt:()=>ce});var h=F(861),oe=F(58);class ${constructor(te,ie,ye){this.name=te,this.instanceFactory=ie,this.type=ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const fe="[DEFAULT]";class ce{constructor(te,ie){this.name=te,this.container=ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const ie=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(ie)){const ye=new oe.BH;if(this.instancesDeferred.set(ie,ye),this.isInitialized(ie)||this.shouldAutoInitialize())try{const Je=this.getOrInitializeService({instanceIdentifier:ie});Je&&ye.resolve(Je)}catch{}}return this.instancesDeferred.get(ie).promise}getImmediate(te){var ie;const ye=this.normalizeInstanceIdentifier(te?.identifier),Je=null!==(ie=te?.optional)&&void 0!==ie&&ie;if(!this.isInitialized(ye)&&!this.shouldAutoInitialize()){if(Je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ye})}catch($e){if(Je)return null;throw $e}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function _e(be){return"EAGER"===be.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:fe})}catch{}for(const[ie,ye]of this.instancesDeferred.entries()){const Je=this.normalizeInstanceIdentifier(ie);try{const $e=this.getOrInitializeService({instanceIdentifier:Je});ye.resolve($e)}catch{}}}}clearInstance(te=fe){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,h.Z)(function*(){const ie=Array.from(te.instances.values());yield Promise.all([...ie.filter(ye=>"INTERNAL"in ye).map(ye=>ye.INTERNAL.delete()),...ie.filter(ye=>"_delete"in ye).map(ye=>ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=fe){return this.instances.has(te)}getOptions(te=fe){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:ie={}}=te,ye=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(ye))throw Error(`${this.name}(${ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Je=this.getOrInitializeService({instanceIdentifier:ye,options:ie});for(const[$e,dt]of this.instancesDeferred.entries())ye===this.normalizeInstanceIdentifier($e)&&dt.resolve(Je);return Je}onInit(te,ie){var ye;const Je=this.normalizeInstanceIdentifier(ie),$e=null!==(ye=this.onInitCallbacks.get(Je))&&void 0!==ye?ye:new Set;$e.add(te),this.onInitCallbacks.set(Je,$e);const dt=this.instances.get(Je);return dt&&te(dt,Je),()=>{$e.delete(te)}}invokeOnInitCallbacks(te,ie){const ye=this.onInitCallbacks.get(ie);if(ye)for(const Je of ye)try{Je(te,ie)}catch{}}getOrInitializeService({instanceIdentifier:te,options:ie={}}){let ye=this.instances.get(te);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:(be=te,be===fe?void 0:be),options:ie}),this.instances.set(te,ye),this.instancesOptions.set(te,ie),this.invokeOnInitCallbacks(ye,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,ye)}catch{}var be;return ye||null}normalizeInstanceIdentifier(te=fe){return this.component?this.component.multipleInstances?te:fe:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xe{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const ie=this.getProvider(te.name);if(ie.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);ie.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const ie=new ce(te,this);return this.providers.set(te,ie),ie}getProviders(){return Array.from(this.providers.values())}}},676:(wt,Fe,F)=>{F.d(Fe,{Am:()=>be,Ub:()=>xe,Yd:()=>_e,in:()=>oe});const h=[];var oe=function(te){return te[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",te}(oe||{});const $={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},fe=oe.INFO,ce={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},de=(te,ie,...ye)=>{if(ie<te.logLevel)return;const Je=(new Date).toISOString(),$e=ce[ie];if(!$e)throw new Error(`Attempted to log a message with an invalid logType (value: ${ie})`);console[$e](`[${Je}]  ${te.name}:`,...ye)};class _e{constructor(ie){this.name=ie,this._logLevel=fe,this._logHandler=de,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(ie){if(!(ie in oe))throw new TypeError(`Invalid value "${ie}" assigned to \`logLevel\``);this._logLevel=ie}setLogLevel(ie){this._logLevel="string"==typeof ie?$[ie]:ie}get logHandler(){return this._logHandler}set logHandler(ie){if("function"!=typeof ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(ie){this._userLogHandler=ie}debug(...ie){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...ie),this._logHandler(this,oe.DEBUG,...ie)}log(...ie){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...ie),this._logHandler(this,oe.VERBOSE,...ie)}info(...ie){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...ie),this._logHandler(this,oe.INFO,...ie)}warn(...ie){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...ie),this._logHandler(this,oe.WARN,...ie)}error(...ie){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...ie),this._logHandler(this,oe.ERROR,...ie)}}function xe(te){h.forEach(ie=>{ie.setLogLevel(te)})}function be(te,ie){for(const ye of h){let Je=null;ie&&ie.level&&(Je=$[ie.level]),ye.userLogHandler=null===te?null:($e,dt,...Xe)=>{const ft=Xe.map(it=>{if(null==it)return null;if("string"==typeof it)return it;if("number"==typeof it||"boolean"==typeof it)return it.toString();if(it instanceof Error)return it.message;try{return JSON.stringify(it)}catch{return null}}).filter(it=>it).join(" ");dt>=(Je??$e.logLevel)&&te({level:oe[dt].toLowerCase(),message:ft,args:Xe,type:$e.name})}}}},182:(wt,Fe,F)=>{F.d(Fe,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=F(534);(0,h.registerVersion)("firebase","9.23.0","app")},142:(wt,Fe,F)=>{F.d(Fe,{Z:()=>h.Z});var h=F(106);h.Z.registerVersion("firebase","9.23.0","app-compat")},967:(wt,Fe,F)=>{F.r(Fe);var h=F(861),oe=F(106),$=F(58),fe=F(534),ce=F(7582),de=F(676),_e=F(537);const be={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const dt=function Je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Xe=function $e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ft=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Rt=new de.Yd("@firebase/auth");function Ce(p,...l){Rt.logLevel<=de.in.ERROR&&Rt.error(`Auth (${fe.SDK_VERSION}): ${p}`,...l)}function Be(p,...l){throw ht(p,...l)}function we(p,...l){return ht(p,...l)}function Ue(p,l,c){const m=Object.assign(Object.assign({},Xe()),{[l]:c});return new $.LL("auth","Firebase",m).create(l,{appName:p.name})}function Ye(p,l,c){if(!(l instanceof c))throw c.name!==l.constructor.name&&Be(p,"argument-error"),Ue(p,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ht(p,...l){if("string"!=typeof p){const c=l[0],m=[...l.slice(1)];return m[0]&&(m[0].appName=p.name),p._errorFactory.create(c,...m)}return ft.create(p,...l)}function Re(p,l,...c){if(!p)throw ht(l,...c)}function Nt(p){const l="INTERNAL ASSERTION FAILED: "+p;throw Ce(l),new Error(l)}function St(p,l){p||Nt(l)}function jn(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function Yn(){return"http:"===kn()||"https:"===kn()}function kn(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class un{constructor(l,c){this.shortDelay=l,this.longDelay=c,St(c>l,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function K(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Yn()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ie(p,l){St(p.emulator,"Emulator should always be set here");const{url:c}=p.emulator;return l?`${c}${l.startsWith("/")?l.slice(1):l}`:c}class De{static initialize(l,c,m){this.fetchImpl=l,c&&(this.headersImpl=c),m&&(this.responseImpl=m)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Oe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ne=new un(3e4,6e4);function Le(p,l){return p.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:p.tenantId}):l}function Pe(p,l,c,m){return st.apply(this,arguments)}function st(){return(st=(0,h.Z)(function*(p,l,c,m,x={}){return Et(p,x,(0,h.Z)(function*(){let U={},ue={};m&&("GET"===l?ue=m:U={body:JSON.stringify(m)});const Te=(0,$.xO)(Object.assign({key:p.config.apiKey},ue)).slice(1),ct=yield p._getAdditionalHeaders();return ct["Content-Type"]="application/json",p.languageCode&&(ct["X-Firebase-Locale"]=p.languageCode),De.fetch()(Gt(p,p.config.apiHost,c,Te),Object.assign({method:l,headers:ct,referrerPolicy:"no-referrer"},U))}))})).apply(this,arguments)}function Et(p,l,c){return gn.apply(this,arguments)}function gn(){return(gn=(0,h.Z)(function*(p,l,c){p._canInitEmulator=!1;const m=Object.assign(Object.assign({},Oe),l);try{const x=new Tn(p),U=yield Promise.race([c(),x.promise]);x.clearNetworkTimeout();const ue=yield U.json();if("needConfirmation"in ue)throw In(p,"account-exists-with-different-credential",ue);if(U.ok&&!("errorMessage"in ue))return ue;{const Te=U.ok?ue.errorMessage:ue.error.message,[ct,yt]=Te.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ct)throw In(p,"credential-already-in-use",ue);if("EMAIL_EXISTS"===ct)throw In(p,"email-already-in-use",ue);if("USER_DISABLED"===ct)throw In(p,"user-disabled",ue);const Ft=m[ct]||ct.toLowerCase().replace(/[_\s]+/g,"-");if(yt)throw Ue(p,Ft,yt);Be(p,Ft)}}catch(x){if(x instanceof $.ZR)throw x;Be(p,"network-request-failed",{message:String(x)})}})).apply(this,arguments)}function At(p,l,c,m){return an.apply(this,arguments)}function an(){return(an=(0,h.Z)(function*(p,l,c,m,x={}){const U=yield Pe(p,l,c,m,x);return"mfaPendingCredential"in U&&Be(p,"multi-factor-auth-required",{_serverResponse:U}),U})).apply(this,arguments)}function Gt(p,l,c,m){const x=`${l}${c}?${m}`;return p.config.emulator?Ie(p.config,x):`${p.config.apiScheme}://${x}`}class Tn{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((c,m)=>{this.timer=setTimeout(()=>m(we(this.auth,"network-request-failed")),Ne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function In(p,l,c){const m={appName:p.name};c.email&&(m.email=c.email),c.phoneNumber&&(m.phoneNumber=c.phoneNumber);const x=we(p,l,m);return x.customData._tokenResponse=c,x}function lt(){return(lt=(0,h.Z)(function*(p,l){return Pe(p,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function er(){return(er=(0,h.Z)(function*(p,l){return Pe(p,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Ht(){return(Ht=(0,h.Z)(function*(p,l){return Pe(p,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function Nn(p){if(p)try{const l=new Date(Number(p));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function Pt(){return(Pt=(0,h.Z)(function*(p,l=!1){const c=(0,$.m9)(p),m=yield c.getIdToken(l),x=Vt(m);Re(x&&x.exp&&x.auth_time&&x.iat,c.auth,"internal-error");const U="object"==typeof x.firebase?x.firebase:void 0,ue=U?.sign_in_provider;return{claims:x,token:m,authTime:Nn(jt(x.auth_time)),issuedAtTime:Nn(jt(x.iat)),expirationTime:Nn(jt(x.exp)),signInProvider:ue||null,signInSecondFactor:U?.sign_in_second_factor||null}})).apply(this,arguments)}function jt(p){return 1e3*Number(p)}function Vt(p){const[l,c,m]=p.split(".");if(void 0===l||void 0===c||void 0===m)return Ce("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,$.tV)(c);return x?JSON.parse(x):(Ce("Failed to decode base64 JWT payload"),null)}catch(x){return Ce("Caught error parsing JWT payload as JSON",x?.toString()),null}}function Rn(p,l){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,h.Z)(function*(p,l,c=!1){if(c)return l;try{return yield l}catch(m){throw m instanceof $.ZR&&function Dn({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(m)&&p.auth.currentUser===p&&(yield p.auth.signOut()),m}})).apply(this,arguments)}class pn{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var c;if(l){const m=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),m}{this.errorBackoff=3e4;const x=(null!==(c=this.user.stsTokenManager.expirationTime)&&void 0!==c?c:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(l=!1){var c=this;if(!this.isRunning)return;const m=this.getInterval(l);this.timerId=setTimeout((0,h.Z)(function*(){yield c.iteration()}),m)}iteration(){var l=this;return(0,h.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(c){return void("auth/network-request-failed"===c?.code&&l.schedule(!0))}l.schedule()})()}}class wi{constructor(l,c){this.createdAt=l,this.lastLoginAt=c,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nn(this.lastLoginAt),this.creationTime=Nn(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pn(p){return pr.apply(this,arguments)}function pr(){return pr=(0,h.Z)(function*(p){var l;const c=p.auth,m=yield p.getIdToken(),x=yield Rn(p,function cn(p,l){return Ht.apply(this,arguments)}(c,{idToken:m}));Re(x?.users.length,c,"internal-error");const U=x.users[0];p._notifyReloadListener(U);const ue=null!==(l=U.providerUserInfo)&&void 0!==l&&l.length?function bi(p){return p.map(l=>{var{providerId:c}=l,m=(0,ce._T)(l,["providerId"]);return{providerId:c,uid:m.rawId||"",displayName:m.displayName||null,email:m.email||null,phoneNumber:m.phoneNumber||null,photoURL:m.photoUrl||null}})}(U.providerUserInfo):[],Te=function $r(p,l){return[...p.filter(m=>!l.some(x=>x.providerId===m.providerId)),...l]}(p.providerData,ue),Ft=!!p.isAnonymous&&!(p.email&&U.passwordHash||Te?.length),$t={uid:U.localId,displayName:U.displayName||null,photoURL:U.photoUrl||null,email:U.email||null,emailVerified:U.emailVerified||!1,phoneNumber:U.phoneNumber||null,tenantId:U.tenantId||null,providerData:Te,metadata:new wi(U.createdAt,U.lastLoginAt),isAnonymous:Ft};Object.assign(p,$t)}),pr.apply(this,arguments)}function fn(){return(fn=(0,h.Z)(function*(p){const l=(0,$.m9)(p);yield Pn(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function wr(){return(wr=(0,h.Z)(function*(p,l){const c=yield Et(p,{},(0,h.Z)(function*(){const m=(0,$.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:x,apiKey:U}=p.config,ue=Gt(p,x,"/v1/token",`key=${U}`),Te=yield p._getAdditionalHeaders();return Te["Content-Type"]="application/x-www-form-urlencoded",De.fetch()(ue,{method:"POST",headers:Te,body:m})}));return{accessToken:c.access_token,expiresIn:c.expires_in,refreshToken:c.refresh_token}})).apply(this,arguments)}class ar{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){Re(l.idToken,"internal-error"),Re(typeof l.idToken<"u","internal-error"),Re(typeof l.refreshToken<"u","internal-error");const c="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function An(p){const l=Vt(p);return Re(l,"internal-error"),Re(typeof l.exp<"u","internal-error"),Re(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,c)}getToken(l,c=!1){var m=this;return(0,h.Z)(function*(){return Re(!m.accessToken||m.refreshToken,l,"user-token-expired"),c||!m.accessToken||m.isExpired?m.refreshToken?(yield m.refresh(l,m.refreshToken),m.accessToken):null:m.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,c){var m=this;return(0,h.Z)(function*(){const{accessToken:x,refreshToken:U,expiresIn:ue}=yield function or(p,l){return wr.apply(this,arguments)}(l,c);m.updateTokensAndExpiration(x,U,Number(ue))})()}updateTokensAndExpiration(l,c,m){this.refreshToken=c||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*m}static fromJSON(l,c){const{refreshToken:m,accessToken:x,expirationTime:U}=c,ue=new ar;return m&&(Re("string"==typeof m,"internal-error",{appName:l}),ue.refreshToken=m),x&&(Re("string"==typeof x,"internal-error",{appName:l}),ue.accessToken=x),U&&(Re("number"==typeof U,"internal-error",{appName:l}),ue.expirationTime=U),ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new ar,this.toJSON())}_performRefresh(){return Nt("not implemented")}}function nr(p,l){Re("string"==typeof p||typeof p>"u","internal-error",{appName:l})}class $n{constructor(l){var{uid:c,auth:m,stsTokenManager:x}=l,U=(0,ce._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=c,this.auth=m,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=U.displayName||null,this.email=U.email||null,this.emailVerified=U.emailVerified||!1,this.phoneNumber=U.phoneNumber||null,this.photoURL=U.photoURL||null,this.isAnonymous=U.isAnonymous||!1,this.tenantId=U.tenantId||null,this.providerData=U.providerData?[...U.providerData]:[],this.metadata=new wi(U.createdAt||void 0,U.lastLoginAt||void 0)}getIdToken(l){var c=this;return(0,h.Z)(function*(){const m=yield Rn(c,c.stsTokenManager.getToken(c.auth,l));return Re(m,c.auth,"internal-error"),c.accessToken!==m&&(c.accessToken=m,yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)),m})()}getIdTokenResult(l){return function jr(p){return Pt.apply(this,arguments)}(this,l)}reload(){return function nn(p){return fn.apply(this,arguments)}(this)}_assign(l){this!==l&&(Re(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(c=>Object.assign({},c)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const c=new $n(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}));return c.metadata._copy(this.metadata),c}_onReload(l){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,c=!1){var m=this;return(0,h.Z)(function*(){let x=!1;l.idToken&&l.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(l),x=!0),c&&(yield Pn(m)),yield m.auth._persistUserIfCurrent(m),x&&m.auth._notifyListenersIfCurrent(m)})()}delete(){var l=this;return(0,h.Z)(function*(){const c=yield l.getIdToken();return yield Rn(l,function Ln(p,l){return lt.apply(this,arguments)}(l.auth,{idToken:c})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,c){var m,x,U,ue,Te,ct,yt,Ft;const $t=null!==(m=c.displayName)&&void 0!==m?m:void 0,kr=null!==(x=c.email)&&void 0!==x?x:void 0,bo=null!==(U=c.phoneNumber)&&void 0!==U?U:void 0,iu=null!==(ue=c.photoURL)&&void 0!==ue?ue:void 0,Wu=null!==(Te=c.tenantId)&&void 0!==Te?Te:void 0,wu=null!==(ct=c._redirectEventId)&&void 0!==ct?ct:void 0,Gu=null!==(yt=c.createdAt)&&void 0!==yt?yt:void 0,Cc=null!==(Ft=c.lastLoginAt)&&void 0!==Ft?Ft:void 0,{uid:wl,emailVerified:bl,isAnonymous:zu,providerData:Tl,stsTokenManager:su}=c;Re(wl&&su,l,"internal-error");const Ic=ar.fromJSON(this.name,su);Re("string"==typeof wl,l,"internal-error"),nr($t,l.name),nr(kr,l.name),Re("boolean"==typeof bl,l,"internal-error"),Re("boolean"==typeof zu,l,"internal-error"),nr(bo,l.name),nr(iu,l.name),nr(Wu,l.name),nr(wu,l.name),nr(Gu,l.name),nr(Cc,l.name);const ou=new $n({uid:wl,auth:l,email:kr,emailVerified:bl,displayName:$t,isAnonymous:zu,photoURL:iu,phoneNumber:bo,tenantId:Wu,stsTokenManager:Ic,createdAt:Gu,lastLoginAt:Cc});return Tl&&Array.isArray(Tl)&&(ou.providerData=Tl.map(au=>Object.assign({},au))),wu&&(ou._redirectEventId=wu),ou}static _fromIdTokenResponse(l,c,m=!1){return(0,h.Z)(function*(){const x=new ar;x.updateFromServerResponse(c);const U=new $n({uid:c.localId,auth:l,stsTokenManager:x,isAnonymous:m});return yield Pn(U),U})()}}const vr=new Map;function rn(p){St(p instanceof Function,"Expected a class definition");let l=vr.get(p);return l?(St(l instanceof p,"Instance stored in cache mismatched with class"),l):(l=new p,vr.set(p,l),l)}const en=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(c,m){var x=this;return(0,h.Z)(function*(){x.storage[c]=m})()}_get(c){var m=this;return(0,h.Z)(function*(){const x=m.storage[c];return void 0===x?null:x})()}_remove(c){var m=this;return(0,h.Z)(function*(){delete m.storage[c]})()}_addListener(c,m){}_removeListener(c,m){}}return p.type="NONE",p})();function se(p,l,c){return`firebase:${p}:${l}:${c}`}class H{constructor(l,c,m){this.persistence=l,this.auth=c,this.userKey=m;const{config:x,name:U}=this.auth;this.fullUserKey=se(this.userKey,x.apiKey,U),this.fullPersistenceKey=se("persistence",x.apiKey,U),this.boundEventHandler=c._onStorageEvent.bind(c),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,h.Z)(function*(){const c=yield l.persistence._get(l.fullUserKey);return c?$n._fromJSON(l.auth,c):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var c=this;return(0,h.Z)(function*(){if(c.persistence===l)return;const m=yield c.getCurrentUser();return yield c.removeCurrentUser(),c.persistence=l,m?c.setCurrentUser(m):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,c,m="authUser"){return(0,h.Z)(function*(){if(!c.length)return new H(rn(en),l,m);const x=(yield Promise.all(c.map(function(){var yt=(0,h.Z)(function*(Ft){if(yield Ft._isAvailable())return Ft});return function(Ft){return yt.apply(this,arguments)}}()))).filter(yt=>yt);let U=x[0]||rn(en);const ue=se(m,l.config.apiKey,l.name);let Te=null;for(const yt of c)try{const Ft=yield yt._get(ue);if(Ft){const $t=$n._fromJSON(l,Ft);yt!==U&&(Te=$t),U=yt;break}}catch{}const ct=x.filter(yt=>yt._shouldAllowMigration);return U._shouldAllowMigration&&ct.length?(U=ct[0],Te&&(yield U._set(ue,Te.toJSON())),yield Promise.all(c.map(function(){var yt=(0,h.Z)(function*(Ft){if(Ft!==U)try{yield Ft._remove(ue)}catch{}});return function(Ft){return yt.apply(this,arguments)}}())),new H(U,l,m)):new H(U,l,m)})()}}function V(p){const l=p.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(ke(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(ne(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(Dt(l))return"Blackberry";if(Ut(l))return"Webos";if(W(l))return"Safari";if((l.includes("chrome/")||pe(l))&&!l.includes("edge/"))return"Chrome";if(at(l))return"Android";{const m=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===m?.length)return m[1]}return"Other"}function ne(p=(0,$.z$)()){return/firefox\//i.test(p)}function W(p=(0,$.z$)()){const l=p.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function pe(p=(0,$.z$)()){return/crios\//i.test(p)}function ke(p=(0,$.z$)()){return/iemobile/i.test(p)}function at(p=(0,$.z$)()){return/android/i.test(p)}function Dt(p=(0,$.z$)()){return/blackberry/i.test(p)}function Ut(p=(0,$.z$)()){return/webos/i.test(p)}function bt(p=(0,$.z$)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function Lr(p=(0,$.z$)()){return bt(p)||at(p)||Ut(p)||Dt(p)||/windows phone/i.test(p)||ke(p)}function Ve(p,l=[]){let c;switch(p){case"Browser":c=V((0,$.z$)());break;case"Worker":c=`${V((0,$.z$)())}-${p}`;break;default:c=p}const m=l.length?l.join(","):"FirebaseCore-web";return`${c}/JsCore/${fe.SDK_VERSION}/${m}`}function nt(){return(nt=(0,h.Z)(function*(p){return(yield Pe(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Mt(p,l){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,h.Z)(function*(p,l){return Pe(p,"GET","/v2/recaptchaConfig",Le(p,l))})).apply(this,arguments)}function sn(p){return void 0!==p&&void 0!==p.getResponse}function yn(p){return void 0!==p&&void 0!==p.enterprise}class sr{constructor(l){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===l.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=l.recaptchaKey.split("/")[3],this.emailPasswordEnabled=l.recaptchaEnforcementState.some(c=>"EMAIL_PASSWORD_PROVIDER"===c.provider&&"OFF"!==c.enforcementState)}}function Xr(p){return new Promise((l,c)=>{const m=document.createElement("script");m.setAttribute("src",p),m.onload=l,m.onerror=x=>{const U=we("internal-error");U.customData=x,c(U)},m.type="text/javascript",m.charset="UTF-8",function qn(){var p,l;return null!==(l=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==l?l:document}().appendChild(m)})}function li(p){return`__${p}${Math.floor(1e6*Math.random())}`}class ps{constructor(l){this.type="recaptcha-enterprise",this.auth=Wn(l)}verify(l="verify",c=!1){var m=this;return(0,h.Z)(function*(){function U(){return U=(0,h.Z)(function*(Te){if(!c){if(null==Te.tenantId&&null!=Te._agentRecaptchaConfig)return Te._agentRecaptchaConfig.siteKey;if(null!=Te.tenantId&&void 0!==Te._tenantRecaptchaConfigs[Te.tenantId])return Te._tenantRecaptchaConfigs[Te.tenantId].siteKey}return new Promise(function(){var ct=(0,h.Z)(function*(yt,Ft){Mt(Te,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then($t=>{if(void 0!==$t.recaptchaKey){const kr=new sr($t);return null==Te.tenantId?Te._agentRecaptchaConfig=kr:Te._tenantRecaptchaConfigs[Te.tenantId]=kr,yt(kr.siteKey)}Ft(new Error("recaptcha Enterprise site key undefined"))}).catch($t=>{Ft($t)})});return function(yt,Ft){return ct.apply(this,arguments)}}())}),U.apply(this,arguments)}function ue(Te,ct,yt){const Ft=window.grecaptcha;yn(Ft)?Ft.enterprise.ready(()=>{Ft.enterprise.execute(Te,{action:l}).then($t=>{ct($t)}).catch(()=>{ct("NO_RECAPTCHA")})}):yt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Te,ct)=>{(function x(Te){return U.apply(this,arguments)})(m.auth).then(yt=>{if(!c&&yn(window.grecaptcha))ue(yt,Te,ct);else{if(typeof window>"u")return void ct(new Error("RecaptchaVerifier is only supported in browser"));Xr("https://www.google.com/recaptcha/enterprise.js?render="+yt).then(()=>{ue(yt,Te,ct)}).catch(Ft=>{ct(Ft)})}}).catch(yt=>{ct(yt)})})})()}}function Wr(p,l,c){return lo.apply(this,arguments)}function lo(){return(lo=(0,h.Z)(function*(p,l,c,m=!1){const x=new ps(p);let U;try{U=yield x.verify(c)}catch{U=yield x.verify(c,!0)}const ue=Object.assign({},l);return Object.assign(ue,m?{captchaResp:U}:{captchaResponse:U}),Object.assign(ue,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ue,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ue})).apply(this,arguments)}class ts{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,c){const m=U=>new Promise((ue,Te)=>{try{ue(l(U))}catch(ct){Te(ct)}});m.onAbort=c,this.queue.push(m);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(l){var c=this;return(0,h.Z)(function*(){if(c.auth.currentUser===l)return;const m=[];try{for(const x of c.queue)yield x(l),x.onAbort&&m.push(x.onAbort)}catch(x){m.reverse();for(const U of m)try{U()}catch{}throw c.auth._errorFactory.create("login-blocked",{originalMessage:x?.message})}})()}}class Gi{constructor(l,c,m,x){this.app=l,this.heartbeatServiceProvider=c,this.appCheckServiceProvider=m,this.config=x,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ei(this),this.idTokenSubscription=new ei(this),this.beforeStateQueue=new ts(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ft,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=x.sdkClientVersion}_initializeWithPersistence(l,c){var m=this;return c&&(this._popupRedirectResolver=rn(c)),this._initializationPromise=this.queue((0,h.Z)(function*(){var x,U;if(!m._deleted&&(m.persistenceManager=yield H.create(m,l),!m._deleted)){if(null!==(x=m._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield m._popupRedirectResolver._initialize(m)}catch{}yield m.initializeCurrentUser(c),m.lastNotifiedUid=(null===(U=m.currentUser)||void 0===U?void 0:U.uid)||null,!m._deleted&&(m._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,h.Z)(function*(){if(l._deleted)return;const c=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||c){if(l.currentUser&&c&&l.currentUser.uid===c.uid)return l._currentUser._assign(c),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(c,!0)}})()}initializeCurrentUser(l){var c=this;return(0,h.Z)(function*(){var m;const x=yield c.assertedPersistence.getCurrentUser();let U=x,ue=!1;if(l&&c.config.authDomain){yield c.getOrInitRedirectPersistenceManager();const Te=null===(m=c.redirectUser)||void 0===m?void 0:m._redirectEventId,ct=U?._redirectEventId,yt=yield c.tryRedirectSignIn(l);(!Te||Te===ct)&&yt?.user&&(U=yt.user,ue=!0)}if(!U)return c.directlySetCurrentUser(null);if(!U._redirectEventId){if(ue)try{yield c.beforeStateQueue.runMiddleware(U)}catch(Te){U=x,c._popupRedirectResolver._overrideRedirectResult(c,()=>Promise.reject(Te))}return U?c.reloadAndSetCurrentUserOrClear(U):c.directlySetCurrentUser(null)}return Re(c._popupRedirectResolver,c,"argument-error"),yield c.getOrInitRedirectPersistenceManager(),c.redirectUser&&c.redirectUser._redirectEventId===U._redirectEventId?c.directlySetCurrentUser(U):c.reloadAndSetCurrentUserOrClear(U)})()}tryRedirectSignIn(l){var c=this;return(0,h.Z)(function*(){let m=null;try{m=yield c._popupRedirectResolver._completeRedirectFn(c,l,!0)}catch{yield c._setRedirectUser(null)}return m})()}reloadAndSetCurrentUserOrClear(l){var c=this;return(0,h.Z)(function*(){try{yield Pn(l)}catch(m){if("auth/network-request-failed"!==m?.code)return c.directlySetCurrentUser(null)}return c.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function qt(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var l=this;return(0,h.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var c=this;return(0,h.Z)(function*(){const m=l?(0,$.m9)(l):null;return m&&Re(m.auth.config.apiKey===c.config.apiKey,c,"invalid-user-token"),c._updateCurrentUser(m&&m._clone(c))})()}_updateCurrentUser(l,c=!1){var m=this;return(0,h.Z)(function*(){if(!m._deleted)return l&&Re(m.tenantId===l.tenantId,m,"tenant-id-mismatch"),c||(yield m.beforeStateQueue.runMiddleware(l)),m.queue((0,h.Z)(function*(){yield m.directlySetCurrentUser(l),m.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,h.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var c=this;return this.queue((0,h.Z)(function*(){yield c.assertedPersistence.setPersistence(rn(l))}))}initializeRecaptchaConfig(){var l=this;return(0,h.Z)(function*(){const c=yield Mt(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),m=new sr(c);null==l.tenantId?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,m.emailPasswordEnabled&&new ps(l).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new $.LL("auth","Firebase",l())}onAuthStateChanged(l,c,m){return this.registerStateListener(this.authStateSubscription,l,c,m)}beforeAuthStateChanged(l,c){return this.beforeStateQueue.pushCallback(l,c)}onIdTokenChanged(l,c,m){return this.registerStateListener(this.idTokenSubscription,l,c,m)}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,c){var m=this;return(0,h.Z)(function*(){const x=yield m.getOrInitRedirectPersistenceManager(c);return null===l?x.removeCurrentUser():x.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var c=this;return(0,h.Z)(function*(){if(!c.redirectPersistenceManager){const m=l&&rn(l)||c._popupRedirectResolver;Re(m,c,"argument-error"),c.redirectPersistenceManager=yield H.create(c,[rn(m._redirectPersistence)],"redirectUser"),c.redirectUser=yield c.redirectPersistenceManager.getCurrentUser()}return c.redirectPersistenceManager})()}_redirectUserForId(l){var c=this;return(0,h.Z)(function*(){var m,x;return c._isInitialized&&(yield c.queue((0,h.Z)(function*(){}))),(null===(m=c._currentUser)||void 0===m?void 0:m._redirectEventId)===l?c._currentUser:(null===(x=c.redirectUser)||void 0===x?void 0:x._redirectEventId)===l?c.redirectUser:null})()}_persistUserIfCurrent(l){var c=this;return(0,h.Z)(function*(){if(l===c.currentUser)return c.queue((0,h.Z)(function*(){return c.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,c;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const m=null!==(c=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==c?c:null;this.lastNotifiedUid!==m&&(this.lastNotifiedUid=m,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,c,m,x){if(this._deleted)return()=>{};const U="function"==typeof c?c:c.next.bind(c),ue=this._isInitialized?Promise.resolve():this._initializationPromise;return Re(ue,this,"internal-error"),ue.then(()=>U(this.currentUser)),"function"==typeof c?l.addObserver(c,m,x):l.addObserver(c)}directlySetCurrentUser(l){var c=this;return(0,h.Z)(function*(){c.currentUser&&c.currentUser!==l&&c._currentUser._stopProactiveRefresh(),l&&c.isProactiveRefreshEnabled&&l._startProactiveRefresh(),c.currentUser=l,l?yield c.assertedPersistence.setCurrentUser(l):yield c.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=Ve(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,h.Z)(function*(){var c;const m={"X-Client-Version":l.clientVersion};l.app.options.appId&&(m["X-Firebase-gmpid"]=l.app.options.appId);const x=yield null===(c=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===c?void 0:c.getHeartbeatsHeader();x&&(m["X-Firebase-Client"]=x);const U=yield l._getAppCheckToken();return U&&(m["X-Firebase-AppCheck"]=U),m})()}_getAppCheckToken(){var l=this;return(0,h.Z)(function*(){var c;const m=yield null===(c=l.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===c?void 0:c.getToken();return m?.error&&function Tt(p,...l){Rt.logLevel<=de.in.WARN&&Rt.warn(`Auth (${fe.SDK_VERSION}): ${p}`,...l)}(`Error while retrieving App Check token: ${m.error}`),m?.token})()}}function Wn(p){return(0,$.m9)(p)}class ei{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,$.ne)(c=>this.observer=c)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ir(p){const l=p.indexOf(":");return l<0?"":p.substr(0,l+1)}function gs(p){if(!p)return null;const l=Number(p);return isNaN(l)?null:l}class Vr{constructor(l,c){this.providerId=l,this.signInMethod=c}toJSON(){return Nt("not implemented")}_getIdTokenResponse(l){return Nt("not implemented")}_linkToIdToken(l,c){return Nt("not implemented")}_getReauthenticationResolver(l){return Nt("not implemented")}}function ms(p,l){return _i.apply(this,arguments)}function _i(){return(_i=(0,h.Z)(function*(p,l){return Pe(p,"POST","/v1/accounts:resetPassword",Le(p,l))})).apply(this,arguments)}function _s(p,l){return co.apply(this,arguments)}function co(){return(co=(0,h.Z)(function*(p,l){return Pe(p,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Pr(){return(Pr=(0,h.Z)(function*(p,l){return Pe(p,"POST","/v1/accounts:update",Le(p,l))})).apply(this,arguments)}function Kn(p,l){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,h.Z)(function*(p,l){return At(p,"POST","/v1/accounts:signInWithPassword",Le(p,l))})).apply(this,arguments)}function Ar(p,l){return vs.apply(this,arguments)}function vs(){return(vs=(0,h.Z)(function*(p,l){return Pe(p,"POST","/v1/accounts:sendOobCode",Le(p,l))})).apply(this,arguments)}function he(){return(he=(0,h.Z)(function*(p,l){return Ar(p,l)})).apply(this,arguments)}function Me(p,l){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,h.Z)(function*(p,l){return Ar(p,l)})).apply(this,arguments)}function Qe(p,l){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,h.Z)(function*(p,l){return Ar(p,l)})).apply(this,arguments)}function gt(){return(gt=(0,h.Z)(function*(p,l){return Ar(p,l)})).apply(this,arguments)}function Zt(){return(Zt=(0,h.Z)(function*(p,l){return At(p,"POST","/v1/accounts:signInWithEmailLink",Le(p,l))})).apply(this,arguments)}function Qt(){return(Qt=(0,h.Z)(function*(p,l){return At(p,"POST","/v1/accounts:signInWithEmailLink",Le(p,l))})).apply(this,arguments)}class Qn extends Vr{constructor(l,c,m,x=null){super("password",m),this._email=l,this._password=c,this._tenantId=x}static _fromEmailAndPassword(l,c){return new Qn(l,c,"password")}static _fromEmailAndCode(l,c,m=null){return new Qn(l,c,"emailLink",m)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const c="string"==typeof l?JSON.parse(l):l;if(c?.email&&c?.password){if("password"===c.signInMethod)return this._fromEmailAndPassword(c.email,c.password);if("emailLink"===c.signInMethod)return this._fromEmailAndCode(c.email,c.password,c.tenantId)}return null}_getIdTokenResponse(l){var c=this;return(0,h.Z)(function*(){var m;switch(c.signInMethod){case"password":const x={returnSecureToken:!0,email:c._email,password:c._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(m=l._getRecaptchaConfig())&&void 0!==m&&m.emailPasswordEnabled){const U=yield Wr(l,x,"signInWithPassword");return Kn(l,U)}return Kn(l,x).catch(function(){var U=(0,h.Z)(function*(ue){if("auth/missing-recaptcha-token"===ue.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Te=yield Wr(l,x,"signInWithPassword");return Kn(l,Te)}return Promise.reject(ue)});return function(ue){return U.apply(this,arguments)}}());case"emailLink":return function It(p,l){return Zt.apply(this,arguments)}(l,{email:c._email,oobCode:c._password});default:Be(l,"internal-error")}})()}_linkToIdToken(l,c){var m=this;return(0,h.Z)(function*(){switch(m.signInMethod){case"password":return _s(l,{idToken:c,returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Fn(p,l){return Qt.apply(this,arguments)}(l,{idToken:c,email:m._email,oobCode:m._password});default:Be(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function Or(p,l){return ti.apply(this,arguments)}function ti(){return(ti=(0,h.Z)(function*(p,l){return At(p,"POST","/v1/accounts:signInWithIdp",Le(p,l))})).apply(this,arguments)}class mn extends Vr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const c=new mn(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(c.idToken=l.idToken),l.accessToken&&(c.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(c.nonce=l.nonce),l.pendingToken&&(c.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(c.accessToken=l.oauthToken,c.secret=l.oauthTokenSecret):Be("argument-error"),c}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const c="string"==typeof l?JSON.parse(l):l,{providerId:m,signInMethod:x}=c,U=(0,ce._T)(c,["providerId","signInMethod"]);if(!m||!x)return null;const ue=new mn(m,x);return ue.idToken=U.idToken||void 0,ue.accessToken=U.accessToken||void 0,ue.secret=U.secret,ue.nonce=U.nonce,ue.pendingToken=U.pendingToken||null,ue}_getIdTokenResponse(l){return Or(l,this.buildRequest())}_linkToIdToken(l,c){const m=this.buildRequest();return m.idToken=c,Or(l,m)}_getReauthenticationResolver(l){const c=this.buildRequest();return c.autoCreate=!1,Or(l,c)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const c={};this.idToken&&(c.id_token=this.idToken),this.accessToken&&(c.access_token=this.accessToken),this.secret&&(c.oauth_token_secret=this.secret),c.providerId=this.providerId,this.nonce&&!this.pendingToken&&(c.nonce=this.nonce),l.postBody=(0,$.xO)(c)}return l}}function Jn(){return(Jn=(0,h.Z)(function*(p,l){return Pe(p,"POST","/v1/accounts:sendVerificationCode",Le(p,l))})).apply(this,arguments)}function ui(){return(ui=(0,h.Z)(function*(p,l){return At(p,"POST","/v1/accounts:signInWithPhoneNumber",Le(p,l))})).apply(this,arguments)}function ni(){return(ni=(0,h.Z)(function*(p,l){const c=yield At(p,"POST","/v1/accounts:signInWithPhoneNumber",Le(p,l));if(c.temporaryProof)throw In(p,"account-exists-with-different-credential",c);return c})).apply(this,arguments)}const Si={USER_NOT_FOUND:"user-not-found"};function Zr(){return(Zr=(0,h.Z)(function*(p,l){return At(p,"POST","/v1/accounts:signInWithPhoneNumber",Le(p,Object.assign(Object.assign({},l),{operation:"REAUTH"})),Si)})).apply(this,arguments)}class Zn extends Vr{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,c){return new Zn({verificationId:l,verificationCode:c})}static _fromTokenResponse(l,c){return new Zn({phoneNumber:l,temporaryProof:c})}_getIdTokenResponse(l){return function hr(p,l){return ui.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,c){return function Nr(p,l){return ni.apply(this,arguments)}(l,Object.assign({idToken:c},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function js(p,l){return Zr.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:c,verificationId:m,verificationCode:x}=this.params;return l&&c?{temporaryProof:l,phoneNumber:c}:{sessionInfo:m,code:x}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:c,verificationCode:m,phoneNumber:x,temporaryProof:U}=l;return m||c||x||U?new Zn({verificationId:c,verificationCode:m,phoneNumber:x,temporaryProof:U}):null}}class hn{constructor(l){var c,m,x,U,ue,Te;const ct=(0,$.zd)((0,$.pd)(l)),yt=null!==(c=ct.apiKey)&&void 0!==c?c:null,Ft=null!==(m=ct.oobCode)&&void 0!==m?m:null,$t=function zi(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=ct.mode)&&void 0!==x?x:null);Re(yt&&Ft&&$t,"argument-error"),this.apiKey=yt,this.operation=$t,this.code=Ft,this.continueUrl=null!==(U=ct.continueUrl)&&void 0!==U?U:null,this.languageCode=null!==(ue=ct.languageCode)&&void 0!==ue?ue:null,this.tenantId=null!==(Te=ct.tenantId)&&void 0!==Te?Te:null}static parseLink(l){const c=function Ki(p){const l=(0,$.zd)((0,$.pd)(p)).link,c=l?(0,$.zd)((0,$.pd)(l)).deep_link_id:null,m=(0,$.zd)((0,$.pd)(p)).deep_link_id;return(m?(0,$.zd)((0,$.pd)(m)).link:null)||m||c||l||p}(l);try{return new hn(c)}catch{return null}}}let $s=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(c,m){return Qn._fromEmailAndPassword(c,m)}static credentialWithLink(c,m){const x=hn.parseLink(m);return Re(x,"argument-error"),Qn._fromEmailAndCode(c,x.code,x.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class vi{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class Ur extends vi{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class ri extends Ur{static credentialFromJSON(l){const c="string"==typeof l?JSON.parse(l):l;return Re("providerId"in c&&"signInMethod"in c,"argument-error"),mn._fromParams(c)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return Re(l.idToken||l.accessToken,"argument-error"),mn._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return ri.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return ri.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:c,oauthAccessToken:m,oauthTokenSecret:x,pendingToken:U,nonce:ue,providerId:Te}=l;if(!m&&!x&&!c&&!U||!Te)return null;try{return new ri(Te)._credential({idToken:c,accessToken:m,nonce:ue,pendingToken:U})}catch{return null}}}let Yr=(()=>{class p extends Ur{constructor(){super("facebook.com")}static credential(c){return mn._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:c})}static credentialFromResult(c){return p.credentialFromTaggedObject(c)}static credentialFromError(c){return p.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c||!("oauthAccessToken"in c)||!c.oauthAccessToken)return null;try{return p.credential(c.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),ln=(()=>{class p extends Ur{constructor(){super("google.com"),this.addScope("profile")}static credential(c,m){return mn._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:c,accessToken:m})}static credentialFromResult(c){return p.credentialFromTaggedObject(c)}static credentialFromError(c){return p.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:m,oauthAccessToken:x}=c;if(!m&&!x)return null;try{return p.credential(m,x)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),rr=(()=>{class p extends Ur{constructor(){super("github.com")}static credential(c){return mn._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:c})}static credentialFromResult(c){return p.credentialFromTaggedObject(c)}static credentialFromError(c){return p.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c||!("oauthAccessToken"in c)||!c.oauthAccessToken)return null;try{return p.credential(c.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class yr extends Vr{constructor(l,c){super(l,l),this.pendingToken=c}_getIdTokenResponse(l){return Or(l,this.buildRequest())}_linkToIdToken(l,c){const m=this.buildRequest();return m.idToken=c,Or(l,m)}_getReauthenticationResolver(l){const c=this.buildRequest();return c.autoCreate=!1,Or(l,c)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const c="string"==typeof l?JSON.parse(l):l,{providerId:m,signInMethod:x,pendingToken:U}=c;return m&&x&&U&&m===x?new yr(m,U):null}static _create(l,c){return new yr(l,c)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ki extends vi{constructor(l){Re(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return ki.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return ki.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const c=yr.fromJSON(l);return Re(c,"argument-error"),c}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:c,providerId:m}=l;if(!c||!m)return null;try{return yr._create(m,c)}catch{return null}}}let xr=(()=>{class p extends Ur{constructor(){super("twitter.com")}static credential(c,m){return mn._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:c,oauthTokenSecret:m})}static credentialFromResult(c){return p.credentialFromTaggedObject(c)}static credentialFromError(c){return p.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthAccessToken:m,oauthTokenSecret:x}=c;if(!m||!x)return null;try{return p.credential(m,x)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function Li(p,l){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,h.Z)(function*(p,l){return At(p,"POST","/v1/accounts:signUp",Le(p,l))})).apply(this,arguments)}class Br{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,c,m,x=!1){return(0,h.Z)(function*(){const U=yield $n._fromIdTokenResponse(l,m,x),ue=Ts(m);return new Br({user:U,providerId:ue,_tokenResponse:m,operationType:c})})()}static _forOperation(l,c,m){return(0,h.Z)(function*(){yield l._updateTokensIfNecessary(m,!0);const x=Ts(m);return new Br({user:l,providerId:x,_tokenResponse:m,operationType:c})})()}}function Ts(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function ci(){return(ci=(0,h.Z)(function*(p){var l;const c=Wn(p);if(yield c._initializationPromise,null!==(l=c.currentUser)&&void 0!==l&&l.isAnonymous)return new Br({user:c.currentUser,providerId:null,operationType:"signIn"});const m=yield Li(c,{returnSecureToken:!0}),x=yield Br._fromIdTokenResponse(c,"signIn",m,!0);return yield c._updateCurrentUser(x.user),x})).apply(this,arguments)}class ns extends $.ZR{constructor(l,c,m,x){var U;super(c.code,c.message),this.operationType=m,this.user=x,Object.setPrototypeOf(this,ns.prototype),this.customData={appName:l.name,tenantId:null!==(U=l.tenantId)&&void 0!==U?U:void 0,_serverResponse:c.customData._serverResponse,operationType:m}}static _fromErrorAndOperation(l,c,m,x){return new ns(l,c,m,x)}}function Es(p,l,c,m){return("reauthenticate"===l?c._getReauthenticationResolver(p):c._getIdTokenResponse(p)).catch(U=>{throw"auth/multi-factor-auth-required"===U.code?ns._fromErrorAndOperation(p,U,l,m):U})}function Mo(p){return new Set(p.map(({providerId:l})=>l).filter(l=>!!l))}function di(){return di=(0,h.Z)(function*(p,l){const c=(0,$.m9)(p);yield zs(!0,c,l);const{providerUserInfo:m}=yield function Vn(p,l){return er.apply(this,arguments)}(c.auth,{idToken:yield c.getIdToken(),deleteProvider:[l]}),x=Mo(m||[]);return c.providerData=c.providerData.filter(U=>x.has(U.providerId)),x.has("phone")||(c.phoneNumber=null),yield c.auth._persistUserIfCurrent(c),c}),di.apply(this,arguments)}function Ws(p,l){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,h.Z)(function*(p,l,c=!1){const m=yield Rn(p,l._linkToIdToken(p.auth,yield p.getIdToken()),c);return Br._forOperation(p,"link",m)})).apply(this,arguments)}function zs(p,l,c){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,h.Z)(function*(p,l,c){yield Pn(l);const x=!1===p?"provider-already-linked":"no-such-provider";Re(Mo(l.providerData).has(c)===p,l.auth,x)})).apply(this,arguments)}function Un(p,l){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,h.Z)(function*(p,l,c=!1){const{auth:m}=p,x="reauthenticate";try{const U=yield Rn(p,Es(m,x,l,p),c);Re(U.idToken,m,"internal-error");const ue=Vt(U.idToken);Re(ue,m,"internal-error");const{sub:Te}=ue;return Re(p.uid===Te,m,"user-mismatch"),Br._forOperation(p,x,U)}catch(U){throw"auth/user-not-found"===U?.code&&Be(m,"user-mismatch"),U}})).apply(this,arguments)}function va(p,l){return Is.apply(this,arguments)}function Is(){return(Is=(0,h.Z)(function*(p,l,c=!1){const m="signIn",x=yield Es(p,m,l),U=yield Br._fromIdTokenResponse(p,m,x);return c||(yield p._updateCurrentUser(U.user)),U})).apply(this,arguments)}function Fi(p,l){return ai.apply(this,arguments)}function ai(){return(ai=(0,h.Z)(function*(p,l){return va(Wn(p),l)})).apply(this,arguments)}function Vi(p,l){return As.apply(this,arguments)}function As(){return(As=(0,h.Z)(function*(p,l){const c=(0,$.m9)(p);return yield zs(!1,c,l.providerId),Ws(c,l)})).apply(this,arguments)}function Lt(p,l){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,h.Z)(function*(p,l){return Un((0,$.m9)(p),l)})).apply(this,arguments)}function A(){return(A=(0,h.Z)(function*(p,l){return At(p,"POST","/v1/accounts:signInWithCustomToken",Le(p,l))})).apply(this,arguments)}function R(){return R=(0,h.Z)(function*(p,l){const c=Wn(p),m=yield function O(p,l){return A.apply(this,arguments)}(c,{token:l,returnSecureToken:!0}),x=yield Br._fromIdTokenResponse(c,"signIn",m);return yield c._updateCurrentUser(x.user),x}),R.apply(this,arguments)}class Y{constructor(l,c){this.factorId=l,this.uid=c.mfaEnrollmentId,this.enrollmentTime=new Date(c.enrolledAt).toUTCString(),this.displayName=c.displayName}static _fromServerResponse(l,c){return"phoneInfo"in c?qe._fromServerResponse(l,c):"totpInfo"in c?Ot._fromServerResponse(l,c):Be(l,"internal-error")}}class qe extends Y{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,c){return new qe(c)}}class Ot extends Y{constructor(l){super("totp",l)}static _fromServerResponse(l,c){return new Ot(c)}}function Xn(p,l,c){var m;Re((null===(m=c.url)||void 0===m?void 0:m.length)>0,p,"invalid-continue-uri"),Re(typeof c.dynamicLinkDomain>"u"||c.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),l.continueUrl=c.url,l.dynamicLinkDomain=c.dynamicLinkDomain,l.canHandleCodeInApp=c.handleCodeInApp,c.iOS&&(Re(c.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),l.iOSBundleId=c.iOS.bundleId),c.android&&(Re(c.android.packageName.length>0,p,"missing-android-pkg-name"),l.androidInstallApp=c.android.installApp,l.androidMinimumVersionCode=c.android.minimumVersion,l.androidPackageName=c.android.packageName)}function Gr(){return Gr=(0,h.Z)(function*(p,l,c){var m;const x=Wn(p),U={requestType:"PASSWORD_RESET",email:l,clientType:"CLIENT_TYPE_WEB"};if(null!==(m=x._getRecaptchaConfig())&&void 0!==m&&m.emailPasswordEnabled){const ue=yield Wr(x,U,"getOobCode",!0);c&&Xn(x,ue,c),yield Me(x,ue)}else c&&Xn(x,U,c),yield Me(x,U).catch(function(){var ue=(0,h.Z)(function*(Te){if("auth/missing-recaptcha-token"!==Te.code)return Promise.reject(Te);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const ct=yield Wr(x,U,"getOobCode",!0);c&&Xn(x,ct,c),yield Me(x,ct)}});return function(Te){return ue.apply(this,arguments)}}())}),Gr.apply(this,arguments)}function Ai(){return(Ai=(0,h.Z)(function*(p,l,c){yield ms((0,$.m9)(p),{oobCode:l,newPassword:c})})).apply(this,arguments)}function hi(){return hi=(0,h.Z)(function*(p,l){yield function dn(p,l){return Pr.apply(this,arguments)}((0,$.m9)(p),{oobCode:l})}),hi.apply(this,arguments)}function fo(p,l){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,h.Z)(function*(p,l){const c=(0,$.m9)(p),m=yield ms(c,{oobCode:l}),x=m.requestType;switch(Re(x,c,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Re(m.newEmail,c,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Re(m.mfaInfo,c,"internal-error");default:Re(m.email,c,"internal-error")}let U=null;return m.mfaInfo&&(U=Y._fromServerResponse(Wn(c),m.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.newEmail:m.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.email:m.newEmail)||null,multiFactorInfo:U},operation:x}})).apply(this,arguments)}function rs(){return(rs=(0,h.Z)(function*(p,l){const{data:c}=yield fo((0,$.m9)(p),l);return c.email})).apply(this,arguments)}function Po(){return Po=(0,h.Z)(function*(p,l,c){var m;const x=Wn(p),U={returnSecureToken:!0,email:l,password:c,clientType:"CLIENT_TYPE_WEB"};let ue;if(null!==(m=x._getRecaptchaConfig())&&void 0!==m&&m.emailPasswordEnabled){const yt=yield Wr(x,U,"signUpPassword");ue=Li(x,yt)}else ue=Li(x,U).catch(function(){var yt=(0,h.Z)(function*(Ft){if("auth/missing-recaptcha-token"===Ft.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const $t=yield Wr(x,U,"signUpPassword");return Li(x,$t)}return Promise.reject(Ft)});return function(Ft){return yt.apply(this,arguments)}}());const Te=yield ue.catch(yt=>Promise.reject(yt)),ct=yield Br._fromIdTokenResponse(x,"signIn",Te);return yield x._updateCurrentUser(ct.user),ct}),Po.apply(this,arguments)}function Ps(){return Ps=(0,h.Z)(function*(p,l,c){var m;const x=Wn(p),U={requestType:"EMAIL_SIGNIN",email:l,clientType:"CLIENT_TYPE_WEB"};function ue(Te,ct){Re(ct.handleCodeInApp,x,"argument-error"),ct&&Xn(x,Te,ct)}if(null!==(m=x._getRecaptchaConfig())&&void 0!==m&&m.emailPasswordEnabled){const Te=yield Wr(x,U,"getOobCode",!0);ue(Te,c),yield Qe(x,Te)}else ue(U,c),yield Qe(x,U).catch(function(){var Te=(0,h.Z)(function*(ct){if("auth/missing-recaptcha-token"!==ct.code)return Promise.reject(ct);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const yt=yield Wr(x,U,"getOobCode",!0);ue(yt,c),yield Qe(x,yt)}});return function(ct){return Te.apply(this,arguments)}}())}),Ps.apply(this,arguments)}function Ys(){return(Ys=(0,h.Z)(function*(p,l,c){const m=(0,$.m9)(p),x=$s.credentialWithLink(l,c||jn());return Re(x._tenantId===(m.tenantId||null),m,"tenant-id-mismatch"),Fi(m,x)})).apply(this,arguments)}function Os(){return(Os=(0,h.Z)(function*(p,l){return Pe(p,"POST","/v1/accounts:createAuthUri",Le(p,l))})).apply(this,arguments)}function po(){return po=(0,h.Z)(function*(p,l){const m={identifier:l,continueUri:Yn()?jn():"http://localhost"},{signinMethods:x}=yield function Ha(p,l){return Os.apply(this,arguments)}((0,$.m9)(p),m);return x||[]}),po.apply(this,arguments)}function qs(){return qs=(0,h.Z)(function*(p,l){const c=(0,$.m9)(p),x={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};l&&Xn(c.auth,x,l);const{email:U}=yield function me(p,l){return he.apply(this,arguments)}(c.auth,x);U!==p.email&&(yield p.reload())}),qs.apply(this,arguments)}function os(){return os=(0,h.Z)(function*(p,l,c){const m=(0,$.m9)(p),U={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:l};c&&Xn(m.auth,U,c);const{email:ue}=yield function vt(p,l){return gt.apply(this,arguments)}(m.auth,U);ue!==p.email&&(yield p.reload())}),os.apply(this,arguments)}function ea(){return(ea=(0,h.Z)(function*(p,l){return Pe(p,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function yi(){return yi=(0,h.Z)(function*(p,{displayName:l,photoURL:c}){if(void 0===l&&void 0===c)return;const m=(0,$.m9)(p),U={idToken:yield m.getIdToken(),displayName:l,photoUrl:c,returnSecureToken:!0},ue=yield Rn(m,function ja(p,l){return ea.apply(this,arguments)}(m.auth,U));m.displayName=ue.displayName||null,m.photoURL=ue.photoUrl||null;const Te=m.providerData.find(({providerId:ct})=>"password"===ct);Te&&(Te.displayName=m.displayName,Te.photoURL=m.photoURL),yield m._updateTokensIfNecessary(ue)}),yi.apply(this,arguments)}function Ei(p,l,c){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,h.Z)(function*(p,l,c){const{auth:m}=p,U={idToken:yield p.getIdToken(),returnSecureToken:!0};l&&(U.email=l),c&&(U.password=c);const ue=yield Rn(p,_s(m,U));yield p._updateTokensIfNecessary(ue,!0)})).apply(this,arguments)}class Mn{constructor(l,c,m={}){this.isNewUser=l,this.providerId=c,this.profile=m}}class Zi extends Mn{constructor(l,c,m,x){super(l,c,m),this.username=x}}class E extends Mn{constructor(l,c){super(l,"facebook.com",c)}}class P extends Zi{constructor(l,c){super(l,"github.com",c,"string"==typeof c?.login?c?.login:null)}}class Q extends Mn{constructor(l,c){super(l,"google.com",c)}}class M extends Zi{constructor(l,c,m){super(l,"twitter.com",c,m)}}function Z(p){const{user:l,_tokenResponse:c}=p;return l.isAnonymous&&!c?{providerId:null,isNewUser:!1,profile:null}:function xs(p){var l,c;if(!p)return null;const{providerId:m}=p,x=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},U=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!m&&p?.idToken){const ue=null===(c=null===(l=Vt(p.idToken))||void 0===l?void 0:l.firebase)||void 0===c?void 0:c.sign_in_provider;if(ue)return new Mn(U,"anonymous"!==ue&&"custom"!==ue?ue:null)}if(!m)return null;switch(m){case"facebook.com":return new E(U,x);case"github.com":return new P(U,x);case"google.com":return new Q(U,x);case"twitter.com":return new M(U,x,p.screenName||null);case"custom":case"anonymous":return new Mn(U,null);default:return new Mn(U,m,x)}}(c)}class zr{constructor(l,c,m){this.type=l,this.credential=c,this.auth=m}static _fromIdtoken(l,c){return new zr("enroll",l,c)}static _fromMfaPendingCredential(l){return new zr("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var c,m;if(l?.multiFactorSession){if(null!==(c=l.multiFactorSession)&&void 0!==c&&c.pendingCredential)return zr._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(m=l.multiFactorSession)&&void 0!==m&&m.idToken)return zr._fromIdtoken(l.multiFactorSession.idToken)}return null}}class Bt{constructor(l,c,m){this.session=l,this.hints=c,this.signInResolver=m}static _fromError(l,c){const m=Wn(l),x=c.customData._serverResponse,U=(x.mfaInfo||[]).map(Te=>Y._fromServerResponse(m,Te));Re(x.mfaPendingCredential,m,"internal-error");const ue=zr._fromMfaPendingCredential(x.mfaPendingCredential);return new Bt(ue,U,function(){var Te=(0,h.Z)(function*(ct){const yt=yield ct._process(m,ue);delete x.mfaInfo,delete x.mfaPendingCredential;const Ft=Object.assign(Object.assign({},x),{idToken:yt.idToken,refreshToken:yt.refreshToken});switch(c.operationType){case"signIn":const $t=yield Br._fromIdTokenResponse(m,c.operationType,Ft);return yield m._updateCurrentUser($t.user),$t;case"reauthenticate":return Re(c.user,m,"internal-error"),Br._forOperation(c.user,c.operationType,Ft);default:Be(m,"internal-error")}});return function(ct){return Te.apply(this,arguments)}}())}resolveSignIn(l){var c=this;return(0,h.Z)(function*(){return c.signInResolver(l)})()}}class Ii{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(c=>{c.mfaInfo&&(this.enrolledFactors=c.mfaInfo.map(m=>Y._fromServerResponse(l.auth,m)))})}static _fromUser(l){return new Ii(l)}getSession(){var l=this;return(0,h.Z)(function*(){return zr._fromIdtoken(yield l.user.getIdToken(),l.user.auth)})()}enroll(l,c){var m=this;return(0,h.Z)(function*(){const x=l,U=yield m.getSession(),ue=yield Rn(m.user,x._process(m.user.auth,U,c));return yield m.user._updateTokensIfNecessary(ue),m.user.reload()})()}unenroll(l){var c=this;return(0,h.Z)(function*(){const m="string"==typeof l?l:l.uid,x=yield c.user.getIdToken();try{const U=yield Rn(c.user,function ta(p,l){return Pe(p,"POST","/v2/accounts/mfaEnrollment:withdraw",Le(p,l))}(c.user.auth,{idToken:x,mfaEnrollmentId:m}));c.enrolledFactors=c.enrolledFactors.filter(({uid:ue})=>ue!==m),yield c.user._updateTokensIfNecessary(U),yield c.user.reload()}catch(U){throw U}})()}}const na=new WeakMap,ya="__sak";class Mi{constructor(l,c){this.storageRetriever=l,this.type=c}_isAvailable(){try{return this.storage?(this.storage.setItem(ya,"1"),this.storage.removeItem(ya),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,c){return this.storage.setItem(l,JSON.stringify(c)),Promise.resolve()}_get(l){const c=this.storage.getItem(l);return Promise.resolve(c?JSON.parse(c):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const _o=(()=>{class p extends Mi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(c,m)=>this.onStorageEvent(c,m),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function xl(){const p=(0,$.z$)();return W(p)||bt(p)}()&&function gr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Lr(),this._shouldAllowMigration=!0}forAllChangedKeys(c){for(const m of Object.keys(this.listeners)){const x=this.storage.getItem(m),U=this.localCache[m];x!==U&&c(m,U,x)}}onStorageEvent(c,m=!1){if(!c.key)return void this.forAllChangedKeys((Te,ct,yt)=>{this.notifyListeners(Te,yt)});const x=c.key;if(m?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Te=this.storage.getItem(x);if(c.newValue!==Te)null!==c.newValue?this.storage.setItem(x,c.newValue):this.storage.removeItem(x);else if(this.localCache[x]===c.newValue&&!m)return}const U=()=>{const Te=this.storage.getItem(x);!m&&this.localCache[x]===Te||this.notifyListeners(x,Te)},ue=this.storage.getItem(x);!function lr(){return(0,$.w1)()&&10===document.documentMode}()||ue===c.newValue||c.newValue===c.oldValue?U():setTimeout(U,10)}notifyListeners(c,m){this.localCache[c]=m;const x=this.listeners[c];if(x)for(const U of Array.from(x))U(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((c,m,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:c,oldValue:m,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(c,m){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[c]||(this.listeners[c]=new Set,this.localCache[c]=this.storage.getItem(c)),this.listeners[c].add(m)}_removeListener(c,m){this.listeners[c]&&(this.listeners[c].delete(m),0===this.listeners[c].size&&delete this.listeners[c]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(c,m){var x=()=>super._set,U=this;return(0,h.Z)(function*(){yield x().call(U,c,m),U.localCache[c]=JSON.stringify(m)})()}_get(c){var m=()=>super._get,x=this;return(0,h.Z)(function*(){const U=yield m().call(x,c);return x.localCache[c]=JSON.stringify(U),U})()}_remove(c){var m=()=>super._remove,x=this;return(0,h.Z)(function*(){yield m().call(x,c),delete x.localCache[c]})()}}return p.type="LOCAL",p})(),Qs=(()=>{class p extends Mi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(c,m){}_removeListener(c,m){}}return p.type="SESSION",p})();let Ri=(()=>{class p{constructor(c){this.eventTarget=c,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(c){const m=this.receivers.find(U=>U.isListeningto(c));if(m)return m;const x=new p(c);return this.receivers.push(x),x}isListeningto(c){return this.eventTarget===c}handleEvent(c){var m=this;return(0,h.Z)(function*(){const x=c,{eventId:U,eventType:ue,data:Te}=x.data,ct=m.handlersMap[ue];if(!ct?.size)return;x.ports[0].postMessage({status:"ack",eventId:U,eventType:ue});const yt=Array.from(ct).map(function(){var $t=(0,h.Z)(function*(kr){return kr(x.origin,Te)});return function(kr){return $t.apply(this,arguments)}}()),Ft=yield function Ea(p){return Promise.all(p.map(function(){var l=(0,h.Z)(function*(c){try{return{fulfilled:!0,value:yield c}}catch(m){return{fulfilled:!1,reason:m}}});return function(c){return l.apply(this,arguments)}}()))}(yt);x.ports[0].postMessage({status:"done",eventId:U,eventType:ue,response:Ft})})()}_subscribe(c,m){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[c]||(this.handlersMap[c]=new Set),this.handlersMap[c].add(m)}_unsubscribe(c,m){this.handlersMap[c]&&m&&this.handlersMap[c].delete(m),(!m||0===this.handlersMap[c].size)&&delete this.handlersMap[c],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function vo(p="",l=10){let c="";for(let m=0;m<l;m++)c+=Math.floor(10*Math.random());return p+c}class kl{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,c,m=50){var x=this;return(0,h.Z)(function*(){const U=typeof MessageChannel<"u"?new MessageChannel:null;if(!U)throw new Error("connection_unavailable");let ue,Te;return new Promise((ct,yt)=>{const Ft=vo("",20);U.port1.start();const $t=setTimeout(()=>{yt(new Error("unsupported_event"))},m);Te={messageChannel:U,onMessage(kr){const bo=kr;if(bo.data.eventId===Ft)switch(bo.data.status){case"ack":clearTimeout($t),ue=setTimeout(()=>{yt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ue),ct(bo.data.response);break;default:clearTimeout($t),clearTimeout(ue),yt(new Error("invalid_response"))}}},x.handlers.add(Te),U.port1.addEventListener("message",Te.onMessage),x.target.postMessage({eventType:l,eventId:Ft,data:c},[U.port2])}).finally(()=>{Te&&x.removeMessageHandler(Te)})})()}}function br(){return window}function yo(){return typeof br().WorkerGlobalScope<"u"&&"function"==typeof br().importScripts}function us(){return(us=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ui="firebaseLocalStorageDb",Lo="firebaseLocalStorage",Wa="fbase_key";class Ca{constructor(l){this.request=l}toPromise(){return new Promise((l,c)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{c(this.request.error)})})}}function Xs(p,l){return p.transaction([Lo],l?"readwrite":"readonly").objectStore(Lo)}function Ga(){const p=indexedDB.open(Ui,1);return new Promise((l,c)=>{p.addEventListener("error",()=>{c(p.error)}),p.addEventListener("upgradeneeded",()=>{const m=p.result;try{m.createObjectStore(Lo,{keyPath:Wa})}catch(x){c(x)}}),p.addEventListener("success",(0,h.Z)(function*(){const m=p.result;m.objectStoreNames.contains(Lo)?l(m):(m.close(),yield function ia(){const p=indexedDB.deleteDatabase(Ui);return new Ca(p).toPromise()}(),l(yield Ga()))}))})}function sa(p,l,c){return cl.apply(this,arguments)}function cl(){return(cl=(0,h.Z)(function*(p,l,c){const m=Xs(p,!0).put({[Wa]:l,value:c});return new Ca(m).toPromise()})).apply(this,arguments)}function oa(){return(oa=(0,h.Z)(function*(p,l){const c=Xs(p,!1).get(l),m=yield new Ca(c).toPromise();return void 0===m?null:m.value})).apply(this,arguments)}function Eo(p,l){const c=Xs(p,!0).delete(l);return new Ca(c).toPromise()}const ks=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var c=this;return(0,h.Z)(function*(){return c.db||(c.db=yield Ga()),c.db})()}_withRetries(c){var m=this;return(0,h.Z)(function*(){let x=0;for(;;)try{const U=yield m._openDb();return yield c(U)}catch(U){if(x++>3)throw U;m.db&&(m.db.close(),m.db=void 0)}})()}initializeServiceWorkerMessaging(){var c=this;return(0,h.Z)(function*(){return yo()?c.initializeReceiver():c.initializeSender()})()}initializeReceiver(){var c=this;return(0,h.Z)(function*(){c.receiver=Ri._getInstance(function Tr(){return yo()?self:null}()),c.receiver._subscribe("keyChanged",function(){var m=(0,h.Z)(function*(x,U){return{keyProcessed:(yield c._poll()).includes(U.key)}});return function(x,U){return m.apply(this,arguments)}}()),c.receiver._subscribe("ping",function(){var m=(0,h.Z)(function*(x,U){return["keyChanged"]});return function(x,U){return m.apply(this,arguments)}}())})()}initializeSender(){var c=this;return(0,h.Z)(function*(){var m,x;if(c.activeServiceWorker=yield function pi(){return us.apply(this,arguments)}(),!c.activeServiceWorker)return;c.sender=new kl(c.activeServiceWorker);const U=yield c.sender._send("ping",{},800);U&&null!==(m=U[0])&&void 0!==m&&m.fulfilled&&null!==(x=U[0])&&void 0!==x&&x.value.includes("keyChanged")&&(c.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(c){var m=this;return(0,h.Z)(function*(){if(m.sender&&m.activeServiceWorker&&function ko(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===m.activeServiceWorker)try{yield m.sender._send("keyChanged",{key:c},m.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const c=yield Ga();return yield sa(c,ya,"1"),yield Eo(c,ya),!0}catch{}return!1})()}_withPendingWrite(c){var m=this;return(0,h.Z)(function*(){m.pendingWrites++;try{yield c()}finally{m.pendingWrites--}})()}_set(c,m){var x=this;return(0,h.Z)(function*(){return x._withPendingWrite((0,h.Z)(function*(){return yield x._withRetries(U=>sa(U,c,m)),x.localCache[c]=m,x.notifyServiceWorker(c)}))})()}_get(c){var m=this;return(0,h.Z)(function*(){const x=yield m._withRetries(U=>function Ia(p,l){return oa.apply(this,arguments)}(U,c));return m.localCache[c]=x,x})()}_remove(c){var m=this;return(0,h.Z)(function*(){return m._withPendingWrite((0,h.Z)(function*(){return yield m._withRetries(x=>Eo(x,c)),delete m.localCache[c],m.notifyServiceWorker(c)}))})()}_poll(){var c=this;return(0,h.Z)(function*(){const m=yield c._withRetries(ue=>{const Te=Xs(ue,!1).getAll();return new Ca(Te).toPromise()});if(!m)return[];if(0!==c.pendingWrites)return[];const x=[],U=new Set;for(const{fbase_key:ue,value:Te}of m)U.add(ue),JSON.stringify(c.localCache[ue])!==JSON.stringify(Te)&&(c.notifyListeners(ue,Te),x.push(ue));for(const ue of Object.keys(c.localCache))c.localCache[ue]&&!U.has(ue)&&(c.notifyListeners(ue,null),x.push(ue));return x})()}notifyListeners(c,m){this.localCache[c]=m;const x=this.listeners[c];if(x)for(const U of Array.from(x))U(m)}startPolling(){var c=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return c._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(c,m){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[c]||(this.listeners[c]=new Set,this._get(c)),this.listeners[c].add(m)}_removeListener(c,m){this.listeners[c]&&(this.listeners[c].delete(m),0===this.listeners[c].size&&delete this.listeners[c]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),Fo=1e12;class Vl{constructor(l){this.auth=l,this.counter=Fo,this._widgets=new Map}render(l,c){const m=this.counter;return this._widgets.set(m,new dl(l,this.auth.name,c||{})),this.counter++,m}reset(l){var c;const m=l||Fo;null===(c=this._widgets.get(m))||void 0===c||c.delete(),this._widgets.delete(m)}getResponse(l){var c;return(null===(c=this._widgets.get(l||Fo))||void 0===c?void 0:c.getResponse())||""}execute(l){var c=this;return(0,h.Z)(function*(){var m;return null===(m=c._widgets.get(l||Fo))||void 0===m||m.execute(),""})()}}class dl{constructor(l,c,m){this.params=m,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof l?document.getElementById(l):l;Re(x,"argument-error",{appName:c}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ul(p){const l=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<p;m++)l.push(c.charAt(Math.floor(62*Math.random())));return l.join("")}(50);const{callback:l,"expired-callback":c}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,c)try{c()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ka=li("rcb"),hl=new un(3e4,6e4);class _{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=br().grecaptcha)||void 0===l||!l.render)}load(l,c=""){return Re(function I(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(c),l,"argument-error"),this.shouldResolveImmediately(c)&&sn(br().grecaptcha)?Promise.resolve(br().grecaptcha):new Promise((m,x)=>{const U=br().setTimeout(()=>{x(we(l,"network-request-failed"))},hl.get());br()[Ka]=()=>{br().clearTimeout(U),delete br()[Ka];const Te=br().grecaptcha;if(!Te||!sn(Te))return void x(we(l,"internal-error"));const ct=Te.render;Te.render=(yt,Ft)=>{const $t=ct(yt,Ft);return this.counter++,$t},this.hostLanguage=c,m(Te)},Xr(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:Ka,render:"explicit",hl:c})}`).catch(()=>{clearTimeout(U),x(we(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var c;return!(null===(c=br().grecaptcha)||void 0===c||!c.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class T{load(l){return(0,h.Z)(function*(){return new Vl(l)})()}clearedOneInstance(){}}const v="recaptcha",S={theme:"light",type:"image"};class z{constructor(l,c=Object.assign({},S),m){this.parameters=c,this.type=v,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wn(m),this.isInvisible="invisible"===this.parameters.size,Re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof l?document.getElementById(l):l;Re(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new T:new _,this.validateStartingState()}verify(){var l=this;return(0,h.Z)(function*(){l.assertNotDestroyed();const c=yield l.render(),m=l.getAssertedRecaptcha();return m.getResponse(c)||new Promise(U=>{const ue=Te=>{Te&&(l.tokenChangeListeners.delete(ue),U(Te))};l.tokenChangeListeners.add(ue),l.isInvisible&&m.execute(c)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){Re(!this.parameters.sitekey,this.auth,"argument-error"),Re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return c=>{if(this.tokenChangeListeners.forEach(m=>m(c)),"function"==typeof l)l(c);else if("string"==typeof l){const m=br()[l];"function"==typeof m&&m(c)}}}assertNotDestroyed(){Re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,h.Z)(function*(){if(yield l.init(),!l.widgetId){let c=l.container;if(!l.isInvisible){const m=document.createElement("div");c.appendChild(m),c=m}l.widgetId=l.getAssertedRecaptcha().render(c,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,h.Z)(function*(){Re(Yn()&&!yo(),l.auth,"internal-error"),yield function J(){let p=null;return new Promise(l=>{"complete"!==document.readyState?(p=()=>l(),window.addEventListener("load",p)):l()}).catch(l=>{throw p&&window.removeEventListener("load",p),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const c=yield function Ae(p){return nt.apply(this,arguments)}(l.auth);Re(c,l.auth,"internal-error"),l.parameters.sitekey=c})()}getAssertedRecaptcha(){return Re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class re{constructor(l,c){this.verificationId=l,this.onConfirmation=c}confirm(l){const c=Zn._fromVerification(this.verificationId,l);return this.onConfirmation(c)}}function mt(){return(mt=(0,h.Z)(function*(p,l,c){const m=Wn(p),x=yield Fs(m,l,(0,$.m9)(c));return new re(x,U=>Fi(m,U))})).apply(this,arguments)}function zt(){return(zt=(0,h.Z)(function*(p,l,c){const m=(0,$.m9)(p);yield zs(!1,m,"phone");const x=yield Fs(m.auth,l,(0,$.m9)(c));return new re(x,U=>Vi(m,U))})).apply(this,arguments)}function gi(){return(gi=(0,h.Z)(function*(p,l,c){const m=(0,$.m9)(p),x=yield Fs(m.auth,l,(0,$.m9)(c));return new re(x,U=>Lt(m,U))})).apply(this,arguments)}function Fs(p,l,c){return Pi.apply(this,arguments)}function Pi(){return Pi=(0,h.Z)(function*(p,l,c){var m;const x=yield c.verify();try{let U;if(Re("string"==typeof x,p,"argument-error"),Re(c.type===v,p,"argument-error"),U="string"==typeof l?{phoneNumber:l}:l,"session"in U){const ue=U.session;if("phoneNumber"in U)return Re("enroll"===ue.type,p,"internal-error"),(yield function Qr(p,l){return Pe(p,"POST","/v2/accounts/mfaEnrollment:start",Le(p,l))}(p,{idToken:ue.credential,phoneEnrollmentInfo:{phoneNumber:U.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{Re("signin"===ue.type,p,"internal-error");const Te=(null===(m=U.multiFactorHint)||void 0===m?void 0:m.uid)||U.multiFactorUid;return Re(Te,p,"missing-multi-factor-info"),(yield function wa(p,l){return Pe(p,"POST","/v2/accounts/mfaSignIn:start",Le(p,l))}(p,{mfaPendingCredential:ue.credential,mfaEnrollmentId:Te,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ue}=yield function En(p,l){return Jn.apply(this,arguments)}(p,{phoneNumber:U.phoneNumber,recaptchaToken:x});return ue}}finally{c._reset()}}),Pi.apply(this,arguments)}function Ds(){return(Ds=(0,h.Z)(function*(p,l){yield Ws((0,$.m9)(p),l)})).apply(this,arguments)}let ba=(()=>{class p{constructor(c){this.providerId=p.PROVIDER_ID,this.auth=Wn(c)}verifyPhoneNumber(c,m){return Fs(this.auth,c,(0,$.m9)(m))}static credential(c,m){return Zn._fromVerification(c,m)}static credentialFromResult(c){return p.credentialFromTaggedObject(c)}static credentialFromError(c){return p.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{phoneNumber:m,temporaryProof:x}=c;return m&&x?Zn._fromTokenResponse(m,x):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function Uo(p,l){return l?rn(l):(Re(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class Bi extends Vr{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return Or(l,this._buildIdpRequest())}_linkToIdToken(l,c){return Or(l,this._buildIdpRequest(c))}_getReauthenticationResolver(l){return Or(l,this._buildIdpRequest())}_buildIdpRequest(l){const c={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(c.idToken=l),c}}function Bl(p){return va(p.auth,new Bi(p),p.bypassAuthState)}function aa(p){const{auth:l,user:c}=p;return Re(c,l,"internal-error"),Un(c,new Bi(p),p.bypassAuthState)}function Ta(p){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,h.Z)(function*(p){const{auth:l,user:c}=p;return Re(c,l,"internal-error"),Ws(c,new Bi(p),p.bypassAuthState)})).apply(this,arguments)}class Sa{constructor(l,c,m,x,U=!1){this.auth=l,this.resolver=m,this.user=x,this.bypassAuthState=U,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(c)?c:[c]}execute(){var l=this;return new Promise(function(){var c=(0,h.Z)(function*(m,x){l.pendingPromise={resolve:m,reject:x};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(U){l.reject(U)}});return function(m,x){return c.apply(this,arguments)}}())}onAuthEvent(l){var c=this;return(0,h.Z)(function*(){const{urlResponse:m,sessionId:x,postBody:U,tenantId:ue,error:Te,type:ct}=l;if(Te)return void c.reject(Te);const yt={auth:c.auth,requestUri:m,sessionId:x,tenantId:ue||void 0,postBody:U||void 0,user:c.user,bypassAuthState:c.bypassAuthState};try{c.resolve(yield c.getIdpTask(ct)(yt))}catch(Ft){c.reject(Ft)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return Bl;case"linkViaPopup":case"linkViaRedirect":return Ta;case"reauthViaPopup":case"reauthViaRedirect":return aa;default:Be(this.auth,"internal-error")}}resolve(l){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){St(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vs=new un(2e3,1e4);function du(){return(du=(0,h.Z)(function*(p,l,c){const m=Wn(p);Ye(p,l,vi);const x=Uo(m,c);return new ua(m,"signInViaPopup",l,x).executeNotNull()})).apply(this,arguments)}function pl(){return(pl=(0,h.Z)(function*(p,l,c){const m=(0,$.m9)(p);Ye(m.auth,l,vi);const x=Uo(m.auth,c);return new ua(m.auth,"reauthViaPopup",l,x,m).executeNotNull()})).apply(this,arguments)}function la(){return(la=(0,h.Z)(function*(p,l,c){const m=(0,$.m9)(p);Ye(m.auth,l,vi);const x=Uo(m.auth,c);return new ua(m.auth,"linkViaPopup",l,x,m).executeNotNull()})).apply(this,arguments)}let ua=(()=>{class p extends Sa{constructor(c,m,x,U,ue){super(c,m,U,ue),this.provider=x,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var c=this;return(0,h.Z)(function*(){const m=yield c.execute();return Re(m,c.auth,"internal-error"),m})()}onExecution(){var c=this;return(0,h.Z)(function*(){St(1===c.filter.length,"Popup operations only handle one event");const m=vo();c.authWindow=yield c.resolver._openPopup(c.auth,c.provider,c.filter[0],m),c.authWindow.associatedEvent=m,c.resolver._originValidation(c.auth).catch(x=>{c.reject(x)}),c.resolver._isIframeWebStorageSupported(c.auth,x=>{x||c.reject(we(c.auth,"web-storage-unsupported"))}),c.pollUserCancellation()})()}get eventId(){var c;return(null===(c=this.authWindow)||void 0===c?void 0:c.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const c=()=>{var m,x;this.pollId=null!==(x=null===(m=this.authWindow)||void 0===m?void 0:m.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(c,Vs.get())};c()}}return p.currentPopupAction=null,p})();const Za="pendingRedirect",Us=new Map;class Mu extends Sa{constructor(l,c,m=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],c,void 0,m),this.eventId=null}execute(){var l=()=>super.execute,c=this;return(0,h.Z)(function*(){let m=Us.get(c.auth._key());if(!m){try{const U=(yield function Ya(p,l){return gl.apply(this,arguments)}(c.resolver,c.auth))?yield l().call(c):null;m=()=>Promise.resolve(U)}catch(x){m=()=>Promise.reject(x)}Us.set(c.auth._key(),m)}return c.bypassAuthState||Us.set(c.auth._key(),()=>Promise.resolve(null)),m()})()}onAuthEvent(l){var c=()=>super.onAuthEvent,m=this;return(0,h.Z)(function*(){if("signInViaRedirect"===l.type)return c().call(m,l);if("unknown"!==l.type){if(l.eventId){const x=yield m.auth._redirectUserForId(l.eventId);if(x)return m.user=x,c().call(m,l);m.resolve(null)}}else m.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function gl(){return(gl=(0,h.Z)(function*(p,l){const c=jl(l),m=Co(p);if(!(yield m._isAvailable()))return!1;const x="true"===(yield m._get(c));return yield m._remove(c),x})).apply(this,arguments)}function ca(p,l){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,h.Z)(function*(p,l){return Co(p)._set(jl(l),"true")})).apply(this,arguments)}function Bo(p,l){Us.set(p._key(),l)}function Co(p){return rn(p._redirectPersistence)}function jl(p){return se(Za,p.config.apiKey,p.name)}function da(p,l,c){return function fu(p,l,c){return Ho.apply(this,arguments)}(p,l,c)}function Ho(){return(Ho=(0,h.Z)(function*(p,l,c){const m=Wn(p);Ye(p,l,vi),yield m._initializationPromise;const x=Uo(m,c);return yield ca(x,m),x._openRedirect(m,l,"signInViaRedirect")})).apply(this,arguments)}function Ru(p,l,c){return function ml(p,l,c){return ha.apply(this,arguments)}(p,l,c)}function ha(){return(ha=(0,h.Z)(function*(p,l,c){const m=(0,$.m9)(p);Ye(m.auth,l,vi),yield m.auth._initializationPromise;const x=Uo(m.auth,c);yield ca(x,m.auth);const U=yield jo(m);return x._openRedirect(m.auth,l,"reauthViaRedirect",U)})).apply(this,arguments)}function Pu(p,l,c){return function pu(p,l,c){return qa.apply(this,arguments)}(p,l,c)}function qa(){return(qa=(0,h.Z)(function*(p,l,c){const m=(0,$.m9)(p);Ye(m.auth,l,vi),yield m.auth._initializationPromise;const x=Uo(m.auth,c);yield zs(!1,m,l.providerId),yield ca(x,m.auth);const U=yield jo(m);return x._openRedirect(m.auth,l,"linkViaRedirect",U)})).apply(this,arguments)}function Io(){return(Io=(0,h.Z)(function*(p,l){return yield Wn(p)._initializationPromise,Bs(p,l,!1)})).apply(this,arguments)}function Bs(p,l){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,h.Z)(function*(p,l,c=!1){const m=Wn(p),x=Uo(m,l),ue=yield new Mu(m,x,c).execute();return ue&&!c&&(delete ue.user._redirectEventId,yield m._persistUserIfCurrent(ue.user),yield m._setRedirectUser(null,l)),ue})).apply(this,arguments)}function jo(p){return ds.apply(this,arguments)}function ds(){return(ds=(0,h.Z)(function*(p){const l=vo(`${p.uid}:::`);return p._redirectEventId=l,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),l})).apply(this,arguments)}class Pa{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let c=!1;return this.consumers.forEach(m=>{this.isEventForConsumer(l,m)&&(c=!0,this.sendToConsumer(l,m),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function Qa(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $l(p);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,c||(this.queuedRedirectEvent=l,c=!0)),c}sendToConsumer(l,c){var m;if(l.error&&!$l(l)){const x=(null===(m=l.error.code)||void 0===m?void 0:m.split("auth/")[1])||"internal-error";c.onError(we(this.auth,x))}else c.onAuthEvent(l)}isEventForConsumer(l,c){const m=null===c.eventId||!!l.eventId&&l.eventId===c.eventId;return c.filter.includes(l.type)&&m}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_l(l))}saveEventToCache(l){this.cachedEventUids.add(_l(l)),this.lastProcessedEventTime=Date.now()}}function _l(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(l=>l).join("-")}function $l({type:p,error:l}){return"unknown"===p&&"auth/no-auth-event"===l?.code}function Ou(p){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,h.Z)(function*(p,l={}){return Pe(p,"GET","/v1/projects",l)})).apply(this,arguments)}const Wl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wo=/^https?/;function Go(){return(Go=(0,h.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:l}=yield Ou(p);for(const c of l)try{if(oi(c))return}catch{}Be(p,"unauthorized-domain")})).apply(this,arguments)}function oi(p){const l=jn(),{protocol:c,hostname:m}=new URL(l);if(p.startsWith("chrome-extension://")){const ue=new URL(p);return""===ue.hostname&&""===m?"chrome-extension:"===c&&p.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===c&&ue.hostname===m}if(!Wo.test(c))return!1;if(Wl.test(p))return m===p;const x=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(m)}const Gl=new un(3e4,6e4);function Do(){const p=br().___jsl;if(p?.H)for(const l of Object.keys(p.H))if(p.H[l].r=p.H[l].r||[],p.H[l].L=p.H[l].L||[],p.H[l].r=[...p.H[l].L],p.CP)for(let c=0;c<p.CP.length;c++)p.CP[c]=null}let Hi=null;const to=new un(5e3,15e3),fa="__/auth/iframe",Oa="emulator/auth/iframe",gu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vl(p){const l=p.config;Re(l.authDomain,p,"auth-domain-config-required");const c=l.emulator?Ie(l,Oa):`https://${p.config.authDomain}/${fa}`,m={apiKey:l.apiKey,appName:p.name,v:fe.SDK_VERSION},x=mu.get(p.config.apiHost);x&&(m.eid=x);const U=p._getFrameworks();return U.length&&(m.fw=U.join(",")),`${c}?${(0,$.xO)(m).slice(1)}`}function b(){return b=(0,h.Z)(function*(p){const l=yield function ji(p){return Hi=Hi||function zo(p){return new Promise((l,c)=>{var m,x,U;function ue(){Do(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{Do(),c(we(p,"network-request-failed"))},timeout:Gl.get()})}if(null!==(x=null===(m=br().gapi)||void 0===m?void 0:m.iframes)&&void 0!==x&&x.Iframe)l(gapi.iframes.getContext());else{if(null===(U=br().gapi)||void 0===U||!U.load){const Te=li("iframefcb");return br()[Te]=()=>{gapi.load?ue():c(we(p,"network-request-failed"))},Xr(`https://apis.google.com/js/api.js?onload=${Te}`).catch(ct=>c(ct))}ue()}}).catch(l=>{throw Hi=null,l})}(p),Hi}(p),c=br().gapi;return Re(c,p,"internal-error"),l.open({where:document.body,url:vl(p),messageHandlersFilter:c.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gu,dontclear:!0},m=>new Promise(function(){var x=(0,h.Z)(function*(U,ue){yield m.restyle({setHideOnLeave:!1});const Te=we(p,"network-request-failed"),ct=br().setTimeout(()=>{ue(Te)},to.get());function yt(){br().clearTimeout(ct),U(m)}m.ping(yt).then(yt,()=>{ue(Te)})});return function(U,ue){return x.apply(this,arguments)}}()))}),b.apply(this,arguments)}const L={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _t{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const vn="__/auth/handler",bn="emulator/auth/handler",qi=encodeURIComponent("fac");function Kr(p,l,c,m,x,U){return pa.apply(this,arguments)}function pa(){return(pa=(0,h.Z)(function*(p,l,c,m,x,U){Re(p.config.authDomain,p,"auth-domain-config-required"),Re(p.config.apiKey,p,"invalid-api-key");const ue={apiKey:p.config.apiKey,appName:p.name,authType:c,redirectUrl:m,v:fe.SDK_VERSION,eventId:x};if(l instanceof vi){l.setDefaultLanguage(p.languageCode),ue.providerId=l.providerId||"",(0,$.xb)(l.getCustomParameters())||(ue.customParameters=JSON.stringify(l.getCustomParameters()));for(const[Ft,$t]of Object.entries(U||{}))ue[Ft]=$t}if(l instanceof Ur){const Ft=l.getScopes().filter($t=>""!==$t);Ft.length>0&&(ue.scopes=Ft.join(","))}p.tenantId&&(ue.tid=p.tenantId);const Te=ue;for(const Ft of Object.keys(Te))void 0===Te[Ft]&&delete Te[Ft];const ct=yield p._getAppCheckToken(),yt=ct?`#${qi}=${encodeURIComponent(ct)}`:"";return`${function no({config:p}){return p.emulator?Ie(p,bn):`https://${p.authDomain}/${vn}`}(p)}?${(0,$.xO)(Te).slice(1)}${yt}`})).apply(this,arguments)}const Ko="webStorageSupport",wo=class $i{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qs,this._completeRedirectFn=Bs,this._overrideRedirectResult=Bo}_openPopup(l,c,m,x){var U=this;return(0,h.Z)(function*(){var ue;St(null===(ue=U.eventManagers[l._key()])||void 0===ue?void 0:ue.manager,"_initialize() not called before _openPopup()");const Te=yield Kr(l,c,m,jn(),x);return function Ct(p,l,c,m=500,x=600){const U=Math.max((window.screen.availHeight-x)/2,0).toString(),ue=Math.max((window.screen.availWidth-m)/2,0).toString();let Te="";const ct=Object.assign(Object.assign({},L),{width:m.toString(),height:x.toString(),top:U,left:ue}),yt=(0,$.z$)().toLowerCase();c&&(Te=pe(yt)?"_blank":c),ne(yt)&&(l=l||"http://localhost",ct.scrollbars="yes");const Ft=Object.entries(ct).reduce((kr,[bo,iu])=>`${kr}${bo}=${iu},`,"");if(function tr(p=(0,$.z$)()){var l;return bt(p)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(yt)&&"_self"!==Te)return function Wt(p,l){const c=document.createElement("a");c.href=p,c.target=l;const m=document.createEvent("MouseEvent");m.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),c.dispatchEvent(m)}(l||"",Te),new _t(null);const $t=window.open(l||"",Te,Ft);Re($t,p,"popup-blocked");try{$t.focus()}catch{}return new _t($t)}(l,Te,vo())})()}_openRedirect(l,c,m,x){var U=this;return(0,h.Z)(function*(){return yield U._originValidation(l),function Js(p){br().location.href=p}(yield Kr(l,c,m,jn(),x)),new Promise(()=>{})})()}_initialize(l){const c=l._key();if(this.eventManagers[c]){const{manager:x,promise:U}=this.eventManagers[c];return x?Promise.resolve(x):(St(U,"If manager is not set, promise should be"),U)}const m=this.initAndGetManager(l);return this.eventManagers[c]={promise:m},m.catch(()=>{delete this.eventManagers[c]}),m}initAndGetManager(l){var c=this;return(0,h.Z)(function*(){const m=yield function C(p){return b.apply(this,arguments)}(l),x=new Pa(l);return m.register("authEvent",U=>(Re(U?.authEvent,l,"invalid-auth-event"),{status:x.onEvent(U.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),c.eventManagers[l._key()]={manager:x},c.iframes[l._key()]=m,x})()}_isIframeWebStorageSupported(l,c){this.iframes[l._key()].send(Ko,{type:Ko},x=>{var U;const ue=null===(U=x?.[0])||void 0===U?void 0:U[Ko];void 0!==ue&&c(!!ue),Be(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const c=l._key();return this.originValidationPromises[c]||(this.originValidationPromises[c]=function xu(p){return Go.apply(this,arguments)}(l)),this.originValidationPromises[c]}get _shouldInitProactively(){return Lr()||W()||bt()}};class Ja{constructor(l){this.factorId=l}_process(l,c,m){switch(c.type){case"enroll":return this._finalizeEnroll(l,c.credential,m);case"signin":return this._finalizeSignIn(l,c.credential);default:return Nt("unexpected MultiFactorSessionType")}}}class Na extends Ja{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new Na(l)}_finalizeEnroll(l,c,m){return function Ci(p,l){return Pe(p,"POST","/v2/accounts/mfaEnrollment:finalize",Le(p,l))}(l,{idToken:c,displayName:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,c){return function Fl(p,l){return Pe(p,"POST","/v2/accounts/mfaSignIn:finalize",Le(p,l))}(l,{mfaPendingCredential:c,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let _u=(()=>{class p{constructor(){}static assertion(c){return Na._fromCredential(c)}}return p.FACTOR_ID="phone",p})();var Xa="@firebase/auth";class kd{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var c=this;return(0,h.Z)(function*(){return c.assertAuthConfigured(),yield c.auth._initializationPromise,c.auth.currentUser?{accessToken:yield c.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const c=this.auth.onIdTokenChanged(m=>{l(m?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,c),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const c=this.internalListeners.get(l);c&&(this.internalListeners.delete(l),c(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Zo(){return window}(0,$.Pz)("authIdTokenMaxAge"),function Fu(p){(0,fe._registerComponent)(new _e.wA("auth",(l,{options:c})=>{const m=l.getProvider("app").getImmediate(),x=l.getProvider("heartbeat"),U=l.getProvider("app-check-internal"),{apiKey:ue,authDomain:Te}=m.options;Re(ue&&!ue.includes(":"),"invalid-api-key",{appName:m.name});const ct={apiKey:ue,authDomain:Te,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ve(p)},yt=new Gi(m,x,U,ct);return function bs(p,l){const c=l?.persistence||[],m=(Array.isArray(c)?c:[c]).map(rn);l?.errorMap&&p._updateErrorMap(l.errorMap),p._initializeWithPersistence(m,l?.popupRedirectResolver)}(yt,c),yt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,c,m)=>{l.getProvider("auth-internal").initialize()})),(0,fe._registerComponent)(new _e.wA("auth-internal",l=>{const c=Wn(l.getProvider("auth").getImmediate());return new kd(c)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,fe.registerVersion)(Xa,"0.23.2",function rc(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,fe.registerVersion)(Xa,"0.23.2","esm2017")}("Browser");function tl(){return tl=(0,h.Z)(function*(p,l,c){var m;const{BuildInfo:x}=Zo();St(l.sessionId,"AuthEvent did not contain a session ID");const U=yield function uc(p){return zl.apply(this,arguments)}(l.sessionId),ue={};return bt()?ue.ibi=x.packageName:at()?ue.apn=x.packageName:Be(p,"operation-not-supported-in-this-environment"),x.displayName&&(ue.appDisplayName=x.displayName),ue.sessionId=U,Kr(p,c,l.type,void 0,null!==(m=l.eventId)&&void 0!==m?m:void 0,ue)}),tl.apply(this,arguments)}function Uu(){return(Uu=(0,h.Z)(function*(p){const{BuildInfo:l}=Zo(),c={};bt()?c.iosBundleId=l.packageName:at()?c.androidPackageName=l.packageName:Be(p,"operation-not-supported-in-this-environment"),yield Ou(p,c)})).apply(this,arguments)}function ka(){return(ka=(0,h.Z)(function*(p,l,c){const{cordova:m}=Zo();let x=()=>{};try{yield new Promise((U,ue)=>{let Te=null;function ct(){var $t;U();const kr=null===($t=m.plugins.browsertab)||void 0===$t?void 0:$t.close;"function"==typeof kr&&kr(),"function"==typeof c?.close&&c.close()}function yt(){Te||(Te=window.setTimeout(()=>{ue(we(p,"redirect-cancelled-by-user"))},2e3))}function Ft(){"visible"===document?.visibilityState&&yt()}l.addPassiveListener(ct),document.addEventListener("resume",yt,!1),at()&&document.addEventListener("visibilitychange",Ft,!1),x=()=>{l.removePassiveListener(ct),document.removeEventListener("resume",yt,!1),document.removeEventListener("visibilitychange",Ft,!1),Te&&window.clearTimeout(Te)}})}finally{x()}})).apply(this,arguments)}function zl(){return(zl=(0,h.Z)(function*(p){const l=function Ld(p){if(St(/[0-9a-zA-Z]+/.test(p),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(p);const l=new ArrayBuffer(p.length),c=new Uint8Array(l);for(let m=0;m<p.length;m++)c[m]=p.charCodeAt(m);return c}(p),c=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(c)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Fd extends Pa{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(c=>c(l)),super.onEvent(l)}initialized(){var l=this;return(0,h.Z)(function*(){yield l.initPromise})()}}function Bu(p){return nl.apply(this,arguments)}function nl(){return(nl=(0,h.Z)(function*(p){const l=yield Wi()._get(rl(p));return l&&(yield Wi()._remove(rl(p))),l})).apply(this,arguments)}function Hu(){const p=[];for(let c=0;c<20;c++){const m=Math.floor(62*Math.random());p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(m))}return p.join("")}function Wi(){return rn(_o)}function rl(p){return se("authEvent",p.config.apiKey,p.name)}function Qi(p){if(!p?.includes("?"))return{};const[l,...c]=p.split("?");return(0,$.zd)(c.join("?"))}const Yl=class Zl{constructor(){this._redirectPersistence=Qs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Bs,this._overrideRedirectResult=Bo}_initialize(l){var c=this;return(0,h.Z)(function*(){const m=l._key();let x=c.eventManagers.get(m);return x||(x=new Fd(l),c.eventManagers.set(m,x),c.attachCallbackListeners(l,x)),x})()}_openPopup(l){Be(l,"operation-not-supported-in-this-environment")}_openRedirect(l,c,m,x){var U=this;return(0,h.Z)(function*(){!function lc(p){var l,c,m,x,U,ue,Te,ct,yt,Ft;const $t=Zo();Re("function"==typeof(null===(l=$t?.universalLinks)||void 0===l?void 0:l.subscribe),p,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Re(typeof(null===(c=$t?.BuildInfo)||void 0===c?void 0:c.packageName)<"u",p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Re("function"==typeof(null===(U=null===(x=null===(m=$t?.cordova)||void 0===m?void 0:m.plugins)||void 0===x?void 0:x.browsertab)||void 0===U?void 0:U.openUrl),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Re("function"==typeof(null===(ct=null===(Te=null===(ue=$t?.cordova)||void 0===ue?void 0:ue.plugins)||void 0===Te?void 0:Te.browsertab)||void 0===ct?void 0:ct.isAvailable),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Re("function"==typeof(null===(Ft=null===(yt=$t?.cordova)||void 0===yt?void 0:yt.InAppBrowser)||void 0===Ft?void 0:Ft.open),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const ue=yield U._initialize(l);yield ue.initialized(),ue.resetRedirect(),function hu(){Us.clear()}(),yield U._originValidation(l);const Te=function ed(p,l,c=null){return{type:l,eventId:c,urlResponse:null,sessionId:Hu(),postBody:null,tenantId:p.tenantId,error:we(p,"no-auth-event")}}(l,m,x);yield function Vd(p,l){return Wi()._set(rl(p),l)}(l,Te);const ct=yield function ic(p,l,c){return tl.apply(this,arguments)}(l,Te,c),yt=yield function oc(p){const{cordova:l}=Zo();return new Promise(c=>{l.plugins.browsertab.isAvailable(m=>{let x=null;m?l.plugins.browsertab.openUrl(p):x=l.InAppBrowser.open(p,function Yt(p=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}()?"_blank":"_system","location=yes"),c(x)})})}(ct);return function ac(p,l,c){return ka.apply(this,arguments)}(l,ue,yt)})()}_isIframeWebStorageSupported(l,c){throw new Error("Method not implemented.")}_originValidation(l){const c=l._key();return this.originValidationPromises[c]||(this.originValidationPromises[c]=function sc(p){return Uu.apply(this,arguments)}(l)),this.originValidationPromises[c]}attachCallbackListeners(l,c){const{universalLinks:m,handleOpenURL:x,BuildInfo:U}=Zo(),ue=setTimeout((0,h.Z)(function*(){yield Bu(l),c.onEvent(La())}),500),Te=function(){var Ft=(0,h.Z)(function*($t){clearTimeout(ue);const kr=yield Bu(l);let bo=null;kr&&$t?.url&&(bo=function yl(p,l){var c,m;const x=function Kl(p){const l=Qi(p),c=l.link?decodeURIComponent(l.link):void 0,m=Qi(c).link,x=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return Qi(x).link||x||m||c||p}(l);if(x.includes("/__/auth/callback")){const U=Qi(x),ue=U.firebaseError?function Hs(p){try{return JSON.parse(p)}catch{return null}}(decodeURIComponent(U.firebaseError)):null,Te=null===(m=null===(c=ue?.code)||void 0===c?void 0:c.split("auth/"))||void 0===m?void 0:m[1],ct=Te?we(Te):null;return ct?{type:p.type,eventId:p.eventId,tenantId:p.tenantId,error:ct,urlResponse:null,sessionId:null,postBody:null}:{type:p.type,eventId:p.eventId,tenantId:p.tenantId,sessionId:p.sessionId,urlResponse:x,postBody:null}}return null}(kr,$t.url)),c.onEvent(bo||La())});return function(kr){return Ft.apply(this,arguments)}}();typeof m<"u"&&"function"==typeof m.subscribe&&m.subscribe(null,Te);const ct=x,yt=`${U.packageName.toLowerCase()}://`;Zo().handleOpenURL=function(){var Ft=(0,h.Z)(function*($t){if($t.toLowerCase().startsWith(yt)&&Te({url:$t}),"function"==typeof ct)try{ct($t)}catch(kr){console.error(kr)}});return function($t){return Ft.apply(this,arguments)}}()}};function La(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:we("no-auth-event")}}function Ql(){var p;return(null===(p=self?.location)||void 0===p?void 0:p.protocol)||null}function hc(p=(0,$.z$)()){return!("file:"!==Ql()&&"ionic:"!==Ql()&&"capacitor:"!==Ql()||!p.toLowerCase().match(/iphone|ipad|ipod|android/))}function El(){try{const p=self.localStorage,l=vo();if(p)return p.setItem(l,"1"),p.removeItem(l),!function Oi(p=(0,$.z$)()){return function Jl(){return(0,$.w1)()&&11===document?.documentMode}()||function yu(p=(0,$.z$)()){return/Edge\/\d+/.test(p)}(p)}()||(0,$.hl)()}catch{return Xl()&&(0,$.hl)()}return!1}function Xl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Cl(){return(function nd(){return"http:"===Ql()||"https:"===Ql()}()||(0,$.ru)()||hc())&&!function fc(){return(0,$.b$)()||(0,$.UG)()}()&&El()&&!Xl()}function Ni(){return hc()&&typeof document<"u"}function eu(){return(eu=(0,h.Z)(function*(){return!!Ni()&&new Promise(p=>{const l=setTimeout(()=>{p(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),p(!0)})})})).apply(this,arguments)}const ws={LOCAL:"local",NONE:"none",SESSION:"session"},Dl=Re,pc="persistence";function Eu(p){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,h.Z)(function*(p){yield p._initializationPromise;const l=mc(),c=se(pc,p.config.apiKey,p.name);l&&l.setItem(c,p._getPersistence())})).apply(this,arguments)}function mc(){var p;try{return(null===(p=function ro(){return typeof window<"u"?window:null}())||void 0===p?void 0:p.sessionStorage)||null}catch{return null}}const ju=Re;class qo{constructor(){this.browserResolver=rn(wo),this.cordovaResolver=rn(Yl),this.underlyingResolver=null,this._redirectPersistence=Qs,this._completeRedirectFn=Bs,this._overrideRedirectResult=Bo}_initialize(l){var c=this;return(0,h.Z)(function*(){return yield c.selectUnderlyingResolver(),c.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,c,m,x){var U=this;return(0,h.Z)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._openPopup(l,c,m,x)})()}_openRedirect(l,c,m,x){var U=this;return(0,h.Z)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._openRedirect(l,c,m,x)})()}_isIframeWebStorageSupported(l,c){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,c)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return Ni()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ju(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,h.Z)(function*(){if(l.underlyingResolver)return;const c=yield function Il(){return eu.apply(this,arguments)}();l.underlyingResolver=c?l.cordovaResolver:l.browserResolver})()}}function _c(p){return p.unwrap()}function id(p){return $u(p)}function $u(p){const{_tokenResponse:l}=p instanceof $.ZR?p.customData:p;if(!l)return null;if(!(p instanceof $.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return ba.credentialFromResult(p);const c=l.providerId;if(!c||c===be.PASSWORD)return null;let m;switch(c){case be.GOOGLE:m=ln;break;case be.FACEBOOK:m=Yr;break;case be.GITHUB:m=rr;break;case be.TWITTER:m=xr;break;default:const{oauthIdToken:x,oauthAccessToken:U,oauthTokenSecret:ue,pendingToken:Te,nonce:ct}=l;return U||ue||x||Te?Te?c.startsWith("saml.")?yr._create(c,Te):mn._fromParams({providerId:c,signInMethod:c,pendingToken:Te,idToken:x,accessToken:U}):new ri(c).credential({idToken:x,accessToken:U,rawNonce:ct}):null}return p instanceof $.ZR?m.credentialFromError(p):m.credentialFromResult(p)}function hs(p,l){return l.catch(c=>{throw c instanceof $.ZR&&function sd(p,l){var c;const m=null===(c=l.customData)||void 0===c?void 0:c._tokenResponse;if("auth/multi-factor-auth-required"===l?.code)l.resolver=new Du(p,function as(p,l){var c;const m=(0,$.m9)(p),x=l;return Re(l.customData.operationType,m,"argument-error"),Re(null===(c=x.customData._serverResponse)||void 0===c?void 0:c.mfaPendingCredential,m,"argument-error"),Bt._fromError(m,x)}(p,l));else if(m){const x=$u(l),U=l;x&&(U.credential=x,U.tenantId=m.tenantId||void 0,U.email=m.email||void 0,U.phoneNumber=m.phoneNumber||void 0)}}(p,c),c}).then(c=>{const x=c.user;return{operationType:c.operationType,credential:id(c),additionalUserInfo:Z(c),user:Qo.getOrCreate(x)}})}function Iu(p,l){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,h.Z)(function*(p,l){const c=yield l;return{verificationId:c.verificationId,confirm:m=>hs(p,c.confirm(m))}})).apply(this,arguments)}class Du{constructor(l,c){this.resolver=c,this.auth=function tu(p){return p.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return hs(_c(this.auth),this.resolver.resolveSignIn(l))}}class Qo{constructor(l){this._delegate=l,this.multiFactor=function ra(p){const l=(0,$.m9)(p);return na.has(l)||na.set(l,Ii._fromUser(l)),na.get(l)}(l)}static getOrCreate(l){return Qo.USER_MAP.has(l)||Qo.USER_MAP.set(l,new Qo(l)),Qo.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var c=this;return(0,h.Z)(function*(){return hs(c.auth,Vi(c._delegate,l))})()}linkWithPhoneNumber(l,c){var m=this;return(0,h.Z)(function*(){return Iu(m.auth,function Sn(p,l,c){return zt.apply(this,arguments)}(m._delegate,l,c))})()}linkWithPopup(l){var c=this;return(0,h.Z)(function*(){return hs(c.auth,function Hl(p,l,c){return la.apply(this,arguments)}(c._delegate,l,qo))})()}linkWithRedirect(l){var c=this;return(0,h.Z)(function*(){return yield Eu(Wn(c.auth)),Pu(c._delegate,l,qo)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var c=this;return(0,h.Z)(function*(){return hs(c.auth,Lt(c._delegate,l))})()}reauthenticateWithPhoneNumber(l,c){return Iu(this.auth,function ur(p,l,c){return gi.apply(this,arguments)}(this._delegate,l,c))}reauthenticateWithPopup(l){return hs(this.auth,function cs(p,l,c){return pl.apply(this,arguments)}(this._delegate,l,qo))}reauthenticateWithRedirect(l){var c=this;return(0,h.Z)(function*(){return yield Eu(Wn(c.auth)),Ru(c._delegate,l,qo)})()}sendEmailVerification(l){return function go(p,l){return qs.apply(this,arguments)}(this._delegate,l)}unlink(l){var c=this;return(0,h.Z)(function*(){return yield function Ss(p,l){return di.apply(this,arguments)}(c._delegate,l),c})()}updateEmail(l){return function mo(p,l){return Ei((0,$.m9)(p),l,null)}(this._delegate,l)}updatePassword(l){return function xo(p,l){return Ei((0,$.m9)(p),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function eo(p,l){return Ds.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function $a(p,l){return yi.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,c){return function No(p,l,c){return os.apply(this,arguments)}(this._delegate,l,c)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Qo.USER_MAP=new WeakMap;const il=Re;let nu=(()=>{class p{constructor(c,m){if(this.app=c,m.isInitialized())return this._delegate=m.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=c.options;il(x,"invalid-api-key",{appName:c.name}),il(x,"invalid-api-key",{appName:c.name});const U=typeof window<"u"?qo:void 0;this._delegate=m.initialize({options:{persistence:od(x,c.name),popupRedirectResolver:U}}),this._delegate._updateErrorMap(dt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(c){this._delegate.languageCode=c}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(c){this._delegate.tenantId=c}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(c,m){!function mi(p,l,c){const m=Wn(p);Re(m._canInitEmulator,m,"emulator-config-failed"),Re(/^https?:\/\//.test(l),m,"invalid-emulator-scheme");const x=!!c?.disableWarnings,U=Ir(l),{host:ue,port:Te}=function Rr(p){const l=Ir(p),c=/(\/\/)?([^?#/]+)/.exec(p.substr(l.length));if(!c)return{host:"",port:null};const m=c[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(m);if(x){const U=x[1];return{host:U,port:gs(m.substr(U.length+1))}}{const[U,ue]=m.split(":");return{host:U,port:gs(ue)}}}(l);m.config.emulator={url:`${U}//${ue}${null===Te?"":`:${Te}`}/`},m.settings.appVerificationDisabledForTesting=!0,m.emulatorConfig=Object.freeze({host:ue,port:Te,protocol:U.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function xi(){function p(){const l=document.createElement("p"),c=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",c.position="fixed",c.width="100%",c.backgroundColor="#ffffff",c.border=".1em solid #000000",c.color="#b50000",c.bottom="0px",c.left="0px",c.margin="0px",c.zIndex="10000",c.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}(this._delegate,c,m)}applyActionCode(c){return function fr(p,l){return hi.apply(this,arguments)}(this._delegate,c)}checkActionCode(c){return fo(this._delegate,c)}confirmPasswordReset(c,m){return function Hr(p,l,c){return Ai.apply(this,arguments)}(this._delegate,c,m)}createUserWithEmailAndPassword(c,m){var x=this;return(0,h.Z)(function*(){return hs(x._delegate,function Ms(p,l,c){return Po.apply(this,arguments)}(x._delegate,c,m))})()}fetchProvidersForEmail(c){return this.fetchSignInMethodsForEmail(c)}fetchSignInMethodsForEmail(c){return function ss(p,l){return po.apply(this,arguments)}(this._delegate,c)}isSignInWithEmailLink(c){return function Oo(p,l){const c=hn.parseLink(l);return"EMAIL_SIGNIN"===c?.operation}(0,c)}getRedirectResult(){var c=this;return(0,h.Z)(function*(){il(Cl(),c._delegate,"operation-not-supported-in-this-environment");const m=yield function Ma(p,l){return Io.apply(this,arguments)}(c._delegate,qo);return m?hs(c._delegate,Promise.resolve(m)):{credential:null,user:null}})()}addFrameworkForLogging(c){!function Ud(p,l){Wn(p)._logFramework(l)}(this._delegate,c)}onAuthStateChanged(c,m,x){const{next:U,error:ue,complete:Te}=io(c,m,x);return this._delegate.onAuthStateChanged(U,ue,Te)}onIdTokenChanged(c,m,x){const{next:U,error:ue,complete:Te}=io(c,m,x);return this._delegate.onIdTokenChanged(U,ue,Te)}sendSignInLinkToEmail(c,m){return function Rs(p,l,c){return Ps.apply(this,arguments)}(this._delegate,c,m)}sendPasswordResetEmail(c,m){return function ii(p,l,c){return Gr.apply(this,arguments)}(this._delegate,c,m||void 0)}setPersistence(c){var m=this;return(0,h.Z)(function*(){let x;switch(function gc(p,l){Dl(Object.values(ws).includes(l),p,"invalid-persistence-type"),(0,$.b$)()?Dl(l!==ws.SESSION,p,"unsupported-persistence-type"):(0,$.UG)()?Dl(l===ws.NONE,p,"unsupported-persistence-type"):Xl()?Dl(l===ws.NONE||l===ws.LOCAL&&(0,$.hl)(),p,"unsupported-persistence-type"):Dl(l===ws.NONE||El(),p,"unsupported-persistence-type")}(m._delegate,c),c){case ws.SESSION:x=Qs;break;case ws.LOCAL:x=(yield rn(ks)._isAvailable())?ks:_o;break;case ws.NONE:x=en;break;default:return Be("argument-error",{appName:m._delegate.name})}return m._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(c){return this.signInWithCredential(c)}signInAnonymously(){return hs(this._delegate,function ys(p){return ci.apply(this,arguments)}(this._delegate))}signInWithCredential(c){return hs(this._delegate,Fi(this._delegate,c))}signInWithCustomToken(c){return hs(this._delegate,function G(p,l){return R.apply(this,arguments)}(this._delegate,c))}signInWithEmailAndPassword(c,m){return hs(this._delegate,function is(p,l,c){return Fi((0,$.m9)(p),$s.credential(l,c))}(this._delegate,c,m))}signInWithEmailLink(c,m){return hs(this._delegate,function qr(p,l,c){return Ys.apply(this,arguments)}(this._delegate,c,m))}signInWithPhoneNumber(c,m){return Iu(this._delegate,function Ze(p,l,c){return mt.apply(this,arguments)}(this._delegate,c,m))}signInWithPopup(c){var m=this;return(0,h.Z)(function*(){return il(Cl(),m._delegate,"operation-not-supported-in-this-environment"),hs(m._delegate,function fl(p,l,c){return du.apply(this,arguments)}(m._delegate,c,qo))})()}signInWithRedirect(c){var m=this;return(0,h.Z)(function*(){return il(Cl(),m._delegate,"operation-not-supported-in-this-environment"),yield Eu(m._delegate),da(m._delegate,c,qo)})()}updateCurrentUser(c){return this._delegate.updateCurrentUser(c)}verifyPasswordResetCode(c){return function Zs(p,l){return rs.apply(this,arguments)}(this._delegate,c)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return p.Persistence=ws,p})();function io(p,l,c){let m=p;"function"!=typeof p&&({next:m,error:l,complete:c}=p);const x=m;return{next:ue=>x(ue&&Qo.getOrCreate(ue)),error:l,complete:c}}function od(p,l){const c=function rd(p,l){const c=mc();if(!c)return[];const m=se(pc,p,l);switch(c.getItem(m)){case ws.NONE:return[en];case ws.LOCAL:return[ks,Qs];case ws.SESSION:return[Qs];default:return[]}}(p,l);if(typeof self<"u"&&!c.includes(ks)&&c.push(ks),typeof window<"u")for(const m of[_o,Qs])c.includes(m)||c.push(m);return c.includes(en)||c.push(en),c}class ru{constructor(){this.providerId="phone",this._delegate=new ba(_c(oe.Z.auth()))}static credential(l,c){return ba.credential(l,c)}verifyPhoneNumber(l,c){return this._delegate.verifyPhoneNumber(l,c)}unwrap(){return this._delegate}}ru.PHONE_SIGN_IN_METHOD=ba.PHONE_SIGN_IN_METHOD,ru.PROVIDER_ID=ba.PROVIDER_ID;const vc=Re;class ad{constructor(l,c,m=oe.Z.app()){var x;vc(null===(x=m.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:m.name}),this._delegate=new z(l,c,m.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ec(p){p.INTERNAL.registerComponent(new _e.wA("auth-compat",l=>{const c=l.getProvider("app-compat").getImmediate(),m=l.getProvider("auth");return new nu(c,m)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:$s,FacebookAuthProvider:Yr,GithubAuthProvider:rr,GoogleAuthProvider:ln,OAuthProvider:ri,SAMLAuthProvider:ki,PhoneAuthProvider:ru,PhoneMultiFactorGenerator:_u,RecaptchaVerifier:ad,TwitterAuthProvider:xr,Auth:nu,AuthCredential:Vr,Error:$.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),p.registerVersion("@firebase/auth-compat","0.4.2")}(oe.Z)},861:(wt,Fe,F)=>{function h($,fe,ce,de,_e,xe,be){try{var te=$[xe](be),ie=te.value}catch(ye){return void ce(ye)}te.done?fe(ie):Promise.resolve(ie).then(de,_e)}function oe($){return function(){var fe=this,ce=arguments;return new Promise(function(de,_e){var xe=$.apply(fe,ce);function be(ie){h(xe,de,_e,be,te,"next",ie)}function te(ie){h(xe,de,_e,be,te,"throw",ie)}be(void 0)})}}F.d(Fe,{Z:()=>oe})},7582:(wt,Fe,F)=>{function fe(Ie,De){var Oe={};for(var Ne in Ie)Object.prototype.hasOwnProperty.call(Ie,Ne)&&De.indexOf(Ne)<0&&(Oe[Ne]=Ie[Ne]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(Ne=Object.getOwnPropertySymbols(Ie);Le<Ne.length;Le++)De.indexOf(Ne[Le])<0&&Object.prototype.propertyIsEnumerable.call(Ie,Ne[Le])&&(Oe[Ne[Le]]=Ie[Ne[Le]])}return Oe}function ye(Ie,De,Oe,Ne){return new(Oe||(Oe=Promise))(function(Pe,st){function Et(an){try{At(Ne.next(an))}catch(Gt){st(Gt)}}function gn(an){try{At(Ne.throw(an))}catch(Gt){st(Gt)}}function At(an){an.done?Pe(an.value):function Le(Pe){return Pe instanceof Oe?Pe:new Oe(function(st){st(Pe)})}(an.value).then(Et,gn)}At((Ne=Ne.apply(Ie,De||[])).next())})}function Ce(Ie){return this instanceof Ce?(this.v=Ie,this):new Ce(Ie)}function Be(Ie,De,Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,Ne=Oe.apply(Ie,De||[]),Pe=[];return Le={},st("next"),st("throw"),st("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function st(Tn){Ne[Tn]&&(Le[Tn]=function(In){return new Promise(function(Ln,lt){Pe.push([Tn,In,Ln,lt])>1||Et(Tn,In)})})}function Et(Tn,In){try{!function gn(Tn){Tn.value instanceof Ce?Promise.resolve(Tn.value.v).then(At,an):Gt(Pe[0][2],Tn)}(Ne[Tn](In))}catch(Ln){Gt(Pe[0][3],Ln)}}function At(Tn){Et("next",Tn)}function an(Tn){Et("throw",Tn)}function Gt(Tn,In){Tn(In),Pe.shift(),Pe.length&&Et(Pe[0][0],Pe[0][1])}}function Ue(Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,De=Ie[Symbol.asyncIterator];return De?De.call(Ie):(Ie=function Xe(Ie){var De="function"==typeof Symbol&&Symbol.iterator,Oe=De&&Ie[De],Ne=0;if(Oe)return Oe.call(Ie);if(Ie&&"number"==typeof Ie.length)return{next:function(){return Ie&&Ne>=Ie.length&&(Ie=void 0),{value:Ie&&Ie[Ne++],done:!Ie}}};throw new TypeError(De?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ie),Oe={},Ne("next"),Ne("throw"),Ne("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe);function Ne(Pe){Oe[Pe]=Ie[Pe]&&function(st){return new Promise(function(Et,gn){!function Le(Pe,st,Et,gn){Promise.resolve(gn).then(function(At){Pe({value:At,done:Et})},st)}(Et,gn,(st=Ie[Pe](st)).done,st.value)})}}}F.d(Fe,{FC:()=>Be,KL:()=>Ue,_T:()=>fe,mG:()=>ye,qq:()=>Ce}),"function"==typeof SuppressedError&&SuppressedError}},wt=>{wt(wt.s=720)}]);